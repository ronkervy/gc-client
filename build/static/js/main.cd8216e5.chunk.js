(this["webpackJsonpgc-client"]=this["webpackJsonpgc-client"]||[]).push([[0],{232:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(17),c=a.n(r),i=a(86),o=a(16),s=a(278),l=a(6),u=a(20),d=a(18),j=a(15),p=a(273),b=a(107),f=a(274),h=a(275),x=a(267),O=a(268),m=a(276),g=a(238),y=a(296),v=a(12),_=a(265),C={ProgressWrap:{top:0,left:0,display:"flex",position:"fixed",justifyContent:"center",alignItems:"center",zIndex:100,backgroundColor:"rgba(0, 0, 0, 0.9)",height:"730px",width:"100%",transition:"all 300ms linear",borderRadius:"20px"},HeaderWrap:{height:"60px",padding:"20px 0px",borderRadius:"10px",WebkitAppRegion:"drag"}},S=a(2);var k=Object(l.a)(C)((function(e){var t=e.classes;return Object(S.jsx)("div",{className:t.ProgressWrap,children:Object(S.jsx)(_.a,{size:70})})})),P=a(11),w=Object(P.e)({name:"notifications",initialState:{open:!1,message:"",severity:""},reducers:{OpenNotification:function(e,t){var a=t.payload;e.open=!0,e.severity=a.severity,e.message=a.message},CloseNotification:function(e,t){t.payload;e.open=!1,e.severity="",e.message=""}}}),T=w.actions,I=T.OpenNotification,A=T.CloseNotification,W=w.reducer,R=a(9),z=a.n(R),D=a(23),E=a(53),N=a.n(E),B=N.a.create({baseURL:"http://".concat("192.168.1.5",":8081/api/v1"),timeout:1e3}),H=function(e){return new Promise((function(t){return setTimeout(t,e)}))},q=Object(P.b)("cart/CreateTransaction",function(){var e=Object(D.a)(z.a.mark((function e(t,a){var n,r,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,e.prev=1,r=t.values,e.next=5,B({url:"/transactions",method:"POST",data:r});case 5:return c=e.sent,e.next=8,H(2e3);case 8:return e.abrupt("return",c.data);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",n(e.t0.response.data));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()),L=Object(P.d)({selectId:function(e){return e._id}}),M=Object(P.e)({name:"cart",initialState:L.getInitialState({cart:[],loading:!1,error:""}),reducers:{addItem:function(e,t){var a=t.payload,n=e.cart.findIndex((function(e){return e._id===a._id})),r=a._id,c=a.item_name,i=a.item_price,o=a.item_qty;-1!==n?(e.cart[n].qty=parseInt(e.cart[n].qty)+1,e.cart[n].total_per_unit=parseInt(e.cart[n].qty)*i):e.cart.unshift({_id:r,item_name:c,item_price:i,inventory_qty:o,error:!1,qty:1,discount:0,total_per_unit:1*i})},updateQty:function(e,t){var a=t.payload,n=a._id,r=a.qty,c=a.item_price,i=a.inventory_qty,o=e.cart.findIndex((function(e){return e._id===n})),s=NaN===r?0:parseInt(r);-1!==o&&(e.cart[o].qty=s,e.cart[o].total_per_unit=s*c,e.cart[o].error=s>i)},setDiscount:function(e,t){var a=t.payload,n=a._id,r=a.discount,c=a.item_price,i=a.qty,o=e.cart.findIndex((function(e){return e._id===n})),s=r/100,l=c*i;-1!==o&&(e.cart[o].discount=s,e.cart[o].total_per_unit=0!==r?l-l*s:c*i)},removeItem:function(e,t){var a=t.payload,n=e.cart.findIndex((function(e){return e._id===a}));e.cart.splice(n,1)}},extraReducers:function(e){e.addCase(q.pending,(function(e){e.loading=!0})).addCase(q.fulfilled,(function(e,t){t.payload;e.loading=!1,e.cart=[]})).addCase(q.rejected,(function(e,t){var a=t.payload;e.loading=!1,e.error=a}))}}),U=function(e){return e.cart},V=Object(P.c)(U,(function(e){return e.cart})),F=Object(P.c)(U,(function(e){return e.loading})),G=M.actions,Q=G.addItem,K=G.removeItem,J=G.updateQty,Y=G.setDiscount,X=M.reducer,Z=a(10),$=a(295),ee=a(272),te=a(31),ae=a(290);var ne=function(e){var t=e.item,a=Object(v.b)(),r=Object(n.useState)(parseInt(t.item_price)*parseInt(t.qty)),c=Object(u.a)(r,2),i=c[0],o=c[1];return Object(n.useEffect)((function(){o(parseInt(t.item_price)*parseInt(t.qty))}),[t.qty]),Object(n.useEffect)((function(){o(t.total_per_unit)}),[t.total_per_unit]),Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(x.a,{component:ae.a.tr,initial:{y:-100,opacity:0},animate:{y:0,opacity:1},children:[Object(S.jsxs)(O.a,{style:{fontSize:"10px"},children:[Object(S.jsx)(j.a,{color:"grey",icon:d.b}),"\xa0\xa0",t.item_name]}),Object(S.jsx)(O.a,{children:Object(S.jsx)($.a,{error:t.error,variant:"outlined",size:"small",value:t.qty,onChange:function(e){var n=""==e.target.value?0:parseInt(e.target.value);a(J(Object(Z.a)(Object(Z.a)({},t),{},{qty:n})))},inputProps:{style:{textAlign:"center",fontSize:"10px"}},style:{WebkitAppRegion:"no-drag"}})}),Object(S.jsx)(O.a,{children:Object(S.jsx)(te.a,{thousandSeparator:!0,displayType:"text",value:i,style:{fontSize:"10px"},decimalScale:2,decimalSeparator:".",fixedDecimalScale:!0})}),Object(S.jsx)(O.a,{children:Object(S.jsx)($.a,{disabled:t.error,variant:"outlined",size:"small",value:100*t.discount,inputProps:{style:{textAlign:"center",fontSize:"10px",width:"50px"}},onChange:function(e){a(Y(Object(Z.a)(Object(Z.a)({},t),{},{discount:""===e.target.value?0:parseInt(e.target.value)})))},style:{WebkitAppRegion:"no-drag"}})}),Object(S.jsx)(O.a,{children:Object(S.jsx)(ee.a,{color:"secondary",onClick:function(){a(K(t._id))},style:{WebkitAppRegion:"no-drag"},children:Object(S.jsx)(j.a,{icon:d.p})})})]},t._id)})};var re=function(e){var t=Object(v.b)(),a=Object(v.c)(V),r=Object(v.c)((function(e){return e.cart})).loading,c=Object(n.useState)([]),i=Object(u.a)(c,2),s=i[0],l=i[1],_=Object(n.useState)(0),C=Object(u.a)(_,2),P=C[0],w=C[1],T=Object(n.useState)(8),A=Object(u.a)(T,2),W=A[0],R=A[1],z=Object(o.f)();return Object(n.useEffect)((function(){l(a)}),[a]),r?Object(S.jsx)(k,{}):Object(S.jsx)(p.a,{component:b.a,elevation:2,style:{minHeight:"600px",position:"relative"},children:Object(S.jsxs)(f.a,{size:"small",stickyHeader:!0,children:[Object(S.jsx)(h.a,{children:Object(S.jsxs)(x.a,{children:[Object(S.jsx)(O.a,{children:"Name"}),Object(S.jsx)(O.a,{style:{textAlign:"center"},children:"QTY"}),Object(S.jsx)(O.a,{children:"Total"}),Object(S.jsx)(O.a,{children:"Discount"}),Object(S.jsx)(O.a,{children:"Action"})]})}),Object(S.jsx)(m.a,{children:s.slice(P*W,P*W+W).map((function(e){return Object(S.jsx)(ne,{item:e})}))}),Object(S.jsxs)(x.a,{style:{position:"absolute",bottom:"0",left:"0"},children:[Object(S.jsx)(O.a,{colSpan:1,children:Object(S.jsx)(g.a,{variant:"contained",size:"small",style:{backgroundColor:"green",color:"#ffffff",WebkitAppRegion:"no-drag"},startIcon:Object(S.jsx)(j.a,{icon:d.n}),onClick:function(){if(0==s.length)return t(I({message:"Cart is Empty",severity:"error"}));var e=[];if(s.map((function(t){!0===t.error&&e.push(t.error)})),e.length>0)return t(I({message:"Invalid Quantity",severity:"error"}));z.push("/transaction",a)},children:"Checkout"})}),Object(S.jsx)(O.a,{colSpan:4,children:Object(S.jsx)(y.a,{rowsPerPageOptions:[8,16,800],count:s.length,rowsPerPage:W,page:P,onChangePage:function(e,t){w(t)},onChangeRowsPerPage:function(e){R(+e.target.value),w(0)},labelRowsPerPage:!1})})]})]})})},ce=N.a.create({baseURL:"http://".concat("192.168.1.5",":8081/api/v1"),timeout:1e3}),ie=function(e){return new Promise((function(t){return setTimeout(t,e)}))},oe=Object(P.b)("products/selectAllProducts",function(){var e=Object(D.a)(z.a.mark((function e(t,a){var n,r,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,r=t.opt,e.prev=2,e.next=5,ce(Object(Z.a)(Object(Z.a)({},r),{},{method:"GET"}));case 5:return c=e.sent,e.next=8,ie(2e3);case 8:return e.abrupt("return",c.data);case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",n(e.t0.response.data));case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,a){return e.apply(this,arguments)}}()),se=Object(P.b)("products/searchProduct",function(){var e=Object(D.a)(z.a.mark((function e(t,a){var n,r,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,e.prev=1,r=t.opt,t.value,e.next=5,ce(Object(Z.a)(Object(Z.a)({},r),{},{method:"GET"}));case 5:return c=e.sent,e.next=8,ie(2e3);case 8:return e.abrupt("return",c.data);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",n(e.t0.response.data));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()),le=Object(P.b)("products/selectSingleProduct",function(){var e=Object(D.a)(z.a.mark((function e(t,a){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,e.prev=1,e.next=4,ce({method:"GET",url:"/products/"+t});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",n(e.t0.response.data));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()),ue=(Object(P.b)("products/createTransaction",function(){var e=Object(D.a)(z.a.mark((function e(t,a){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,e.prev=1,e.next=4,ce({method:"POST",url:"/products",data:t});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",n(e.t0.response.data));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()),Object(P.d)({selectId:function(e){return e._id},sortComparer:function(e){return e.createdAt}})),de=Object(P.e)({name:"products",initialState:ue.getInitialState({loading:!0,selectedProd:[],error:null}),reducers:{},extraReducers:function(e){e.addCase(oe.pending,(function(e){e.loading=!0})).addCase(oe.fulfilled,(function(e,t){var a=t.payload;e.loading=!1,ue.setAll(e,a)})).addCase(oe.rejected,(function(e,t){var a=t.payload;e.loading=!1,e.error=a})).addCase(se.pending,(function(e){e.loading=!0})).addCase(se.fulfilled,(function(e,t){var a=t.payload;e.loading=!1,ue.setAll(e,a)})).addCase(se.rejected,(function(e,t){var a=t.payload;e.loading=!1,e.error=a})).addCase(le.pending,(function(e,t){t.payload;e.loading=!0})).addCase(le.fulfilled,(function(e,t){var a=t.payload;e.loading=!1,ue.addOne(e,a)})).addCase(le.rejected,(function(e,t){var a=t.payload;e.loading=!1,e.error=a}))}}),je=Object(P.c)((function(e){return e.products}),(function(e){return e.loading})),pe=ue.getSelectors((function(e){return e.products})),be=de.reducer;var fe=function(e){var t=e.item,a=Object(v.b)();return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(x.a,{hover:!0,style:{cursor:"pointer"},children:[Object(S.jsxs)(O.a,{style:{fontSize:"10px"},children:[Object(S.jsx)(j.a,{color:"grey",icon:d.a}),"\xa0\xa0",t.item_name]}),Object(S.jsx)(O.a,{style:{fontSize:"10px"},children:t.item_qty}),Object(S.jsx)(O.a,{style:{fontSize:"10px"},children:t.item_price}),Object(S.jsx)(O.a,{children:Object(S.jsx)(ee.a,{color:"primary",onClick:function(){a(Q(t))},style:{WebkitAppRegion:"no-drag"},children:Object(S.jsx)(j.a,{icon:d.k})})})]},t._id)})},he=a(66);var xe=function(){var e=Object(v.b)(),t=Object(v.c)(pe.selectAll),a=Object(v.c)(je),r=Object(n.useState)(0),c=Object(u.a)(r,2),i=c[0],o=c[1],s=Object(n.useState)(8),l=Object(u.a)(s,2),d=l[0],j=l[1],g=Object(he.io)("http://".concat("192.168.1.5",":8081"));return Object(n.useEffect)((function(){g.on("connect",(function(){0==t.length&&e(oe({opt:{url:"/products"}}))})),e(oe({opt:{url:"/products"}}))}),[]),a?Object(S.jsx)(k,{}):Object(S.jsx)("div",{children:Object(S.jsx)(p.a,{component:b.a,style:{minHeight:"600px",position:"relative"},children:Object(S.jsxs)(f.a,{size:"small",stickyHeader:!0,"aria-label":"sticky table",children:[Object(S.jsx)(h.a,{children:Object(S.jsxs)(x.a,{children:[Object(S.jsx)(O.a,{children:"Name"}),Object(S.jsx)(O.a,{children:"QTY"}),Object(S.jsx)(O.a,{children:"Price"}),Object(S.jsx)(O.a,{children:"Action"})]})}),Object(S.jsx)(m.a,{children:t.slice(i*d,i*d+d).map((function(e){return Object(S.jsx)(fe,{item:e})}))}),Object(S.jsx)(x.a,{style:{position:"absolute",bottom:"0",left:"0"},children:Object(S.jsx)(O.a,{colSpan:4,children:Object(S.jsx)(y.a,{rowsPerPageOptions:[8,16,800],count:t.length,rowsPerPage:d,page:i,onChangePage:function(e,t){o(t)},onChangeRowsPerPage:function(e){j(+e.target.value),o(0)}})})})]})})})},Oe={Dashboard:{height:"90%"},infoBlock:{height:"50px",borderRadius:"10px",background:"#fff"},ContentBlock:{height:"90%",borderRadius:"10px",padding:"20px"}};var me=Object(l.a)(Oe)((function(e){var t=e.classes,a=t.ContentBlock,n=t.Dashboard;return t.infoBlock,Object(S.jsxs)(s.a,{container:!0,className:n,spacing:2,children:[Object(S.jsx)(s.a,{direction:"column",item:!0,container:!0,lg:6,sm:6,children:Object(S.jsx)(re,{})}),Object(S.jsx)(s.a,{item:!0,lg:6,sm:6,className:a,children:Object(S.jsx)(xe,{})})]})})),ge={"@global":{body:{height:"100%",margin:"0px","& #root":{height:"100%"},overflow:"hidden",position:"relative"},html:{height:"95%",margin:"0px",padding:"20px"}},root:{height:"100%",background:"#EBEBF7",padding:"20px",borderRadius:"20px",position:"relative"},ContainerWrap:{height:"auto",padding:"20px 0px 0px 0px !important",position:"relative"}},ye=a(297),ve=a(294);var _e=function(e){var t=e.handleCloseToast,a=Object(v.c)((function(e){return e.notifications})),n=a.message,r=a.severity,c=a.open;return Object(S.jsx)(ye.a,{open:c,autoHideDuration:4e3,onClose:t,anchorOrigin:{vertical:"bottom",horizontal:"right"},style:{bottom:"50px",right:"50px",WebkitAppRegion:"no-drag"},children:Object(S.jsx)(ve.a,{elevation:6,variant:"filled",onClose:t,severity:r,children:n})})},Ce=a(279),Se=a(280),ke=a(281),Pe=a(277),we=a(283),Te=a(282),Ie=Object(n.forwardRef)((function(e,t){return Object(S.jsx)(Ce.a,Object(Z.a)({direction:"up",ref:t},e))}));var Ae=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),r=a[0],c=a[1],i=Object(o.f)();Object(n.useEffect)((function(){c(!0)}),[]);var l=function(){i.goBack(),c(!1)};return Object(S.jsxs)(Se.a,{open:r,onClose:l,TransitionComponent:Ie,fullScreen:!0,children:[Object(S.jsx)(ke.a,{style:{WebkitAppRegion:"no-drag",backgroundColor:"white"},children:Object(S.jsx)(Pe.a,{children:Object(S.jsx)(ee.a,{edge:"start",color:"secondary",onClick:l,children:Object(S.jsx)(Te.a,{})})})}),Object(S.jsx)(we.a,{maxWidth:"lg sm",children:Object(S.jsx)(s.a,{container:!0,children:"TEST"})})]})},We=a(140),Re=a(148),ze=a(240),De=a(146),Ee=a(239),Ne=a(284),Be=a(299),He=a(285),qe={TransactionModal:{display:"flex",alignItems:"center",justifyContent:"center",WebkitAppRegion:"no-drag"},ModalContent:{borderRadius:"10px",padding:"20px",width:"400px",height:"400px",backgroundColor:"#ffffff",outline:"none",position:"relative"},SuccessPageModal:{position:"relative",display:"flex",flexDirection:"column",height:"100%",alignItems:"center",justifyContent:"center",outline:"none",WebkitAppRegion:"no-drag"}},Le=N.a.create({baseURL:"http://".concat("192.168.1.5",":8081/api/v1"),timeout:12e4}),Me=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Ue=Object(P.b)("transactions/getAllTransaction",function(){var e=Object(D.a)(z.a.mark((function e(t,a){var n,r,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,r=t.opt,e.prev=2,e.next=5,Le(Object(Z.a)(Object(Z.a)({},r),{},{method:"GET"}));case 5:return c=e.sent,e.next=8,Me(2e3);case 8:return e.abrupt("return",c.data);case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",n(e.t0));case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,a){return e.apply(this,arguments)}}()),Ve=(Object(P.b)("transactions/getSingleTransaction",function(){var e=Object(D.a)(z.a.mark((function e(t,a){var n,r,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,r=t.opt,e.prev=2,e.next=5,Le(Object(Z.a)(Object(Z.a)({},r),{},{method:"GET"}));case 5:return c=e.sent,e.next=8,Me(2e3);case 8:return e.abrupt("return",c.data);case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",n(e.t0));case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,a){return e.apply(this,arguments)}}()),Object(P.b)("transactions/createTransaction",function(){var e=Object(D.a)(z.a.mark((function e(t,a){var n,r,c,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,r=t.opt,c=t.values,e.prev=2,e.next=5,Le(Object(Z.a)(Object(Z.a)({},r),{},{method:"POST",data:c}));case 5:return i=e.sent,e.next=8,Me(2e3);case 8:return e.abrupt("return",i.data);case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",n(e.t0));case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,a){return e.apply(this,arguments)}}())),Fe=Object(P.b)("transactions/findTransaction",function(){var e=Object(D.a)(z.a.mark((function e(t,a){var n,r,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,e.prev=1,r=t.opt,e.next=5,Le(Object(Z.a)(Object(Z.a)({},r),{},{method:"GET"}));case 5:return c=e.sent,e.next=8,Me(2e3);case 8:return e.abrupt("return",c.data);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",n(e.t0.response.data));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()),Ge=Object(P.b)("transactions/getDocDef",function(){var e=Object(D.a)(z.a.mark((function e(t,a){var n,r,c,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,e.prev=1,r=t.opt,e.next=5,Le(Object(Z.a)(Object(Z.a)({},r),{},{method:"GET",responseType:"blob",headers:{Accept:"application/pdf","Content-Type":"application/pdf",mode:"no-cors"}}));case 5:return c=e.sent,i=window.URL.createObjectURL(c.data),e.abrupt("return",i);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",n(e.t0.response.data));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()),Qe=Object(P.b)("transactions/updateTransaction",function(){var e=Object(D.a)(z.a.mark((function e(t,a){var n,r,c,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,e.prev=1,r=t.opt,c=t.value,e.next=5,Le(Object(Z.a)(Object(Z.a)({},r),{},{method:"PATCH",data:c}));case 5:return i=e.sent,e.next=8,Me(2e3);case 8:return e.abrupt("return",i.data);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",n(e.t0.response.data));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()),Ke=Object(P.b)("transactions/deleteTransaction",function(){var e=Object(D.a)(z.a.mark((function e(t,a){var n,r,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,e.prev=1,r=t.opt,e.next=5,Le(Object(Z.a)(Object(Z.a)({},r),{},{method:"DELETE"}));case 5:return c=e.sent,e.next=8,Me(2e3);case 8:return e.abrupt("return",c.data);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",n(e.t0.response.data));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()),Je=N.a.create({baseURL:"http://".concat("192.168.1.5",":8081/api/v1/gc-print"),timeout:1e3}),Ye=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Xe=Object(P.b)("report/CreateTransactionReport",function(){var e=Object(D.a)(z.a.mark((function e(t,a){var n,r,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,e.prev=1,r=t.url,e.next=5,Je({url:r,method:"GET"});case 5:return c=e.sent,e.next=8,Ye(2e3);case 8:return e.next=10,c.data;case 10:return e.abrupt("return",e.sent);case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",n(e.t0.response.data));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,a){return e.apply(this,arguments)}}()),Ze=a(70),$e=a.n(Ze),et=a(95),tt=a.n(et),at=a(143),nt=function(e,t){console.log(e);var a="TEST DATE";return{pageSize:{width:684,height:396},pageMargins:[40,50,40,60],header:function(e){if(1===e)return{columns:[{image:"data:image/png;base64,".concat(t),width:40,height:40,margin:[20,3,0,0]},{stack:[{text:"Glorious Cocolumber \n",style:"header"},{text:"and Construction Supply",style:"subheader"}],margin:[20,12]},{text:"4024 Old National Highway\nBrgy. San Antonio Bi\xf1an, Laguna\nCalabarzon, Philippines",alignment:"right",margin:[0,12,20,12],fontSize:8}],margin:[20,8],width:"*"}},footer:function(e,t){if(e===t)return{columns:[{text:"\n_________________________ \n \n Prepared By",alignment:"left",fontSize:9},{text:"\n_________________________ \n \n Signiture over printed name",fontSize:9},{text:[{text:"Php. ".concat(parseFloat("TOTAL").toFixed(2),"\n"),alignment:"center"},"_________________________ \n \n",{text:"Total Amount Purchased",alignment:"center"}],alignment:"center",fontSize:9}],margin:[40,10,40,0],width:"*"}},content:[{stack:[{columns:[{text:["Customer Name : ",{text:"".concat("TEST"),color:"maroon",italics:!0}],bold:!0,fontSize:11,margin:[0,5,0,0]},{text:["Transaction Date : ",{text:"".concat("TEST DATE"),color:"maroon",italics:!0}],bold:!0,fontSize:11,alignment:"right",margin:[0,5,0,0]}]},{columns:[{text:["Payment Type : ",{text:"".concat(a),color:"maroon",italics:!0}],bold:!0,fontSize:11,margin:[0,5,0,10]}]},{layout:{hLineWidth:function(e,t){return 0===e||e===t.table.body.length?1:0},hLineHeight:function(e,t){return 1===e?0:1},paddingBottom:function(e,t,a){if(e===t.table.body.length-1){var n=t.positions[t.positions.length-1],r=n.pageInnerHeight-n.top;return r<0?2:r}return 2}},table:{dontBreakRows:!1,headerRows:1,widths:["*","*",40,50,"*","*"],body:[[{text:"Item Name",style:"tableHeader"},{text:"Supplier",style:"tableHeader"},{text:"Quantity",style:"tableHeader"},{text:"Price",style:"tableHeader"},{text:"Total Qty Price",style:"tableHeader"},{text:"Discount",style:"tableHeader"}]].concat(Object(at.a)(e))}}],margin:[0,20,0,0]}],styles:{header:{bold:!0},subheader:{fontSize:9},tableHeader:{fontSize:10,color:"white",fillColor:"grey",alignment:"center",margin:[0,6],border:[!0,!1,!0,!1]},tableItems:{alignment:"center",margin:[0,6],fontSize:9}},defaultStyle:{font:"Roboto",columnGap:5}}};var rt=Object(l.a)(qe)((function(e){var t=Object(v.b)(),a=Object(v.c)(F),r=Object(o.g)().state,c=Object(n.useState)(!1),i=Object(u.a)(c,2),l=i[0],p=i[1],b=Object(o.f)(),f=e.classes,h=f.TransactionModal,x=f.ModalContent,O=Object(n.useState)(0),m=Object(u.a)(O,2),y=m[0],_=m[1],C=Object(n.useState)({customer_name:"",transact_payment_type:"full",cash_amount:0,transact_status:!0}),P=Object(u.a)(C,2),w=P[0],T=P[1],A=function(){var e=Object(D.a)(z.a.mark((function e(a){var n,r,c,i,o,s,l,u;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===a.payload){e.next=8;break}return n=a.payload.transact_id,e.next=4,t(Xe({url:"/transactions/"+n}));case 4:r=e.sent,Ge.fulfilled.match(r)?(c=r.payload,i=c.doc,o=c.logo,(s=JSON.parse(i)).length>0?(l="",$e.a.vfs=tt.a.pdfMake.vfs,u=nt(s,o),$e.a.createPdf(u).getBlob((function(e){Object(We.a)("url"),l=window.URL.createObjectURL(e)})),b.push("/transaction/success?pdf="+l+"&page=transaction")):t(I({message:"No Transaction has been made.",severity:"error"}))):t(I({message:"Transaction Failed, Pls try again.",severity:"error"})),e.next=9;break;case 8:b.goBack();case 9:p(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){p(!0),r.map((function(e){var t=e.total_per_unit;_((function(e){return e+t}))}))}),[]),a?Object(S.jsx)(k,{}):Object(S.jsx)(Re.a,{open:l,onClose:A,BackdropComponent:ze.a,BackdropProps:{timeout:500,style:{borderRadius:"20px",height:"730px"}},className:h,children:Object(S.jsx)(De.a,{in:l,children:Object(S.jsx)("div",{className:x,children:Object(S.jsxs)(s.a,{container:!0,spacing:2,children:[Object(S.jsx)(s.a,{item:!0,lg:12,sm:12,children:Object(S.jsxs)(Ee.a,{variant:"h6",children:["Total Number of Order :\xa0",Object(S.jsx)(te.a,{displayType:"text",value:r.length,customInput:$.a,fullWidth:!0,size:"small",variant:"outlined",label:"Total",InputProps:{startAdornment:Object(S.jsx)(Ne.a,{position:"start",children:Object(S.jsx)(j.a,{icon:d.e})})}})]})}),Object(S.jsx)(s.a,{item:!0,lg:12,sm:12,children:Object(S.jsxs)(Ee.a,{variant:"h6",children:["Total Price :\xa0",Object(S.jsx)(te.a,{displayType:"text",value:y,customInput:$.a,fixedDecimalScale:!0,decimalScale:2,thousandSeparator:!0,decimalSeparator:".",prefix:"Php ",fullWidth:!0,size:"small",variant:"outlined",label:"Total",InputProps:{startAdornment:Object(S.jsx)(Ne.a,{position:"start",children:Object(S.jsx)(j.a,{icon:d.e})})}})]})}),Object(S.jsx)(s.a,{item:!0,lg:12,sm:12,children:Object(S.jsxs)(Ee.a,{variant:"h6",children:["Cash Change :\xa0",Object(S.jsx)(te.a,{displayType:"text",value:0==w.cash_amount?0:w.cash_amount-y,customInput:$.a,fixedDecimalScale:!0,decimalScale:2,thousandSeparator:!0,decimalSeparator:".",fullWidth:!0,size:"small",variant:"outlined",label:"Total",InputProps:{startAdornment:Object(S.jsx)(Ne.a,{position:"start",children:Object(S.jsx)(j.a,{icon:d.e})})}})]})}),Object(S.jsx)(s.a,{item:!0,lg:12,sm:12,children:Object(S.jsx)($.a,{fullWidth:!0,variant:"outlined",value:w.customer_name,onChange:function(e){T((function(t){return Object(Z.a)(Object(Z.a)({},t),{},{customer_name:e.target.value})}))},label:"Customer Name",InputProps:{startAdornment:Object(S.jsx)(Ne.a,{position:"start",children:Object(S.jsx)(j.a,{icon:d.q})})}})}),Object(S.jsx)(s.a,{item:!0,lg:12,sm:12,children:Object(S.jsx)(te.a,{error:"full"==w.transact_payment_type&&w.cash_amount<y||0==w.cash_amount&&"partial"==w.transact_payment_type,label:"Cash Amount",fullWidth:!0,variant:"outlined",customInput:$.a,value:w.cash_amount,decimalScale:2,decimalSeparator:".",fixedDecimalScale:!0,InputProps:{startAdornment:Object(S.jsx)(Ne.a,{position:"start",children:Object(S.jsx)(j.a,{icon:d.h})})},onChange:function(e){var t=e.target.value;T((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{cash_amount:t})}))}})}),Object(S.jsx)(s.a,{item:!0,lg:12,sm:12,children:Object(S.jsxs)($.a,{fullWidth:!0,variant:"outlined",select:!0,label:"Payment Type",value:w.transaction_payment_type,onChange:function(e){var t=e.target.value;T((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{transact_payment_type:t})}))},children:[Object(S.jsx)(Be.a,{value:"full",children:"Full Payment"}),Object(S.jsx)(Be.a,{value:"partial",children:"Partial Payment"})]})}),Object(S.jsx)(s.a,{item:!0,lg:12,sm:12,style:{position:"absolute",bottom:"0",left:"0"},children:Object(S.jsxs)(He.a,{variant:"outlined",color:"primary","aria-label":"contained primary button group",children:[Object(S.jsx)(g.a,{fullWidth:!0,startIcon:Object(S.jsx)(j.a,{color:"green",icon:d.i}),onClick:Object(D.a)(z.a.mark((function e(){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=w.customer_name){e.next=2;break}return e.abrupt("return");case 2:if(0!==w.cash_amount){e.next=4;break}return e.abrupt("return");case 4:if(!("full"==w.transact_payment_type&&w.cash_amount<y)){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,t(q({values:r.map((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{customer_name:w.customer_name,total_amount:y,cash_amount:w.cash_amount,change_amount:w.cash_amount-y,transact_payment_type:w.transact_payment_type,transact_status:"full"===w.transact_payment_type})}))}));case 8:a=e.sent,q.fulfilled.match(a)?A(a):q.rejected.match(a)&&t(I({message:"Error : "+a.payload,severity:"error"}));case 10:case"end":return e.stop()}}),e)}))),children:"Process Order"}),Object(S.jsx)(g.a,{onClick:A,children:"Cancel"})]})})]})})})})})),ct=a(292),it=a(286),ot=a(287),st=Object(P.e)({name:"connection",initialState:{isConnected:!1},reducers:{setConnection:function(e,t){var a=t.payload;e.isConnected=a}}}),lt=st.actions.setConnection,ut=st.reducer;var dt=Object(l.a)(C)((function(e){var t=window.require("electron").ipcRenderer,a=e.searchRef,r=e.classes.HeaderWrap,c=Object(he.io)("http://".concat("192.168.1.5",":8081")),i=Object(v.b)(),l=Object(v.c)((function(e){return e.connection})).isConnected,u=Object(o.f)();return Object(n.useEffect)((function(){c.on("connect",(function(){i(lt(c.connected))})),c.on("disconnect",(function(){i(lt(c.connected))}))}),[]),Object(S.jsxs)(s.a,{item:!0,container:!0,lg:12,sm:12,className:r,component:b.a,elevation:2,style:{display:"flex !important",flexDirection:"row",justifyContent:"space-between"},children:[Object(S.jsxs)(ct.a,{style:{WebkitAppRegion:"no-drag",height:"40px",alignSelf:"center",display:"flex"},children:[Object(S.jsx)($.a,{size:"small",margin:"none",variant:"outlined",label:"Search Product",inputRef:a,InputProps:{startAdornment:Object(S.jsx)(Ne.a,{position:"start",children:Object(S.jsx)(j.a,{icon:d.m})})},onKeyPress:function(e){"Enter"===e.key&&i(se({opt:{url:"/products/search/"+e.target.value}}))}}),Object(S.jsx)(it.a,{style:{margin:"0px 10px"},variant:"fullWidth",orientation:"vertical",flexItem:!0}),Object(S.jsx)(ct.a,{style:{WebkitAppRegion:"no-drag",height:"40px",display:"flex",alignItems:"center"},children:Object(S.jsx)(ee.a,{size:"small",onClick:function(){i(oe({opt:{url:"/products"}}))},children:Object(S.jsx)(j.a,{color:"blue",icon:d.o})})}),Object(S.jsx)(it.a,{style:{margin:"0px 10px"},variant:"fullWidth",orientation:"vertical",flexItem:!0}),Object(S.jsx)(ct.a,{style:{WebkitAppRegion:"no-drag",height:"40px",display:"flex",alignItems:"center",justifySelf:"flex-end"},children:Object(S.jsx)(g.a,{variant:"outlined",startIcon:Object(S.jsx)(j.a,{color:"green",icon:d.g}),size:"small",onClick:function(){u.push("/translist")},children:"Transactions"})}),Object(S.jsx)(it.a,{style:{margin:"0px 10px"},variant:"fullWidth",orientation:"vertical",flexItem:!0}),Object(S.jsxs)(ct.a,{style:{WebkitAppRegion:"no-drag",height:"40px",display:"flex",alignItems:"center",justifySelf:"flex-end"},children:[Object(S.jsx)(j.a,{icon:d.d,color:l?"green":"red"}),Object(S.jsxs)(Ee.a,{variant:"caption",children:["\xa0",l?"Connected to Server":"Disconnected"]})]})]}),Object(S.jsxs)(ct.a,{style:{WebkitAppRegion:"no-drag",alignSelf:"center"},children:[Object(S.jsx)(ee.a,{size:"small",component:ae.a.div,whileHover:{scale:1.1},onClick:function(){t.invoke("min")},children:Object(S.jsx)(ot.a,{color:"primary"})}),Object(S.jsx)(ee.a,{size:"small",component:ae.a.div,whileHover:{scale:1.1},onClick:function(){t.invoke("close")},children:Object(S.jsx)(Te.a,{color:"secondary"})}),"\xa0\xa0"]})]})})),jt=a(288),pt=a(26),bt=a(291),ft=a(142),ht=Object(jt.a)((function(e){return{Modal:{display:"flex",alignItems:"center",justifyContent:"center"},ModalContent:{width:"450px",height:"auto",borderRadius:"5px",background:"#ffffff",outline:"none",padding:"25px"}}})),xt=function(e){var t=e.data,a=e.fn,r=Object(v.b)(),c=Object(n.useState)({partial_payments:0}),i=Object(u.a)(c,2),l=i[0],p=i[1],b=Object(o.f)();return Object(S.jsxs)(s.a,{item:!0,container:!0,lg:12,sm:12,spacing:2,children:["partial"===t.payment_type?Object(S.jsx)(s.a,{item:!0,lg:6,sm:6,children:Object(S.jsx)(te.a,{customInput:$.a,fixedDecimalScale:!0,decimalScale:2,thousandSeparator:!0,size:"small",fullWidth:!0,label:"Amount",margin:"dense",variant:"outlined",onChange:function(e){p((function(t){return Object(Z.a)(Object(Z.a)({},t),{},{partial_payments:parseInt(e.target.value)})}))},InputProps:{style:{color:"partial"==t.payment_type?"maroon":"green"},startAdornment:Object(S.jsx)(Ne.a,{position:"start",children:Object(S.jsx)(j.a,{icon:d.j})})}})}):Object(S.jsx)("div",{}),Object(S.jsx)(s.a,{item:!0,lg:6,sm:6,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(S.jsxs)(He.a,{variant:"contained",children:["partial"===t.payment_type?Object(S.jsx)(g.a,{size:"small",color:"secondary",style:{background:"green"},onClick:Object(D.a)(z.a.mark((function e(){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(Qe({opt:{url:"/transactions/"+t._id},value:l}));case 2:a=e.sent,Qe.fulfilled.match(a)?r(I({message:"Transaction Updated",severity:"success"})):r(I({message:"Transaction Update Failed",severity:"error"}));case 4:case"end":return e.stop()}}),e)}))),startIcon:Object(S.jsx)(j.a,{icon:Object(S.jsx)(Te.a,{})}),children:"Pay"}):Object(S.jsx)(g.a,{size:"small",disabled:!0,children:"Paid"}),Object(S.jsx)(g.a,{size:"small",color:"primary",onClick:Object(D.a)(z.a.mark((function e(){var a,n,c,i,o,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(Xe({url:"/transactions/"+t._id}));case 2:a=e.sent,Xe.fulfilled.match(a)?(n=a.payload,c=n.doc,i=n.logo,o=JSON.parse(c),console.log("PDF : ",o),o.length>0&&($e.a.vfs=tt.a.pdfMake.vfs,s=nt(o,i),$e.a.createPdf(s).getBlob((function(e){console.log(e);var t=window.URL.createObjectURL(e);b.push("/transaction/success?pdf="+t)})))):r(I({message:"Cannot Print Transaction, please try again.",severity:"error"}));case 4:case"end":return e.stop()}}),e)}))),startIcon:Object(S.jsx)(j.a,{icon:d.l}),children:"Print"}),Object(S.jsx)(g.a,{size:"small",color:"secondary",onClick:a,startIcon:Object(S.jsx)(j.a,{icon:Object(S.jsx)(Te.a,{})}),children:"Cancel"})]})})]})};var Ot=function(e){var t=e.inOpen,a=e.onClose,n=e.data,r=Object(v.c)((function(e){return e.transactions})).loading,c=ht();return r?Object(S.jsx)(k,{}):Object(S.jsx)(Re.a,{open:t,onClose:a,BackdropComponent:ze.a,BackdropProps:{timeout:500},className:c.Modal,children:Object(S.jsx)(De.a,{in:t,children:Object(S.jsx)("div",{className:c.ModalContent,children:Object(S.jsxs)(s.a,{container:!0,spacing:2,children:[Object(S.jsx)(s.a,{item:!0,lg:12,sm:12,children:Object(S.jsx)($.a,{size:"small",fullWidth:!0,disabled:!0,label:"Transaction ID",value:n._id,variant:"outlined",InputProps:{startAdornment:Object(S.jsx)(Ne.a,{position:"start",children:Object(S.jsx)(j.a,{icon:d.f})})}})}),Object(S.jsx)(s.a,{item:!0,lg:12,sm:12,children:Object(S.jsx)($.a,{size:"small",fullWidth:!0,disabled:!0,label:"Customer",value:n.customer_name,variant:"outlined",InputProps:{startAdornment:Object(S.jsx)(Ne.a,{position:"start",children:Object(S.jsx)(j.a,{icon:d.q})})}})}),Object(S.jsx)(s.a,{item:!0,lg:4,sm:4,children:Object(S.jsx)($.a,{size:"small",fullWidth:!0,label:"Item in cart",value:n.cart_count,variant:"outlined",InputProps:{startAdornment:Object(S.jsx)(Ne.a,{position:"start",children:Object(S.jsx)(j.a,{icon:d.b})})}})}),Object(S.jsx)(s.a,{item:!0,lg:8,sm:8,children:Object(S.jsx)($.a,{size:"small",disabled:"full"===n.payment_type,fullWidth:!0,label:"Transaction Date",value:new Date(n.transaction_date).toISOString().split("T")[0],variant:"outlined",InputProps:{startAdornment:Object(S.jsx)(Ne.a,{position:"start",children:Object(S.jsx)(j.a,{icon:d.c})})}})}),Object(S.jsx)(s.a,{item:!0,lg:5,sm:5,children:Object(S.jsx)($.a,{size:"small",fullWidth:!0,label:"Payment Type",value:n.payment_type,variant:"outlined",InputProps:{style:{color:"partial"==n.payment_type?"maroon":"green"},startAdornment:Object(S.jsx)(Ne.a,{position:"start",children:Object(S.jsx)(j.a,{icon:d.j})})}})}),Object(S.jsx)(s.a,{item:!0,lg:7,sm:7,children:Object(S.jsx)(te.a,{customInput:$.a,fixedDecimalScale:!0,disabled:"full"===n.payment_type,decimalScale:2,thousandSeparator:!0,allowNegative:!1,prefix:"Php ",size:"small",fullWidth:!0,label:"partial"==n.payment_type?"Remaining Balance":"Change Amount",value:n.change_amount,variant:"outlined",InputProps:{style:{color:"partial"==n.payment_type?"maroon":"green"},startAdornment:Object(S.jsx)(Ne.a,{position:"start",children:Object(S.jsx)(j.a,{icon:d.j})})}})}),Object(S.jsx)(xt,{fn:a,data:n})]})})})})};var mt=function(e){var t=e.transaction,a=Object(n.useState)(!1),r=Object(u.a)(a,2),c=r[0],i=r[1];return Object(S.jsxs)(x.a,{hover:!0,onDoubleClick:function(){i(!0)},style:{background:"partial"==t.payment_type?"#fafafa":"",cursor:"pointer",userSelect:"none"},children:[Object(S.jsx)(O.a,{children:t.customer_name}),Object(S.jsx)(O.a,{style:{textAlign:"center"},children:t.cart_count}),Object(S.jsx)(O.a,{style:{textAlign:"center"},children:t.transaction_date.split("T")[0]}),Object(S.jsx)(O.a,{style:{textAlign:"center"},children:t.payment_type}),Object(S.jsx)(O.a,{style:{textAlign:"center"},children:Object(S.jsx)(te.a,{displayType:"text",value:t.cash_amount,fixedDecimalScale:!0,decimalScale:2,thousandSeparator:!0,prefix:"Php "})}),Object(S.jsx)(O.a,{style:{textAlign:"center"},children:Object(S.jsx)(te.a,{displayType:"text",value:t.total_price,fixedDecimalScale:!0,decimalScale:2,thousandSeparator:!0,prefix:"Php "})}),Object(S.jsx)(O.a,{style:{textAlign:"center"},children:Object(S.jsx)(te.a,{displayType:"text",value:t.change_amount,allowNegative:!1,fixedDecimalScale:!0,decimalScale:2,thousandSeparator:!0,prefix:"Php "})}),Object(S.jsx)(Ot,{data:t,inOpen:c,onClose:function(){i(!1)}})]},t._id)},gt=Object(jt.a)((function(e){return{appBar:{position:"relative",background:"#ffffff"}}})),yt=Object(n.forwardRef)((function(e,t){return Object(S.jsx)(Ce.a,Object(Z.a)({direction:"up",ref:t},e))}));var vt=function(e){var t=gt(),a=Object(o.f)(),r=Object(v.b)(),c=Object(v.c)((function(e){return e.transactions})).entities,i=Object(v.c)((function(e){return e.transactions})).loading,l=Object(n.useState)(!1),g=Object(u.a)(l,2),_=g[0],C=g[1],P=Object(n.useState)(0),w=Object(u.a)(P,2),T=w[0],I=w[1],A=Object(n.useState)(8),W=Object(u.a)(A,2),R=W[0],z=W[1],D=Object(n.useState)(""),E=Object(u.a)(D,2),N=E[0],B=E[1],H=function(){C(!1),a.goBack()};Object(n.useEffect)((function(){C(!0),r(Ue({opt:{url:"/transactions"}}))}),[]);var q=Object(n.useState)(new Date(Date.now()).toLocaleDateString()),L=Object(u.a)(q,2),M=L[0],U=L[1];return i?Object(S.jsx)(k,{}):Object(S.jsx)(pt.a,{utils:ft.a,children:Object(S.jsxs)(Se.a,{fullScreen:!0,open:_,onClose:H,TransitionComponent:yt,style:{WebkitAppRegion:"no-drag"},children:[Object(S.jsx)(ke.a,{className:t.appBar,children:Object(S.jsxs)(Pe.a,{style:{justifyContent:"space-between"},children:[Object(S.jsx)($.a,{size:"small",variant:"outlined",label:"Search",InputProps:{startAdornment:Object(S.jsx)(Ne.a,{position:"start",children:Object(S.jsx)(j.a,{icon:d.m})})},style:{flexBasis:"220px",flex:2,marginRight:"10px"},onKeyDown:function(e){B(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&r(Fe({opt:{url:"/search/transactions?s=".concat(N)}}))}}),Object(S.jsx)(bt.a,{disableToolbar:!0,variant:"inline",format:"yyyy-dd-MM",size:"small",margin:"dense",id:"date-picker-inline",label:"Filter Date",value:M,onChange:function(e){U(new Date(e));var t=new Date(e);r(Fe({opt:{url:"/search/transactions?date=".concat(t)}}))},KeyboardButtonProps:{"aria-label":"change date"},style:{alignSelf:"flex-start",flex:1}}),Object(S.jsx)(ee.a,{focusRipple:!1,style:{margin:"0px 8px"},size:"small",onClick:H,children:Object(S.jsx)(Te.a,{color:"secondary"})})]})}),Object(S.jsx)(s.a,{container:!0,children:Object(S.jsx)(s.a,{item:!0,lg:12,sm:12,style:{padding:"30px"},children:Object(S.jsx)(p.a,{component:b.a,elevation:2,children:Object(S.jsxs)(f.a,{stickyHeader:!0,size:"medium",children:[Object(S.jsx)(h.a,{children:Object(S.jsxs)(x.a,{children:[Object(S.jsx)(O.a,{style:{fontWeight:600},children:"Customer Name"}),Object(S.jsx)(O.a,{style:{fontWeight:600,textAlign:"center"},children:"In cart"}),Object(S.jsx)(O.a,{style:{fontWeight:600,textAlign:"center"},children:"Transaction date"}),Object(S.jsx)(O.a,{style:{fontWeight:600,textAlign:"center"},children:"Payment Type"}),Object(S.jsx)(O.a,{style:{fontWeight:600,textAlign:"center"},children:"Cash Amount"}),Object(S.jsx)(O.a,{style:{fontWeight:600,textAlign:"center"},children:"Total"}),Object(S.jsx)(O.a,{style:{fontWeight:600,textAlign:"center"},children:"Change"})]})}),Object(S.jsx)(m.a,{children:c.map((function(e){return Object(S.jsx)(mt,{transaction:e})}))}),Object(S.jsx)(y.a,{rowsPerPageOptions:[8,16,800],count:c.length,rowsPerPage:R,page:T,onChangePage:function(e,t){I(t)},onChangeRowsPerPage:function(e){z(+e.target.value),I(0)},labelRowsPerPage:!1})]})})})})]})})},_t=a(289),Ct=a(234);var St=Object(Ct.a)(qe)((function(e){var t=Object(o.f)(),a=Object(n.useState)(!1),r=Object(u.a)(a,2),c=r[0],i=r[1],s=Object(v.c)((function(e){return e.transactions})).loading,l=Object(v.c)((function(e){return e.report})).loading,d=new URLSearchParams(Object(o.g)().search),j=d.get("pdf"),p=d.get("page"),b=e.classes,f=function(){"transaction"===p?t.goBack():t.push("/"),i(!1)};return Object(n.useEffect)((function(){i(!0)}),[]),s||l?Object(S.jsx)(k,{}):Object(S.jsx)(Re.a,{open:c,onClose:f,BackdropComponent:ze.a,BackdropProps:{timeout:500},children:Object(S.jsx)(De.a,{in:c,children:Object(S.jsxs)("div",{className:b.SuccessPageModal,children:[Object(S.jsx)(_t.a,{size:"small",variant:"round",onClick:f,style:{position:"absolute",left:15,top:8,WebkitAppRegion:"no-drag"},children:Object(S.jsx)(Te.a,{})}),Object(S.jsx)("iframe",{style:{border:"none",WebkitAppRegion:"no-drag"},onClick:f,src:j+"#toolbar=1",width:"100%",height:"100%"})]})})})}));var kt=Object(l.a)(ge)((function(e){var t=Object(v.b)(),a=e.classes,r=a.root,c=a.ContainerWrap,l="192.168.1.5",u=Object(he.io)("http://".concat(l,":8081")),d=Object(n.useRef)(null),j=function(){d.current.focus()};return Object(n.useEffect)((function(){return console.log(l),u.emit("client",{name:"client"}),document.addEventListener("keydown",(function(e){e.ctrlKey&&"f"==e.key&&j()})),function(){document.removeEventListener("keydown",(function(e){e.ctrlKey&&"f"==e.key&&j()}))}}),[]),Object(S.jsx)(i.a,{children:Object(S.jsxs)(s.a,{style:{WebkitAppRegion:"drag"},container:!0,dicrection:"column",className:r,spacing:3,children:[Object(S.jsx)(dt,{searchRef:d}),Object(S.jsxs)(s.a,{item:!0,lg:12,sm:12,className:c,children:[Object(S.jsxs)(o.c,{children:[Object(S.jsx)(o.a,{exact:!0,path:"/",children:Object(S.jsx)(me,{})}),Object(S.jsx)(o.a,{exact:!0,path:"/products",children:Object(S.jsx)(xe,{})}),Object(S.jsx)(o.a,{exact:!0,path:"/print",children:Object(S.jsx)(Ae,{})}),Object(S.jsx)(o.a,{exact:!0,path:"/transaction",children:Object(S.jsx)(rt,{})}),Object(S.jsx)(o.a,{exact:!0,path:"/transaction/success",children:Object(S.jsx)(St,{})}),Object(S.jsx)(o.a,{exact:!0,path:"/translist",children:Object(S.jsx)(vt,{})})]}),Object(S.jsx)(_e,{handleCloseToast:function(){t(A())}})]})]})})})),Pt=Object(P.e)({name:"transactions",initialState:{entities:[],pdf:[],loading:!1,errors:null},reducers:{},extraReducers:function(e){e.addCase(Ue.pending,(function(e){e.loading=!0})).addCase(Ue.fulfilled,(function(e,t){var a=t.payload;e.loading=!1,e.entities=a})).addCase(Ue.rejected,(function(e,t){var a=t.payload;e.loading=!1,e.errors=a})).addCase(Fe.pending,(function(e){e.loading=!0})).addCase(Fe.fulfilled,(function(e,t){var a=t.payload;e.loading=!1,e.entities=a})).addCase(Fe.rejected,(function(e,t){var a=t.payload;e.loading=!1,e.errors=a})).addCase(Ge.pending,(function(e){e.loading=!0})).addCase(Ge.fulfilled,(function(e,t){var a=t.payload;e.loading=!1,e.pdf=a})).addCase(Ge.rejected,(function(e,t){var a=t.payload;e.loading=!1,e.errors=a})).addCase(Ve.pending,(function(e){e.loading=!0})).addCase(Ve.fulfilled,(function(e,t){var a=t.payload;e.loading=!1,e.entities[a._id]=a})).addCase(Ve.rejected,(function(e,t){var a=t.payload;e.loading=!1,e.errors=a})).addCase(Qe.pending,(function(e){e.loading=!0})).addCase(Qe.fulfilled,(function(e,t){var a=t.payload;e.loading=!1,e.entities=a})).addCase(Qe.rejected,(function(e,t){var a=t.payload;e.loading=!1,e.errors=a})).addCase(Ke.pending,(function(e){e.loading=!0})).addCase(Ke.fulfilled,(function(e,t){var a=t.payload;e.loading=!1,e.entities=a})).addCase(Ke.rejected,(function(e,t){var a=t.payload;e.loading=!1,e.errors=a}))}}).reducer,wt=Object(P.e)({name:"report",initialState:{doc:"",loading:!0,error:""},reducers:{},extraReducers:function(e){e.addCase(Xe.pending,(function(e){e.loading=!0})).addCase(Xe.fulfilled,(function(e,t){var a=t.payload;e.loading=!1,e.doc=a})).addCase(Xe.rejected,(function(e,t){var a=t.payload;e.loading=!1,e.error=a}))}}).reducer,Tt=Object(P.a)({reducer:{products:be,cart:X,notifications:W,transactions:Pt,connection:ut,report:wt}});c.a.render(Object(S.jsx)(v.a,{store:Tt,children:Object(S.jsx)(kt,{})}),document.getElementById("root"))}},[[232,1,2]]]);
//# sourceMappingURL=main.cd8216e5.chunk.js.map