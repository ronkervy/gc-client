{"version":3,"sources":["shared/components/Styles.js","shared/components/Loader.js","shared/store/NotificationSlice.js","cart/store/CartServices.js","cart/store/CartSlice.js","cart/components/CartItems.js","cart/components/Cart.js","products/store/productServices.js","products/store/productSlice.js","products/components/ProductItem.js","products/components/ProductsList.js","components/Dashboard/Styles.js","components/Dashboard/Index.js","Styles.js","shared/components/Toast.js","cart/components/PrintTransaction.js","cart/components/Styles.js","transactions/store/TransactionServices.js","cart/components/Transaction.js","shared/store/ConnectionSlice.js","shared/components/Header.js","transactions/components/TransactionSingle.js","transactions/components/TransactionItems.js","transactions/components/TransactionList.js","cart/components/SuccessPage.js","App.js","transactions/store/TransactionSlice.js","shared/store/MainStore.js","index.js"],"names":["useStyles","ProgressWrap","top","left","display","position","justifyContent","alignItems","zIndex","backgroundColor","height","width","transition","borderRadius","HeaderWrap","padding","WebkitAppRegion","withStyles","props","classes","className","CircularProgress","size","NotificationSlice","createSlice","initialState","open","message","severity","reducers","OpenNotification","state","payload","CloseNotification","actions","CartService","axios","create","baseURL","process","timeout","sleep","x","Promise","resolve","setTimeout","CreateTransaction","createAsyncThunk","args","a","rejectWithValue","values","url","method","data","res","response","cartAdapter","createEntityAdapter","selectId","prod","_id","CartSlice","name","getInitialState","cart","loading","error","addItem","index","findIndex","item_name","item_price","item_qty","qty","parseInt","total_per_unit","unshift","inventory_qty","discount","updateQty","val","NaN","setDiscount","calcDiscount","total","removeItem","splice","extraReducers","builder","addCase","pending","fulfilled","rejected","selectCart","cartItems","createDraftSafeSelector","cartLoading","CartItems","item","dispatch","useDispatch","useState","setTotal","useEffect","TableRow","component","motion","tr","initial","y","opacity","animate","TableCell","style","fontSize","color","icon","faBoxes","TextField","variant","value","onChange","e","target","inputProps","textAlign","thousandSeparator","displayType","decimalScale","decimalSeparator","fixedDecimalScale","disabled","IconButton","onClick","faTrashAlt","Cart","useSelector","items","setItems","page","setPage","rowsPerPage","setRowsPerPage","history","useHistory","TableContainer","Paper","elevation","minHeight","Table","stickyHeader","TableHead","TableBody","slice","map","bottom","colSpan","Button","startIcon","faShoppingBag","length","errors","push","TablePagination","rowsPerPageOptions","count","onChangePage","event","newPage","onChangeRowsPerPage","labelRowsPerPage","ProdServices","selectAllProducts","opt","searchProduct","selectSingleProduct","id","productsAdapter","sortComparer","createdAt","productSlice","selectedProd","setAll","addOne","loadingSelector","products","productsSelector","getSelectors","ProductItem","hover","cursor","faBox","faPlusCircle","ProductsList","selectAll","socket","io","on","aria-label","product","Dashboard","infoBlock","background","ContentBlock","Styles","Grid","container","spacing","direction","lg","sm","body","margin","overflow","html","root","ContainerWrap","Toast","handleCloseToast","notifications","Snackbar","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","right","Alert","Transition","forwardRef","ref","Slide","PrintTransaction","setOpen","handleClose","goBack","Dialog","TransitionComponent","fullScreen","AppBar","Toolbar","edge","Close","Container","maxWidth","useStyle","TransactionModal","ModalContent","outline","SuccessPageModal","flexDirection","TransServices","getAllTransaction","createTransaction","findTransaction","getDocDef","responseType","headers","Accept","mode","window","URL","createObjectURL","updateTransaction","deleteTransaction","useLocation","customer_name","transact_payment_type","cash_amount","transact_status","info","setInfo","undefined","transact_id","resTrans","match","docDef","price","prevVal","Modal","BackdropComponent","Backdrop","BackdropProps","Fade","in","Typography","customInput","fullWidth","label","InputProps","startAdornment","InputAdornment","faDollarSign","prefix","faUserTie","faMoneyBill","cash","select","transaction_payment_type","payment_type","MenuItem","ButtonGroup","faMoneyBillAlt","total_amount","change_amount","ConnectionSlice","isConnected","setConnection","ipcRenderer","require","searchRef","connection","connected","Box","alignSelf","inputRef","faSearch","onKeyPress","key","Divider","orientation","flexItem","faSyncAlt","justifySelf","faList","faCircle","div","whileHover","scale","invoke","Minimize","makeStyles","theme","TransactionSingle","inOpen","transaction","transactions","partial_payments","payment","setPayment","console","log","faIdCard","cart_count","Date","transaction_date","toISOString","split","faCalendar","faMoneyBillWaveAlt","allowNegative","faPrint","faTrash","TransactionItems","onDoubleClick","userSelect","total_price","appBar","TransitionDialog","TransactionList","entities","search","setSearch","now","toLocaleDateString","selectedDate","setSelectedDate","utils","DateFnsUtils","flexBasis","flex","marginRight","onKeyDown","disableToolbar","format","date","selDate","KeyboardButtonProps","focusRipple","fontWeight","entry","query","URLSearchParams","pdf","get","Fab","border","src","host","useRef","focusSearch","current","focus","emit","document","addEventListener","ctrlKey","removeEventListener","dicrection","exact","path","transactionSlice","configureStore","reducer","ProductReducers","CartReducer","NotificationReducer","TransactionReducer","ConnectionReducer","ReactDOM","render","store","getElementById"],"mappings":"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","file":"static/js/main.21c5433d.chunk.js","sourcesContent":["const useStyles = {\r\n    ProgressWrap : {\r\n        top : 0,\r\n        left : 0,\r\n        display : \"flex\",\r\n        position: \"fixed\",\r\n        justifyContent : \"center\",\r\n        alignItems : \"center\",\r\n        zIndex : 100,\r\n        backgroundColor : \"rgba(0, 0, 0, 0.9)\",\r\n        height: \"730px\",\r\n        width : \"100%\",\r\n        transition : \"all 300ms linear\",\r\n        borderRadius : '20px'\r\n    },\r\n    HeaderWrap : {\r\n        height : '60px',\r\n        padding : '20px 0px',\r\n        borderRadius : '10px',\r\n        WebkitAppRegion : 'drag'\r\n    }\r\n}\r\n\r\nexport default useStyles;","import { CircularProgress, withStyles } from '@material-ui/core'\r\nimport React from 'react'\r\nimport useStyles from './Styles'\r\n\r\nfunction Loader(props) {\r\n\r\n    const { classes } = props;\r\n\r\n    return (\r\n        <div className={classes.ProgressWrap}>\r\n            <CircularProgress size={70} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withStyles(useStyles)(Loader)\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst NotificationSlice = createSlice({\r\n    'name' : 'notifications',\r\n    initialState : {\r\n        open : false,\r\n        message : '',\r\n        severity : ''\r\n    },\r\n    reducers : {\r\n        OpenNotification : (state,{payload})=>{\r\n            state.open = true;\r\n            state.severity = payload.severity;\r\n            state.message = payload.message;\r\n        },\r\n        CloseNotification : (state,{payload})=>{\r\n            state.open = false;\r\n            state.severity = '';\r\n            state.message = '';\r\n        }\r\n    }\r\n});\r\n\r\nexport const { OpenNotification,CloseNotification } = NotificationSlice.actions;\r\n\r\nexport default NotificationSlice.reducer;","import axios from 'axios';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\nconst host = process.env.REACT_APP_HOST ? process.env.REACT_APP_HOST : 'localhost';\r\n\r\nconst CartService = axios.create({\r\n    baseURL : `http://${host}:8081/api/v1`,\r\n    timeout : 1000\r\n});\r\n\r\nconst sleep = (x)=>{\r\n    return new Promise(resolve=>setTimeout(resolve,x));\r\n}\r\n\r\nexport const CreateTransaction = createAsyncThunk(\r\n    'cart/CreateTransaction',\r\n    async(args,{rejectWithValue})=>{        \r\n        try{\r\n            const { values } = args;\r\n            const res = await CartService({\r\n                url : '/transactions',\r\n                method : 'POST',\r\n                data : values\r\n            });\r\n            await sleep(2000);\r\n            return res.data;\r\n        }catch(err){\r\n            return rejectWithValue(err.response.data);\r\n        }\r\n    }\r\n);","import { createSlice,createEntityAdapter,createDraftSafeSelector } from '@reduxjs/toolkit';\r\nimport { CreateTransaction } from './CartServices';\r\n\r\nconst cartAdapter = createEntityAdapter({\r\n    selectId : prod=>prod._id\r\n});\r\n\r\nconst CartSlice = createSlice({\r\n    name : 'cart',\r\n    initialState : cartAdapter.getInitialState({\r\n        cart : [],\r\n        loading : false,\r\n        error : ''\r\n    }),\r\n    reducers : {\r\n        addItem : (state,{payload})=>{\r\n\r\n            const index = state.cart.findIndex(prod=>prod._id === payload._id);\r\n\r\n            const {\r\n                _id,\r\n                item_name,\r\n                item_price,\r\n                item_qty\r\n            } = payload;\r\n\r\n            const qty = 1;\r\n            const discount = 0;\r\n\r\n            if( index !== -1 ) {\r\n                state.cart[index].qty = parseInt(state.cart[index].qty) + 1;\r\n                state.cart[index].total_per_unit = parseInt(state.cart[index].qty) * item_price;\r\n            }else{\r\n                state.cart.unshift({\r\n                    _id,\r\n                    item_name,\r\n                    item_price,\r\n                    inventory_qty : item_qty,\r\n                    error : false,\r\n                    qty,\r\n                    discount,\r\n                    total_per_unit : qty * item_price\r\n                });\r\n            }\r\n        },\r\n        updateQty : (state,{payload})=>{\r\n            const {\r\n                _id,\r\n                qty,\r\n                item_price,\r\n                inventory_qty\r\n            } = payload;            \r\n\r\n            const index = state.cart.findIndex(prod=>prod._id === _id);\r\n            let val = qty === NaN ? 0 : parseInt(qty);\r\n\r\n            if( index !== -1 ){\r\n                state.cart[index].qty = val;\r\n                state.cart[index].total_per_unit = val * item_price\r\n\r\n                if( val > inventory_qty ){\r\n                    state.cart[index].error = true;\r\n                }else{\r\n                    state.cart[index].error = false;\r\n                }\r\n\r\n            }\r\n\r\n        },\r\n        setDiscount : (state,{payload})=>{\r\n            const {\r\n                _id,\r\n                discount,\r\n                item_price,\r\n                qty\r\n            } = payload;            \r\n\r\n            const index = state.cart.findIndex(prod=>prod._id === _id);\r\n            const calcDiscount = discount / 100;\r\n            const total = item_price * qty;\r\n\r\n            if(index !== -1){\r\n                state.cart[index].discount = calcDiscount;\r\n                state.cart[index].total_per_unit = discount !== 0 ? total - (total * calcDiscount) : item_price * qty;\r\n            }\r\n\r\n        },\r\n        removeItem : (state,{payload})=>{\r\n            const index = state.cart.findIndex(prod=>prod._id === payload);\r\n            state.cart.splice(index,1);\r\n        }\r\n    },\r\n    extraReducers : (builder)=>{\r\n        builder.addCase( CreateTransaction.pending,state=>{\r\n            state.loading = true;\r\n        })\r\n        .addCase( CreateTransaction.fulfilled,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.cart = [];\r\n        })\r\n        .addCase( CreateTransaction.rejected,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.error = payload;\r\n        })\r\n    }\r\n});\r\n\r\nconst selectCart = (state)=>state.cart;\r\nexport const cartItems = createDraftSafeSelector(\r\n    selectCart,\r\n    state=>state.cart\r\n);\r\nexport const cartLoading = createDraftSafeSelector(\r\n    selectCart,\r\n    state=>state.loading\r\n);\r\nexport const { addItem,removeItem,updateQty,setDiscount } = CartSlice.actions;\r\nexport default CartSlice.reducer;","import { faBoxes, faTrashAlt } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { IconButton, TableCell, TableRow, TextField, Tooltip } from '@material-ui/core'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { removeItem, updateQty,setDiscount } from '../store/CartSlice'\r\nimport NumberFormat from 'react-number-format';\r\nimport { motion } from 'framer-motion'\r\n\r\nfunction CartItems({item}) {\r\n\r\n    const dispatch = useDispatch();\r\n    const [total,setTotal] = useState(parseInt(item.item_price) * parseInt(item.qty));\r\n\r\n    useEffect(()=>{\r\n        setTotal(parseInt(item.item_price) * parseInt(item.qty));\r\n    },[item.qty]);\r\n\r\n    useEffect(()=>{\r\n        setTotal(item.total_per_unit);\r\n    },[item.total_per_unit]);\r\n\r\n    return (\r\n        <>\r\n            <TableRow \r\n                key={item._id}   \r\n                component={motion.tr}              \r\n                initial={{\r\n                    y : -100,\r\n                    opacity : 0\r\n                }}\r\n                animate={{\r\n                    y : 0,\r\n                    opacity : 1\r\n                }}\r\n            >\r\n                <TableCell\r\n                    style={{fontSize : '10px'}}\r\n                ><FontAwesomeIcon color=\"grey\" icon={faBoxes} />&nbsp;&nbsp;{item.item_name}</TableCell>\r\n                <TableCell>\r\n                    <TextField \r\n                        error={ item.error }\r\n                        variant=\"outlined\"\r\n                        size=\"small\"\r\n                        value={item.qty}\r\n                        onChange={(e)=>{\r\n                            let val = e.target.value == '' ? 0 : parseInt(e.target.value);                            \r\n                            dispatch( updateQty({\r\n                                ...item,\r\n                                qty : val\r\n                            }));\r\n                        }}    \r\n                        inputProps={{\r\n                            style : {\r\n                                textAlign : 'center',\r\n                                fontSize : '10px'\r\n                            }\r\n                        }}\r\n                        style={{\r\n                            WebkitAppRegion : 'no-drag'\r\n                        }}\r\n                    />\r\n                </TableCell>\r\n                <TableCell>\r\n                    <NumberFormat\r\n                        thousandSeparator \r\n                        displayType=\"text\"\r\n                        value={total}\r\n                        style={{ fontSize : '10px' }}\r\n                        decimalScale={2} \r\n                        decimalSeparator={'.'}\r\n                        fixedDecimalScale={true}                    \r\n                    />\r\n                </TableCell>\r\n                <TableCell>\r\n                    <TextField \r\n                        disabled={item.error}\r\n                        variant=\"outlined\"\r\n                        size=\"small\" \r\n                        value={item.discount * 100}      \r\n                        inputProps={{\r\n                            style : {\r\n                                textAlign : 'center',\r\n                                fontSize : '10px',\r\n                                width : '50px'\r\n                            }\r\n                        }}    \r\n                        onChange={(e)=>{                               \r\n                            dispatch( setDiscount({\r\n                                ...item,\r\n                                discount : e.target.value === '' ? 0 : parseInt(e.target.value)\r\n                            }));\r\n                        }}\r\n                        style={{\r\n                            WebkitAppRegion : 'no-drag'\r\n                        }}\r\n                    />\r\n                </TableCell>\r\n                <TableCell>\r\n                    <IconButton\r\n                        color=\"secondary\"\r\n                        onClick={()=>{\r\n                            dispatch( removeItem(item._id) );\r\n                        }}\r\n                        style={{\r\n                            WebkitAppRegion : 'no-drag'\r\n                        }}\r\n                    >\r\n                        <FontAwesomeIcon icon={faTrashAlt} /> \r\n                    </IconButton>\r\n                </TableCell> \r\n            </TableRow>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CartItems\r\n","import { faShoppingBag } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { \r\n    Button, \r\n    Paper, \r\n    Table, \r\n    TableBody, \r\n    TableCell, \r\n    TableContainer, \r\n    TableHead, \r\n    TablePagination, \r\n    TableRow \r\n} from '@material-ui/core'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router';\r\nimport Loader from '../../shared/components/Loader';\r\nimport { OpenNotification } from '../../shared/store/NotificationSlice';\r\nimport { cartItems } from '../store/CartSlice';\r\nimport CartItems from './CartItems';\r\n\r\nfunction Cart(props) {\r\n\r\n    const dispatch = useDispatch();\r\n    const cart = useSelector(cartItems);\r\n    const { loading } = useSelector(state=>state.cart);\r\n    const [items,setItems] = useState([]);\r\n    const [page, setPage] = useState(0);\r\n    const [rowsPerPage, setRowsPerPage] = useState(8);\r\n    const history = useHistory();\r\n\r\n    const handleChangePage = (event, newPage) => {\r\n        setPage(newPage);\r\n    };\r\n\r\n    const handleChangeRowsPerPage = (event) => {\r\n        setRowsPerPage(+event.target.value);\r\n        setPage(0);\r\n    };\r\n\r\n    useEffect(()=>{\r\n        setItems(cart);\r\n    },[cart]);\r\n\r\n    if( loading ){\r\n        return(\r\n            <Loader />\r\n        )\r\n    }\r\n\r\n    return (\r\n        <TableContainer \r\n            component={Paper} \r\n            elevation={2} \r\n            style={{\r\n                minHeight : \"600px\",\r\n                position : 'relative'\r\n            }}\r\n        >\r\n            <Table size=\"small\" stickyHeader>\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell>Name</TableCell>\r\n                        <TableCell style={{ textAlign : 'center' }}>QTY</TableCell>\r\n                        <TableCell>Total</TableCell>\r\n                        <TableCell>Discount</TableCell>\r\n                        <TableCell>Action</TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {items.slice(page*rowsPerPage,page*rowsPerPage + rowsPerPage).map(item=>( \r\n                        <CartItems \r\n                            item={item}\r\n                        />\r\n                    ))}                    \r\n                </TableBody>\r\n                <TableRow style={{\r\n                    position : \"absolute\",\r\n                    bottom : '0',\r\n                    left : '0'\r\n                }}>      \r\n                    <TableCell colSpan={1}>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            size=\"small\"\r\n                            style={{\r\n                                backgroundColor : \"green\",\r\n                                color : \"#ffffff\",\r\n                                WebkitAppRegion : 'no-drag'\r\n                            }}\r\n                            startIcon={<FontAwesomeIcon icon={faShoppingBag} />}\r\n                            onClick={()=>{\r\n\r\n                                if( items.length == 0 ){\r\n                                    return dispatch( OpenNotification({\r\n                                        message : 'Cart is Empty',\r\n                                        severity : 'error'\r\n                                    }) );\r\n                                }\r\n\r\n                                let errors = [];\r\n\r\n                                items.map(item=>{\r\n                                    if( item.error === true ){\r\n                                        errors.push(item.error);\r\n                                    }\r\n                                });\r\n\r\n                                if( errors.length > 0 ){\r\n                                    return dispatch( OpenNotification({\r\n                                        message : 'Invalid Quantity',\r\n                                        severity : 'error'\r\n                                    }) );\r\n                                };\r\n\r\n                                history.push('/transaction',cart);\r\n                            }}\r\n                        >Checkout</Button>\r\n                    </TableCell>              \r\n                    <TableCell colSpan={4}>\r\n                        <TablePagination\r\n                            rowsPerPageOptions={[8, 16, 800]}\r\n                            count={items.length}\r\n                            rowsPerPage={rowsPerPage}\r\n                            page={page}\r\n                            onChangePage={handleChangePage}\r\n                            onChangeRowsPerPage={handleChangeRowsPerPage}\r\n                            labelRowsPerPage={false}\r\n                        />\r\n                    </TableCell>          \r\n                </TableRow>\r\n            </Table>\r\n        </TableContainer>\r\n    )\r\n}\r\n\r\nexport default Cart\r\n","import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\nconst host = process.env.REACT_APP_HOST ? process.env.REACT_APP_HOST : 'localhost';\r\n\r\nconst ProdServices = axios.create({\r\n    baseURL : `http://${host}:8081/api/v1`,\r\n    timeout : 1000\r\n});\r\n\r\nconst sleep = (x)=>{\r\n    return new Promise((resolve)=>setTimeout(resolve,x));\r\n}\r\n\r\nexport const selectAllProducts = createAsyncThunk(\r\n    'products/selectAllProducts',\r\n    async( args ,{ rejectWithValue })=>{\r\n        const { opt } = args;\r\n        try{\r\n            const res = await ProdServices({\r\n                ...opt,\r\n                method : \"GET\"\r\n            });\r\n            await sleep(2000);\r\n            return res.data;\r\n        }catch(err){    \r\n            return rejectWithValue(err.response.data);\r\n        }\r\n    }\r\n);\r\n\r\nexport const searchProduct = createAsyncThunk(\r\n    'products/searchProduct',\r\n    async(args,{rejectWithValue})=>{\r\n        try{\r\n            const { opt,value } = args;\r\n            const res = await ProdServices({\r\n                ...opt,\r\n                method : 'GET'\r\n            });\r\n            await sleep(2000);\r\n            return res.data;\r\n        }catch(err){\r\n            return rejectWithValue(err.response.data);\r\n        }\r\n    }\r\n);\r\n\r\nexport const selectSingleProduct = createAsyncThunk(\r\n    'products/selectSingleProduct',\r\n    async(id,{rejectWithValue})=>{\r\n        try{\r\n            const res = await ProdServices({\r\n                method : 'GET',\r\n                url : '/products/' + id\r\n            });\r\n            return res.data;\r\n        }catch(err){\r\n            return rejectWithValue(err.response.data);\r\n        }\r\n    }\r\n);\r\n\r\nexport const createTransaction = createAsyncThunk(\r\n    'products/createTransaction',\r\n    async( values,{rejectWithValue} )=>{\r\n        try{\r\n            const res = await ProdServices({\r\n                method : 'POST',\r\n                url : '/products',\r\n                data : values\r\n            });\r\n            return res.data;\r\n        }catch(err){\r\n            return rejectWithValue(err.response.data);\r\n        }\r\n    }\r\n);","import { createDraftSafeSelector, createEntityAdapter, createSlice } from '@reduxjs/toolkit';\r\nimport { searchProduct, selectAllProducts, selectSingleProduct } from './productServices';\r\n\r\nconst productsAdapter = createEntityAdapter({\r\n    selectId : (prod)=>prod._id,\r\n    sortComparer : (prod)=>prod.createdAt\r\n});\r\n\r\nconst productSlice = createSlice({\r\n    name : 'products',\r\n    initialState : productsAdapter.getInitialState({\r\n        loading : true,\r\n        selectedProd : [],\r\n        error : null,\r\n    }),\r\n    reducers : {},\r\n    extraReducers : (builder)=>{\r\n        //FETCH ALL PRODUCTS\r\n        builder.addCase(selectAllProducts.pending,state=>{\r\n            state.loading = true;\r\n        })\r\n        .addCase(selectAllProducts.fulfilled,(state,{payload})=>{\r\n            state.loading = false;\r\n            productsAdapter.setAll(state,payload);\r\n        })\r\n        .addCase(selectAllProducts.rejected,(state,{payload})=>{\r\n            state.loading = false;                \r\n            state.error = payload;\r\n        })\r\n        //FIND PRODUCT/S\r\n        .addCase(searchProduct.pending,state=>{\r\n            state.loading = true;\r\n        })\r\n        .addCase(searchProduct.fulfilled,(state,{payload})=>{\r\n            state.loading = false;\r\n            productsAdapter.setAll(state,payload);\r\n        })\r\n        .addCase(searchProduct.rejected,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.error = payload;\r\n        })\r\n        //FETCH SINGLE PRODUCT\r\n        .addCase(selectSingleProduct.pending,(state,{payload})=>{\r\n            state.loading = true;\r\n        })\r\n        .addCase(selectSingleProduct.fulfilled,(state,{payload})=>{\r\n            state.loading = false;\r\n            productsAdapter.addOne(state,payload);\r\n        })\r\n        .addCase(selectSingleProduct.rejected,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.error = payload;\r\n        })\r\n        //CREATE TRANSACTION\r\n        \r\n        \r\n    }\r\n});\r\n\r\nconst selectState = state=>state.products;\r\n\r\nexport const loadingSelector = createDraftSafeSelector(\r\n    selectState,\r\n    state=>state.loading\r\n);\r\n\r\nexport const productsSelector = productsAdapter.getSelectors(state=>state.products);\r\nexport default productSlice.reducer;","import { faBox, faPlusCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { IconButton, TableCell, TableRow, Tooltip } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { addItem } from '../../cart/store/CartSlice';\r\n\r\nfunction ProductItem({item}) {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    return (\r\n        <>\r\n            <TableRow \r\n                hover key={item._id} \r\n                style={{ cursor : \"pointer\" }}\r\n            >\r\n                <TableCell style={{\r\n                    fontSize : \"10px\"\r\n                }}><FontAwesomeIcon color=\"grey\" icon={faBox} />&nbsp;&nbsp;{item.item_name}</TableCell>\r\n                <TableCell style={{\r\n                    fontSize : \"10px\"\r\n                }}>{item.item_qty}</TableCell>\r\n                <TableCell style={{\r\n                    fontSize : \"10px\"\r\n                }}>{item.item_price}</TableCell>\r\n                <TableCell>\r\n                    <IconButton\r\n                        color=\"primary\"\r\n                        onClick={()=>{\r\n                            dispatch( addItem(item) );\r\n                        }}\r\n                        style={{\r\n                            WebkitAppRegion : 'no-drag'\r\n                        }}\r\n                    >\r\n                        <FontAwesomeIcon icon={faPlusCircle} />\r\n                    </IconButton>\r\n                </TableCell>\r\n            </TableRow>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProductItem\r\n","import { Paper, Table, TableBody, TableCell, TableContainer, TableHead, TablePagination, TableRow } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Loader from '../../shared/components/Loader';\r\nimport { selectAllProducts } from '../store/productServices';\r\nimport { loadingSelector, productsSelector } from '../store/productSlice';\r\nimport ProductItem from './ProductItem';\r\nimport { io } from 'socket.io-client';\r\n\r\n\r\nfunction ProductsList() {\r\n\r\n    const dispatch = useDispatch();\r\n    const products = useSelector(productsSelector.selectAll);\r\n    const loading = useSelector(loadingSelector);\r\n    const [page, setPage] = useState(0);\r\n    const [rowsPerPage, setRowsPerPage] = useState(8);\r\n\r\n    const host = process.env.REACT_APP_HOST ? process.env.REACT_APP_HOST : 'localhost';\r\n    const socket = io(`http://${host}:8081`);\r\n\r\n    const handleChangePage = (event, newPage) => {\r\n        setPage(newPage);\r\n    };\r\n\r\n    const handleChangeRowsPerPage = (event) => {\r\n        setRowsPerPage(+event.target.value);\r\n        setPage(0);\r\n    };\r\n\r\n    useEffect(()=>{\r\n        \r\n        socket.on(\"connect\",()=>{\r\n            if( products.length == 0 ){\r\n                dispatch( selectAllProducts({\r\n                    opt : {\r\n                        url : '/products'\r\n                    }\r\n                }) );\r\n            }     \r\n        });\r\n\r\n        dispatch( selectAllProducts({\r\n            opt : {\r\n                url : '/products'\r\n            }\r\n        }) );\r\n    },[]);\r\n\r\n    if( loading ){\r\n        return(\r\n            <Loader />\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <TableContainer component={Paper} style={{ minHeight : \"600px\", position : 'relative' }}>\r\n                <Table size=\"small\" stickyHeader aria-label=\"sticky table\">\r\n                    <TableHead>\r\n                        <TableRow>\r\n                            <TableCell>Name</TableCell>\r\n                            <TableCell>QTY</TableCell>\r\n                            <TableCell>Price</TableCell>\r\n                            <TableCell>Action</TableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        {products.slice(page * rowsPerPage,page * rowsPerPage + rowsPerPage).map(product=>(\r\n                            <ProductItem item={product} />\r\n                        ))}\r\n                    </TableBody>\r\n                    <TableRow\r\n                        style={{\r\n                            position : 'absolute',\r\n                            bottom : '0',\r\n                            left : '0'\r\n                        }}\r\n                    >\r\n                        <TableCell colSpan={4}>\r\n                            <TablePagination \r\n                                rowsPerPageOptions={[8, 16, 800]}\r\n                                count={products.length}\r\n                                rowsPerPage={rowsPerPage}\r\n                                page={page}\r\n                                onChangePage={handleChangePage}\r\n                                onChangeRowsPerPage={handleChangeRowsPerPage}\r\n                            />\r\n                        </TableCell>\r\n                    </TableRow>\r\n                </Table>\r\n            </TableContainer>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProductsList\r\n","const useStyles = {\r\n    Dashboard : {\r\n        height : '90%'\r\n    },\r\n    infoBlock : {\r\n        height : '50px',\r\n        borderRadius : '10px',\r\n        background : '#fff'\r\n    },\r\n    ContentBlock : {\r\n        height : '90%',\r\n        borderRadius : '10px',\r\n        padding : '20px'\r\n    }    \r\n}\r\n\r\nexport default useStyles;","import { Grid, Paper, Typography, withStyles } from '@material-ui/core';\r\nimport React, { useEffect } from 'react';\r\nimport Cart from '../../cart/components/Cart';\r\nimport ProductsList from '../../products/components/ProductsList';\r\nimport Styles from './Styles';\r\n\r\n\r\nfunction Dashboard(props) {\r\n\r\n    const { ContentBlock,Dashboard,infoBlock } = props.classes;\r\n\r\n    return (\r\n        <Grid container className={Dashboard} spacing={2}>\r\n            <Grid direction=\"column\" item container lg={6} sm={6}> \r\n                <Cart />\r\n            </Grid>    \r\n            <Grid \r\n                item lg={6} \r\n                sm={6} \r\n                className={ContentBlock}\r\n            >\r\n                <ProductsList />\r\n            </Grid>  \r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default withStyles(Styles)(Dashboard)\r\n","const useStyles = {\r\n    '@global' : {\r\n        body : {\r\n            height : '100%',\r\n            margin : '0px',\r\n            '& #root' : {\r\n                height : '100%',\r\n            },\r\n            overflow : 'hidden',\r\n            position : 'relative'\r\n        },\r\n        html : {\r\n            height : '95%',\r\n            margin : '0px',\r\n            padding : '20px',\r\n        }\r\n    },\r\n\r\n    root : {\r\n        height : '100%',\r\n        background : '#EBEBF7',\r\n        padding : \"20px\",\r\n        borderRadius : '20px',\r\n        position : 'relative'\r\n    },\r\n    \r\n    ContainerWrap : {\r\n        height : 'auto',\r\n        padding : '20px 0px 0px 0px !important',\r\n        position : 'relative'\r\n    }\r\n}\r\n\r\nexport default useStyles;","import { Snackbar } from '@material-ui/core';\r\nimport { Alert } from '@material-ui/lab';\r\n\r\nimport React from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nfunction Toast(props) {\r\n\r\n    const { handleCloseToast } = props;\r\n    const { message,severity,open } = useSelector(state=>state.notifications);\r\n\r\n    return (\r\n        <Snackbar\r\n            open={open} \r\n            autoHideDuration={4000} \r\n            onClose={handleCloseToast}\r\n            anchorOrigin={{vertical : 'bottom',horizontal : 'right'}}\r\n            style={{ bottom : \"50px\", right : '50px', WebkitAppRegion : 'no-drag' }}\r\n        >\r\n            <Alert\r\n                elevation={6} \r\n                variant=\"filled\"\r\n                onClose={handleCloseToast}\r\n                severity={severity}\r\n            >\r\n                {message}\r\n            </Alert>\r\n        </Snackbar>\r\n    )\r\n}\r\n\r\nexport default Toast\r\n","import { AppBar, Container, Dialog, Grid, IconButton, Paper, Slide, Toolbar } from '@material-ui/core'\r\nimport { Close } from '@material-ui/icons';\r\nimport React, { useEffect, useState,forwardRef } from 'react'\r\nimport { useHistory } from 'react-router';\r\n\r\nconst Transition = forwardRef((props,ref)=>{\r\n    return(\r\n        <Slide \r\n            direction=\"up\"\r\n            ref={ref}\r\n            {...props}\r\n        />\r\n    )\r\n});\r\n\r\nfunction PrintTransaction(props) {\r\n\r\n    const [open,setOpen] = useState(false);\r\n    const history = useHistory();\r\n\r\n    useEffect(()=>{\r\n        setOpen(true);\r\n    },[]);\r\n\r\n    const handleClose = ()=>{\r\n        history.goBack();\r\n        setOpen(false);\r\n    }\r\n\r\n    return (\r\n        <Dialog\r\n            open={open}\r\n            onClose={handleClose}\r\n            TransitionComponent={Transition}\r\n            fullScreen\r\n        >\r\n            <AppBar\r\n                style={{\r\n                    WebkitAppRegion : \"no-drag\",\r\n                    backgroundColor : \"white\"\r\n                }}\r\n            >\r\n                <Toolbar>\r\n                    <IconButton \r\n                        edge=\"start\" \r\n                        color=\"secondary\"\r\n                        onClick={handleClose}\r\n                    >\r\n                        <Close />\r\n                    </IconButton>\r\n                </Toolbar>                \r\n            </AppBar>\r\n            <Container maxWidth=\"lg sm\">\r\n                <Grid container>\r\n                    TEST\r\n                </Grid>\r\n            </Container>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default PrintTransaction\r\n","const useStyle = {\r\n    TransactionModal : {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        WebkitAppRegion : 'no-drag'\r\n    },\r\n    ModalContent : {\r\n        borderRadius : '10px',\r\n        padding : '20px',\r\n        width : '400px',\r\n        height : '400px',\r\n        backgroundColor : \"#ffffff\",\r\n        outline : 'none',\r\n        position : 'relative'\r\n    },\r\n    SuccessPageModal : {\r\n        position : \"relative\",\r\n        display : \"flex\",\r\n        flexDirection : \"column\",\r\n        height : \"100%\",\r\n        alignItems : \"center\",\r\n        justifyContent : \"center\",\r\n        outline : \"none\",\r\n        WebkitAppRegion : 'no-drag'\r\n    }\r\n}\r\n\r\nexport default useStyle;","import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\nconst host = process.env.REACT_APP_HOST ? process.env.REACT_APP_HOST : 'localhost';\r\n\r\nconst TransServices = axios.create({\r\n    baseURL : `http://${host}:8081/api/v1`,\r\n    timeout : 60 * 2 * 1000\r\n});\r\n\r\nconst sleep = (x)=>{\r\n    return new Promise(resolve=>setTimeout(resolve,x));\r\n}\r\n\r\nexport const getAllTransaction = createAsyncThunk(\r\n    'transactions/getAllTransaction',\r\n    async(args,{ rejectWithValue })=>{\r\n        const { opt } = args;\r\n        try{\r\n            const res = await TransServices({\r\n                ...opt,\r\n                method : 'GET'\r\n            });\r\n            await sleep(2000);\r\n            return res.data;\r\n        }catch(err){\r\n            return rejectWithValue(err);\r\n        }\r\n    }\r\n);\r\n\r\nexport const getSingleTransaction = createAsyncThunk(\r\n    'transactions/getSingleTransaction',\r\n    async(args, {rejectWithValue})=>{\r\n        const { opt } = args;\r\n        try{\r\n            const res = await TransServices({\r\n                ...opt,\r\n                method : 'GET'\r\n            });\r\n            await sleep(2000);\r\n            return res.data;\r\n        }catch(err){\r\n            return rejectWithValue(err);\r\n        }\r\n    }\r\n);\r\n\r\nexport const createTransaction = createAsyncThunk(\r\n    'transactions/createTransaction',\r\n    async(args,{ rejectWithValue })=>{\r\n        const { opt,values } = args;\r\n        try{\r\n            const res = await TransServices({\r\n                ...opt,\r\n                method : 'POST',\r\n                data : values\r\n            });\r\n            await sleep(2000);\r\n            return res.data;\r\n        }catch(err){\r\n            return rejectWithValue(err);\r\n        }\r\n    }\r\n);\r\n\r\nexport const findTransaction = createAsyncThunk(\r\n    'transactions/findTransaction',\r\n    async( args, { rejectWithValue } )=>{        \r\n        try{\r\n            const { opt } = args;\r\n            const res = await TransServices({\r\n                ...opt,\r\n                method : 'GET'\r\n            });\r\n            await sleep(2000);\r\n            return res.data;\r\n        }catch(err){\r\n            return rejectWithValue(err.response.data);\r\n        }\r\n    }\r\n);\r\n\r\nexport const getDocDef = createAsyncThunk(\r\n    'transactions/getDocDef',\r\n    async(args,{rejectWithValue})=>{\r\n        try{\r\n            const { opt } = args;\r\n            const res = await TransServices({\r\n                ...opt,\r\n                method : 'GET',\r\n                responseType : 'blob',  \r\n                headers: {\r\n                    Accept: 'application/pdf',\r\n                    'Content-Type': 'application/pdf',\r\n                    mode : 'no-cors'\r\n                }\r\n            });\r\n            const url = window.URL.createObjectURL(res.data);\r\n            return url;\r\n        }catch(err){\r\n            return rejectWithValue(err.response.data);\r\n        }\r\n    }\r\n);\r\n\r\nexport const updateTransaction = createAsyncThunk(\r\n    'transactions/updateTransaction',\r\n    async(args,{rejectWithValue})=>{\r\n        try{\r\n            const { opt,value } = args;\r\n            const res = await TransServices({\r\n                ...opt,\r\n                method : 'PATCH',\r\n                data : value\r\n            });\r\n            await sleep(2000);\r\n            return res.data;\r\n        }catch(err){\r\n            return rejectWithValue(err.response.data);\r\n        }\r\n    }\r\n);\r\n\r\nexport const deleteTransaction = createAsyncThunk(\r\n    'transactions/deleteTransaction',\r\n    async(args,{rejectWithValue})=>{\r\n        try{\r\n            const { opt } = args;\r\n            const res = await TransServices({\r\n                ...opt,\r\n                method : 'DELETE'\r\n            });\r\n            await sleep(2000);\r\n            return res.data;\r\n        }catch(err){\r\n            return rejectWithValue(err.response.data);\r\n        }\r\n    }\r\n);","import { faDollarSign, faMoneyBill, faMoneyBillAlt, faPrint, faSave, faUser, faUserTie } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Backdrop, Fade, Grid, Modal, withStyles, TextField, InputAdornment, ButtonGroup, Button, Typography, MenuItem } from '@material-ui/core'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useHistory, useLocation } from 'react-router';\r\nimport useStyle from './Styles';\r\nimport NumberFormat from 'react-number-format';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { CreateTransaction } from '../store/CartServices';\r\nimport { OpenNotification } from '../../shared/store/NotificationSlice';\r\nimport { cartLoading } from '../store/CartSlice';\r\nimport Loader from '../../shared/components/Loader';\r\nimport { getDocDef } from '../../transactions/store/TransactionServices';\r\n\r\nfunction Transaction(props) {\r\n\r\n    const dispatch = useDispatch();\r\n    const loading = useSelector(cartLoading);\r\n    const {state : cart} = useLocation();\r\n    \r\n    const [open,setOpen] = useState(false);\r\n    const history = useHistory();\r\n    const {TransactionModal,ModalContent} = props.classes;\r\n    const [total,setTotal] = useState(0);\r\n    const [info,setInfo] = useState({\r\n        customer_name : '',\r\n        transact_payment_type : 'full',\r\n        cash_amount : 0,\r\n        transact_status : true\r\n    });\r\n\r\n    const handleClose = async (id)=>{\r\n        if( id.payload !== undefined ){\r\n            const { transact_id } = id.payload;\r\n            const resTrans = await dispatch( getDocDef({\r\n                opt : {\r\n                    url : '/gc-print/transactions/' + transact_id\r\n                }\r\n            }) );\r\n    \r\n            if( getDocDef.fulfilled.match(resTrans) ){\r\n                let docDef = resTrans.payload;            \r\n                history.push('/transaction/success?pdf=' + docDef);            \r\n            }else{\r\n                dispatch( OpenNotification({\r\n                    message : 'Transaction Failed, Pls try again.',\r\n                    severity : 'error'\r\n                }) );\r\n            }\r\n        }else{\r\n            history.goBack();\r\n        }    \r\n        setOpen(false);\r\n    }\r\n\r\n    useEffect(()=>{\r\n        setOpen(true);\r\n        cart.map(item=>{\r\n            let price = item.total_per_unit;\r\n            setTotal( prevVal => prevVal + price)\r\n        })\r\n    },[]);\r\n\r\n    if( loading ){\r\n        return(\r\n            <Loader />\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            open={open}\r\n            onClose={handleClose}\r\n            BackdropComponent={Backdrop}\r\n            BackdropProps={{\r\n                timeout : 500,\r\n                style : {\r\n                    borderRadius : '20px',\r\n                    height : '730px'\r\n                }\r\n            }}\r\n            className={TransactionModal}\r\n        >\r\n            <Fade\r\n                in={open}\r\n            >\r\n                <div className={ModalContent}>\r\n                    <Grid container spacing={2}>                        \r\n                        <Grid item lg={12} sm={12}>\r\n                            <Typography variant=\"h6\">\r\n                                Total Number of Order :&nbsp;\r\n                                <NumberFormat\r\n                                    displayType=\"text\" \r\n                                    value={cart.length}\r\n                                    customInput={TextField}\r\n                                    fullWidth\r\n                                    size=\"small\"\r\n                                    variant=\"outlined\"\r\n                                    label=\"Total\"\r\n                                    InputProps={{\r\n                                        startAdornment : (\r\n                                            <InputAdornment position=\"start\">\r\n                                                <FontAwesomeIcon icon={faDollarSign} />\r\n                                            </InputAdornment>\r\n                                        )\r\n                                    }}\r\n                                />\r\n                            </Typography>\r\n                        </Grid>\r\n                        <Grid item lg={12} sm={12}>\r\n                            <Typography variant=\"h6\">\r\n                                Total Price :&nbsp;\r\n                                <NumberFormat\r\n                                    displayType=\"text\" \r\n                                    value={total}\r\n                                    customInput={TextField}\r\n                                    fixedDecimalScale\r\n                                    decimalScale={2}\r\n                                    thousandSeparator\r\n                                    decimalSeparator=\".\"\r\n                                    prefix=\"Php \"\r\n                                    fullWidth\r\n                                    size=\"small\"\r\n                                    variant=\"outlined\"\r\n                                    label=\"Total\"\r\n                                    InputProps={{\r\n                                        startAdornment : (\r\n                                            <InputAdornment position=\"start\">\r\n                                                <FontAwesomeIcon icon={faDollarSign} />\r\n                                            </InputAdornment>\r\n                                        )\r\n                                    }}\r\n                                />\r\n                            </Typography>\r\n                        </Grid>\r\n                        <Grid item lg={12} sm={12}>\r\n                            <Typography variant=\"h6\">\r\n                                Cash Change :&nbsp;                                \r\n                                <NumberFormat\r\n                                    displayType=\"text\" \r\n                                    value={info.cash_amount == 0 ? 0.00 : info.cash_amount - total}\r\n                                    customInput={TextField}\r\n                                    fixedDecimalScale\r\n                                    decimalScale={2}\r\n                                    thousandSeparator\r\n                                    decimalSeparator=\".\"\r\n                                    fullWidth\r\n                                    size=\"small\"\r\n                                    variant=\"outlined\"\r\n                                    label=\"Total\"\r\n                                    InputProps={{\r\n                                        startAdornment : (\r\n                                            <InputAdornment position=\"start\">\r\n                                                <FontAwesomeIcon icon={faDollarSign} />\r\n                                            </InputAdornment>\r\n                                        )\r\n                                    }}\r\n                                />\r\n                            </Typography>\r\n                        </Grid>\r\n                        <Grid item lg={12} sm={12}>\r\n                            <TextField\r\n                                fullWidth\r\n                                variant=\"outlined\"\r\n                                value={info.customer_name}\r\n                                onChange={(e)=>{\r\n                                    setInfo(info=>{\r\n                                        return {\r\n                                            ...info,\r\n                                            customer_name : e.target.value\r\n                                        }\r\n                                    });\r\n                                }}\r\n                                label=\"Customer Name\"\r\n                                InputProps={{\r\n                                    startAdornment : (\r\n                                        <InputAdornment position=\"start\">\r\n                                            <FontAwesomeIcon icon={faUserTie} />\r\n                                        </InputAdornment>\r\n                                    )\r\n                                }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item lg={12} sm={12}>\r\n                            <NumberFormat \r\n                                error={(info.transact_payment_type == 'full' && info.cash_amount < total ? true : false) || (\r\n                                    info.cash_amount == 0 && info.transact_payment_type == 'partial'\r\n                                )}\r\n                                label=\"Cash Amount\"\r\n                                fullWidth\r\n                                variant=\"outlined\"\r\n                                customInput={TextField}\r\n                                value={info.cash_amount}\r\n                                decimalScale={2}\r\n                                decimalSeparator=\".\"\r\n                                fixedDecimalScale\r\n                                InputProps={{\r\n                                    startAdornment : (\r\n                                        <InputAdornment position=\"start\">\r\n                                            <FontAwesomeIcon icon={faMoneyBill} />\r\n                                        </InputAdornment>\r\n                                    )\r\n                                }}\r\n                                onChange={(e)=>{\r\n                                    let cash = e.target.value;\r\n                                    setInfo(info=>{\r\n                                        return {\r\n                                            ...info,\r\n                                            cash_amount : cash\r\n                                        }\r\n                                    });\r\n                                }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item lg={12} sm={12}>\r\n                            <TextField\r\n                                fullWidth\r\n                                variant=\"outlined\"\r\n                                select\r\n                                label=\"Payment Type\"\r\n                                value={info.transaction_payment_type}\r\n                                onChange={(e)=>{\r\n                                    let payment_type = e.target.value;\r\n                                    setInfo(info=>{\r\n                                        return {\r\n                                            ...info,\r\n                                            transact_payment_type : payment_type \r\n                                        }\r\n                                    });\r\n                                }}\r\n                            >\r\n                                <MenuItem value=\"full\">Full Payment</MenuItem>\r\n                                <MenuItem value=\"partial\">Partial Payment</MenuItem>\r\n                            </TextField>\r\n                        </Grid>\r\n                        <Grid \r\n                            item \r\n                            lg={12} \r\n                            sm={12} \r\n                            style={{ \r\n                                position : 'absolute', \r\n                                bottom : '0',\r\n                                left : '0'\r\n                            }}\r\n                        >\r\n                            <ButtonGroup\r\n                                variant=\"outlined\" \r\n                                color=\"primary\" \r\n                                aria-label=\"contained primary button group\"\r\n                            >\r\n                                <Button \r\n                                    fullWidth \r\n                                    startIcon={<FontAwesomeIcon color=\"green\" icon={faMoneyBillAlt} />}\r\n                                    onClick={ async()=>{                                        \r\n                                        \r\n                                        if( info.customer_name == '' ) return;\r\n                                        if( info.cash_amount === 0 ) return; \r\n                                        if(info.transact_payment_type == 'full' && info.cash_amount < total) return;\r\n\r\n                                        const resTrans = await dispatch( CreateTransaction({\r\n                                            values : cart.map(item=>{\r\n                                                return {\r\n                                                    ...item,                                                    \r\n                                                    customer_name : info.customer_name,\r\n                                                    total_amount : total,\r\n                                                    cash_amount : info.cash_amount,\r\n                                                    change_amount : info.cash_amount - total,\r\n                                                    transact_payment_type : info.transact_payment_type,\r\n                                                    transact_status : info.transact_payment_type === 'full' ? true : false\r\n                                                }\r\n                                            })\r\n                                        }) );\r\n\r\n                                        if( CreateTransaction.fulfilled.match(resTrans) ){\r\n                                            handleClose(resTrans);\r\n                                        }else if( CreateTransaction.rejected.match(resTrans) ){\r\n                                            dispatch( OpenNotification({\r\n                                                message : 'Error : ' + resTrans.payload,\r\n                                                severity : 'error'\r\n                                            }) );\r\n                                        }\r\n                                    }}\r\n                                >\r\n                                    Process Order\r\n                                </Button>\r\n                                <Button\r\n                                    onClick={handleClose}\r\n                                >Cancel</Button>\r\n                            </ButtonGroup>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n            </Fade>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default withStyles(useStyle)(Transaction)\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst ConnectionSlice = createSlice({\r\n    name : 'connection',\r\n    initialState : {\r\n        isConnected : false\r\n    },\r\n    reducers : {\r\n        setConnection : (state,{payload})=>{\r\n            state.isConnected = payload;\r\n        }\r\n    }\r\n});\r\nexport const { setConnection } = ConnectionSlice.actions;\r\nexport default ConnectionSlice.reducer;","import { Box, Button, Divider, Grid, IconButton, InputAdornment, Paper, TextField, Typography, withStyles } from '@material-ui/core'\r\nimport { Close, Minimize } from '@material-ui/icons'\r\nimport React, { useEffect,useState } from 'react'\r\nimport useStyles from './Styles';\r\nimport { motion } from 'framer-motion';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCircle, faList, faSearch, faSyncAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { io } from 'socket.io-client';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setConnection } from '../store/ConnectionSlice';\r\nimport { searchProduct, selectAllProducts } from '../../products/store/productServices';\r\nimport { useHistory } from 'react-router';\r\n\r\nfunction Header(props) {\r\n\r\n    const { ipcRenderer } = window.require('electron');\r\n    const { searchRef } = props;\r\n    const { HeaderWrap } = props.classes;\r\n    const host = process.env.REACT_APP_HOST ? process.env.REACT_APP_HOST : 'localhost';\r\n    const socket = io(`http://${host}:8081`);\r\n    const dispatch = useDispatch();\r\n    const { isConnected : connection } = useSelector(state=>state.connection);\r\n    const history = useHistory();\r\n    \r\n    const closeWindow = ()=>{\r\n        ipcRenderer.invoke('close');\r\n    }\r\n  \r\n    const minimizeWindow = ()=>{\r\n        ipcRenderer.invoke('min');\r\n    }\r\n\r\n    useEffect(()=>{\r\n\r\n        socket.on('connect',()=>{\r\n            dispatch( setConnection(socket.connected) );\r\n        });\r\n\r\n        socket.on('disconnect',()=>{\r\n            dispatch( setConnection(socket.connected) );\r\n        });\r\n\r\n    },[]);\r\n\r\n    return (\r\n        <Grid              \r\n            item   \r\n            container\r\n            lg={12} sm={12}\r\n            className={HeaderWrap}\r\n            component={Paper}\r\n            elevation={2}\r\n            style={{\r\n                display : \"flex !important\",\r\n                flexDirection : 'row',\r\n                justifyContent : \"space-between\"\r\n            }}\r\n        >\r\n            <Box\r\n                style={{\r\n                    WebkitAppRegion : \"no-drag\",\r\n                    height : \"40px\",\r\n                    alignSelf : \"center\",\r\n                    display : 'flex'\r\n                }}\r\n            >\r\n                <TextField \r\n                    size=\"small\"\r\n                    margin=\"none\"                    \r\n                    variant=\"outlined\" \r\n                    label=\"Search Product\"\r\n                    inputRef={searchRef}\r\n                    InputProps={{\r\n                        startAdornment : (\r\n                            <InputAdornment position=\"start\">\r\n                                <FontAwesomeIcon icon={faSearch} />\r\n                            </InputAdornment>\r\n                        )\r\n                    }}\r\n                    onKeyPress={(e)=>{\r\n                        if( e.key === 'Enter' ){\r\n                            dispatch( searchProduct({\r\n                                opt : {\r\n                                    url : '/products/search/' + e.target.value\r\n                                }\r\n                            }) );\r\n                        }\r\n                    }}\r\n                />    \r\n                <Divider style={{ margin : \"0px 10px\"}} variant=\"fullWidth\" orientation=\"vertical\" flexItem />                \r\n                <Box\r\n                    style={{\r\n                        WebkitAppRegion : \"no-drag\",\r\n                        height : \"40px\",\r\n                        display : 'flex',\r\n                        alignItems : 'center'\r\n                    }}\r\n                >\r\n                    <IconButton                        \r\n                        size=\"small\"\r\n                        onClick={()=>{\r\n                            dispatch( selectAllProducts({\r\n                                opt : {\r\n                                    url : '/products'\r\n                                }\r\n                            }) );\r\n                        }}\r\n                    >                        \r\n                        <FontAwesomeIcon color=\"blue\" icon={faSyncAlt} />    \r\n                    </IconButton>                    \r\n                </Box>\r\n                <Divider style={{ margin : \"0px 10px\"}} variant=\"fullWidth\" orientation=\"vertical\" flexItem />\r\n                <Box\r\n                    style={{\r\n                        WebkitAppRegion : \"no-drag\",\r\n                        height : \"40px\",\r\n                        display : 'flex',\r\n                        alignItems : 'center',\r\n                        justifySelf : 'flex-end'\r\n                    }}\r\n                >\r\n                    <Button\r\n                        variant=\"outlined\"\r\n                        startIcon={<FontAwesomeIcon color=\"green\" icon={faList} />}\r\n                        size=\"small\"\r\n                        onClick={()=>{\r\n                            history.push('/translist');\r\n                        }}                        \r\n                    >\r\n                        Transactions\r\n                    </Button>\r\n                </Box>\r\n                <Divider style={{ margin : \"0px 10px\"}} variant=\"fullWidth\" orientation=\"vertical\" flexItem />\r\n                <Box\r\n                    style={{\r\n                        WebkitAppRegion : \"no-drag\",\r\n                        height : \"40px\",\r\n                        display : 'flex',\r\n                        alignItems : 'center',\r\n                        justifySelf : 'flex-end'\r\n                    }}\r\n                >\r\n                    <FontAwesomeIcon icon={faCircle} color={\r\n                        connection ? \"green\" : \"red\"\r\n                    } />\r\n                    <Typography variant=\"caption\">&nbsp;{ connection ? \"Connected to Server\" : \"Disconnected\" }</Typography>\r\n                </Box>\r\n            </Box>\r\n            <Box  \r\n                style={{\r\n                    WebkitAppRegion : \"no-drag\",\r\n                    alignSelf : \"center\"\r\n                }}\r\n            >\r\n                <IconButton\r\n                    size=\"small\"\r\n                    component={motion.div}\r\n                    whileHover={{scale : 1.1}}\r\n                    onClick={minimizeWindow}\r\n                >\r\n                    <Minimize \r\n                        color=\"primary\" \r\n                    />\r\n                </IconButton>\r\n                <IconButton                     \r\n                    size=\"small\"                     \r\n                    component={motion.div}\r\n                    whileHover={{scale : 1.1}}\r\n                    onClick={closeWindow}\r\n                >\r\n                    <Close \r\n                        color=\"secondary\" \r\n                    />\r\n                </IconButton>&nbsp;&nbsp;\r\n            </Box>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default withStyles(useStyles)(Header)\r\n","import { faBoxes, faCalendar, faIdCard, faMarker, faMoneyBillWaveAlt, faPrint, faStop, faTrash, faUserTie } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Backdrop, Button, ButtonGroup, Fade, Grid, IconButton, InputAdornment, makeStyles, Modal, TextField } from '@material-ui/core'\r\nimport { Close } from '@material-ui/icons';\r\nimport React, { useState } from 'react';\r\nimport NumberFormat from 'react-number-format';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Loader from '../../shared/components/Loader';\r\nimport { OpenNotification } from '../../shared/store/NotificationSlice';\r\nimport { deleteTransaction, getDocDef, updateTransaction } from '../store/TransactionServices';\r\n\r\nconst useStyles = makeStyles((theme)=>({\r\n    Modal : {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    ModalContent : {\r\n        width : \"450px\",\r\n        height : \"auto\",\r\n        borderRadius : \"5px\",\r\n        background : \"#ffffff\",\r\n        outline : 'none',\r\n        padding : \"25px\"   \r\n    }\r\n}));\r\n\r\nfunction TransactionSingle(props) {\r\n\r\n    const { inOpen,onClose,data : transaction } = props;\r\n    const dispatch = useDispatch();\r\n    const { loading } = useSelector(state=>state.transactions);\r\n    const classes = useStyles();\r\n    const [payment,setPayment] = useState({\r\n        partial_payments : 0\r\n    });\r\n    const history = useHistory();\r\n\r\n    if( loading ){\r\n        return(\r\n            <Loader />\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            open={inOpen}\r\n            onClose={onClose}\r\n            BackdropComponent={Backdrop}\r\n            BackdropProps={{\r\n                timeout : 500\r\n            }}\r\n            className={classes.Modal}\r\n        >\r\n            <Fade\r\n                in={inOpen}\r\n            >\r\n                <div className={classes.ModalContent}>\r\n                    {console.log(payment.partial_payments)}\r\n                    <Grid container spacing={2}>\r\n                        <Grid item lg={12} sm={12}>\r\n                            <TextField \r\n                                size=\"small\"\r\n                                fullWidth\r\n                                disabled\r\n                                label=\"Transaction ID\"\r\n                                value={transaction._id}\r\n                                variant=\"outlined\"\r\n                                InputProps={{\r\n                                    startAdornment : (\r\n                                        <InputAdornment position=\"start\">\r\n                                            <FontAwesomeIcon icon={faIdCard} />\r\n                                        </InputAdornment>\r\n                                    )\r\n                                }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item lg={12} sm={12}>\r\n                            <TextField \r\n                                size=\"small\"\r\n                                fullWidth\r\n                                disabled\r\n                                label=\"Customer\"\r\n                                value={transaction.customer_name}\r\n                                variant=\"outlined\"\r\n                                InputProps={{\r\n                                    startAdornment : (\r\n                                        <InputAdornment position=\"start\">\r\n                                            <FontAwesomeIcon icon={faUserTie} />\r\n                                        </InputAdornment>\r\n                                    )\r\n                                }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item lg={4} sm={4}>\r\n                            <TextField \r\n                                size=\"small\"\r\n                                fullWidth\r\n                                label=\"Item in cart\"\r\n                                value={transaction.cart_count}\r\n                                variant=\"outlined\"\r\n                                InputProps={{\r\n                                    startAdornment : (\r\n                                        <InputAdornment position=\"start\">\r\n                                            <FontAwesomeIcon icon={faBoxes} />\r\n                                        </InputAdornment>\r\n                                    )\r\n                                }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item lg={8} sm={8}>\r\n                            <TextField \r\n                                size=\"small\"\r\n                                fullWidth\r\n                                label=\"Transaction Date\"\r\n                                value={new Date(transaction.transaction_date).toISOString().split('T')[0]}\r\n                                variant=\"outlined\"\r\n                                InputProps={{\r\n                                    startAdornment : (\r\n                                        <InputAdornment position=\"start\">\r\n                                            <FontAwesomeIcon icon={faCalendar} />\r\n                                        </InputAdornment>\r\n                                    )\r\n                                }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item lg={5} sm={5}>\r\n                            <TextField \r\n                                size=\"small\"\r\n                                fullWidth\r\n                                label=\"Payment Type\"\r\n                                value={transaction.payment_type}\r\n                                variant=\"outlined\"\r\n                                InputProps={{\r\n                                    style : {\r\n                                        color : transaction.payment_type == 'partial' ? \"maroon\" : \"green\"\r\n                                    }, \r\n                                    startAdornment : (\r\n                                        <InputAdornment position=\"start\">\r\n                                            <FontAwesomeIcon icon={faMoneyBillWaveAlt} />\r\n                                        </InputAdornment>\r\n                                    )\r\n                                }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item lg={7} sm={7}>\r\n                            <NumberFormat\r\n                                customInput={TextField}\r\n                                fixedDecimalScale\r\n                                decimalScale={2}\r\n                                thousandSeparator\r\n                                allowNegative={false}\r\n                                prefix=\"Php \" \r\n                                size=\"small\"\r\n                                fullWidth\r\n                                label={transaction.payment_type == 'partial' ? \"Remaining Balance\" : \"Change Amount\"}\r\n                                value={transaction.change_amount}\r\n                                variant=\"outlined\"\r\n                                InputProps={{\r\n                                    style : {\r\n                                        color : transaction.payment_type == 'partial' ? \"maroon\" : \"green\"\r\n                                    }, \r\n                                    startAdornment : (\r\n                                        <InputAdornment position=\"start\">\r\n                                            <FontAwesomeIcon icon={faMoneyBillWaveAlt} />\r\n                                        </InputAdornment>\r\n                                    )\r\n                                }}\r\n                            />\r\n                        </Grid>\r\n                        {transaction.payment_type === 'partial' ? (\r\n                            <Grid item container lg={12} sm={12} spacing={2}>\r\n                                <Grid item lg={6} sm={6}>\r\n                                    <NumberFormat\r\n                                        customInput={TextField}\r\n                                        fixedDecimalScale\r\n                                        decimalScale={2}\r\n                                        thousandSeparator\r\n                                        size=\"small\"\r\n                                        fullWidth\r\n                                        label=\"Amount\"\r\n                                        margin=\"dense\"                                        \r\n                                        variant=\"outlined\"\r\n                                        onChange={(e)=>{                        \r\n                                            setPayment(payment=>{\r\n                                                return {\r\n                                                    ...payment,\r\n                                                    partial_payments : parseInt(e.target.value)\r\n                                                }\r\n                                            })\r\n                                        }}\r\n                                        InputProps={{\r\n                                            style : {\r\n                                                color : transaction.payment_type == 'partial' ? \"maroon\" : \"green\"\r\n                                            }, \r\n                                            startAdornment : (\r\n                                                <InputAdornment position=\"start\">\r\n                                                    <FontAwesomeIcon icon={faMoneyBillWaveAlt} />\r\n                                                </InputAdornment>\r\n                                            )\r\n                                        }}\r\n                                    />\r\n                                </Grid>\r\n                                <Grid \r\n                                    item \r\n                                    lg={6} \r\n                                    sm={6}\r\n                                    style={{\r\n                                        display : \"flex\",\r\n                                        justifyContent : \"center\",\r\n                                        alignItems : \"center\"\r\n                                    }}\r\n                                >\r\n                                    <ButtonGroup variant=\"contained\">\r\n                                        <Button    \r\n                                            size=\"small\"                                                                                    \r\n                                            color=\"secondary\"\r\n                                            style={{\r\n                                                background : \"green\"\r\n                                            }}\r\n                                            onClick={async()=>{\r\n                                                const res = await dispatch( updateTransaction({\r\n                                                    opt : {\r\n                                                        url : '/transactions/' + transaction._id\r\n                                                    },\r\n                                                    value : payment\r\n                                                }) );\r\n\r\n                                                if( updateTransaction.fulfilled.match(res) ){\r\n                                                    dispatch( OpenNotification({\r\n                                                        message : 'Transaction Updated',\r\n                                                        severity : 'success'\r\n                                                    }) );\r\n                                                }else{\r\n                                                    dispatch( OpenNotification({\r\n                                                        message : 'Transaction Update Failed',\r\n                                                        severity : 'error'\r\n                                                    }) );\r\n                                                }\r\n                                            }}\r\n                                            startIcon={<FontAwesomeIcon icon={<Close />} />}\r\n                                        >\r\n                                            Paid\r\n                                        </Button>\r\n                                        <Button \r\n                                            size=\"small\"                                                                                       \r\n                                            color=\"primary\"\r\n                                            onClick={async ()=>{\r\n                                                const resTrans = await dispatch( getDocDef({\r\n                                                    opt : {\r\n                                                        url : '/gc-print/transactions/' + transaction._id\r\n                                                    }\r\n                                                }) );\r\n\r\n                                                if( getDocDef.fulfilled.match(resTrans) ){\r\n                                                    const docDef = resTrans.payload;\r\n                                                    history.push('/transaction/success?pdf=' + docDef);\r\n                                                }else{\r\n                                                    dispatch( OpenNotification({\r\n                                                        message : 'Cannot Print Transaction, please try again.',\r\n                                                        severity : 'error'\r\n                                                    }) );\r\n                                                }\r\n                                            }}\r\n                                            startIcon={<FontAwesomeIcon icon={faPrint} />}\r\n                                        >\r\n                                            Print\r\n                                        </Button>\r\n                                        <Button   \r\n                                            size=\"small\"                                                                                     \r\n                                            color=\"secondary\"\r\n                                            onClick={onClose}\r\n                                            startIcon={<FontAwesomeIcon icon={<Close />} />}\r\n                                        >\r\n                                            Cancel\r\n                                        </Button>\r\n                                    </ButtonGroup>\r\n                                </Grid>\r\n                            </Grid>\r\n                        ) : (\r\n                            <Grid item container lg={12} sm={12} spacing={2}>\r\n                                <Grid item lg={6} sm={6}></Grid>\r\n                                <Grid item lg={6} sm={6}>\r\n                                    <ButtonGroup\r\n                                        size=\"medium\"\r\n                                    >\r\n                                        <Button\r\n                                            fullWidth                                        \r\n                                            size=\"medium\"                                                                                       \r\n                                            color=\"secondary\"\r\n                                            variant=\"contained\"\r\n                                            onClick={async ()=>{\r\n                                                \r\n                                                const res = await dispatch( deleteTransaction({\r\n                                                    opt : {\r\n                                                        url : '/transactions/' + transaction._id\r\n                                                    }\r\n                                                }) );\r\n\r\n                                                if( deleteTransaction.fulfilled.match(res) ){\r\n                                                    dispatch(OpenNotification({\r\n                                                        message : 'Transaction deleted.',\r\n                                                        severity : 'success'\r\n                                                    }));\r\n                                                    onClose();\r\n                                                }else{\r\n                                                    dispatch( OpenNotification({\r\n                                                        message : 'Transaction not deleted',\r\n                                                        severity : 'error'\r\n                                                    }) );\r\n                                                }\r\n                                            }}\r\n                                            startIcon={<FontAwesomeIcon icon={faTrash} />}\r\n                                        >\r\n                                            Delete\r\n                                        </Button>\r\n                                        <Button \r\n                                            fullWidth                                        \r\n                                            size=\"medium\"                                                                                       \r\n                                            color=\"primary\"\r\n                                            variant=\"contained\"\r\n                                            onClick={onClose}\r\n                                            startIcon={<FontAwesomeIcon icon={faPrint} />}\r\n                                            onClick={async ()=>{\r\n                                                const resTrans = await dispatch( getDocDef({\r\n                                                    opt : {\r\n                                                        url : '/gc-print/transactions/' + transaction._id\r\n                                                    }\r\n                                                }) );\r\n\r\n                                                if( getDocDef.fulfilled.match(resTrans) ){\r\n                                                    const docDef = resTrans.payload;\r\n                                                    history.push('/transaction/success?pdf=' + docDef + '&page=transaction');\r\n                                                }else{\r\n                                                    dispatch( OpenNotification({\r\n                                                        message : 'Cannot Print Transaction, please try again.',\r\n                                                        severity : 'error'\r\n                                                    }) );\r\n                                                }\r\n                                            }}\r\n                                        >\r\n                                            Print\r\n                                        </Button>\r\n                                    </ButtonGroup>                                    \r\n                                </Grid>\r\n                            </Grid>\r\n                        )}\r\n                    </Grid>\r\n                </div>\r\n            </Fade>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default TransactionSingle\r\n","import { TableCell, TableRow } from '@material-ui/core';\r\nimport NumberFormat from 'react-number-format';\r\nimport React, { useState } from 'react'\r\nimport TransactionSingle from './TransactionSingle';\r\n\r\nfunction TransactionItems({transaction}) {\r\n\r\n    const [open,setOpen] = useState(false);\r\n\r\n    const handleOpen = ()=>{\r\n        setOpen(true);\r\n    }\r\n\r\n    const handleClose = ()=>{\r\n        setOpen(false);\r\n    }\r\n\r\n    return (\r\n        <TableRow\r\n            key={transaction._id}\r\n            hover\r\n            onDoubleClick={handleOpen}\r\n            style={{ \r\n                background : transaction.payment_type == 'partial' ? '#fafafa' : '',\r\n                cursor : 'pointer',\r\n                userSelect : 'none'\r\n            }}\r\n        >\r\n            <TableCell>{transaction.customer_name}</TableCell>\r\n            <TableCell\r\n                style={{\r\n                    textAlign : \"center\"\r\n                }}\r\n            >{transaction.cart_count}</TableCell>\r\n            <TableCell\r\n                style={{\r\n                    textAlign : \"center\"\r\n                }}\r\n            >{transaction.transaction_date.split('T')[0]}</TableCell>\r\n            <TableCell\r\n                style={{\r\n                    textAlign : \"center\"\r\n                }}\r\n            >{transaction.payment_type}</TableCell>\r\n            <TableCell\r\n                style={{\r\n                    textAlign : \"center\"\r\n                }}\r\n            >\r\n                <NumberFormat \r\n                    displayType=\"text\"\r\n                    value={transaction.cash_amount}\r\n                    fixedDecimalScale\r\n                    decimalScale={2}\r\n                    thousandSeparator\r\n                    prefix=\"Php \"\r\n                />\r\n            </TableCell>\r\n            <TableCell\r\n                style={{\r\n                    textAlign : \"center\"\r\n                }}\r\n            >\r\n                <NumberFormat \r\n                    displayType=\"text\"\r\n                    value={transaction.total_price}\r\n                    fixedDecimalScale\r\n                    decimalScale={2}\r\n                    thousandSeparator\r\n                    prefix=\"Php \"\r\n                />\r\n            </TableCell>\r\n            <TableCell\r\n                style={{\r\n                    textAlign : \"center\"\r\n                }}\r\n            >\r\n                <NumberFormat \r\n                    displayType=\"text\"\r\n                    value={transaction.change_amount}\r\n                    allowNegative={false}\r\n                    fixedDecimalScale\r\n                    decimalScale={2}\r\n                    thousandSeparator\r\n                    prefix=\"Php \"\r\n                />\r\n            </TableCell>\r\n            <TransactionSingle data={transaction} inOpen={open} onClose={handleClose} />\r\n        </TableRow>\r\n    )\r\n}\r\n\r\nexport default TransactionItems\r\n","import { faSearch } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { \r\n    AppBar, \r\n    Dialog, \r\n    Grid, \r\n    IconButton, \r\n    InputAdornment, \r\n    makeStyles, \r\n    Paper, \r\n    Slide, \r\n    Table, \r\n    TableBody, \r\n    TableCell, \r\n    TableContainer, \r\n    TableHead, \r\n    TablePagination, \r\n    TableRow, \r\n    TextField, \r\n    Toolbar \r\n} from '@material-ui/core';\r\nimport { KeyboardDatePicker,MuiPickersUtilsProvider } from '@material-ui/pickers';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { Close } from '@material-ui/icons';\r\nimport React, { forwardRef, useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { findTransaction, getAllTransaction } from '../store/TransactionServices';\r\nimport TransactionItems from './TransactionItems';\r\nimport Loader from '../../shared/components/Loader';\r\n\r\nconst useStyles = makeStyles((theme)=>({\r\n    appBar : {\r\n        position : 'relative',\r\n        background : \"#ffffff\"\r\n    }\r\n}));\r\n\r\nconst TransitionDialog = forwardRef((props,ref)=>{\r\n    return(\r\n        <Slide \r\n            direction=\"up\"\r\n            ref={ref}\r\n            {...props}\r\n        />\r\n    )\r\n});\r\n\r\nfunction TransactionList(props) {\r\n\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const { entities : transactions } = useSelector(state=>state.transactions);\r\n    const { loading } = useSelector(state=>state.transactions);\r\n    \r\n    const [open,setOpen] = useState(false);\r\n\r\n    const [page, setPage] = useState(0);\r\n    const [rowsPerPage, setRowsPerPage] = useState(8);\r\n    const [search,setSearch] = useState('');\r\n\r\n    const handleChangePage = (event, newPage) => {\r\n        setPage(newPage);\r\n    };\r\n\r\n    const handleChangeRowsPerPage = (event) => {\r\n        setRowsPerPage(+event.target.value);\r\n        setPage(0);\r\n    };\r\n\r\n    const handleClose = ()=>{\r\n        setOpen(false);\r\n        history.goBack();\r\n    }\r\n\r\n    useEffect(()=>{\r\n        setOpen(true);\r\n        dispatch( getAllTransaction({\r\n            opt : {\r\n                url : '/transactions'\r\n            }\r\n        }) );\r\n    },[]);\r\n\r\n    const [selectedDate, setSelectedDate] = useState(new Date(Date.now()).toLocaleDateString());\r\n\r\n    const handleDateChange = (date) => {\r\n        setSelectedDate(new Date(date));\r\n        let selDate = new Date(date);\r\n        dispatch( findTransaction({\r\n            opt : {\r\n                url : `/search/transactions?date=${selDate}`\r\n            }\r\n        }) )\r\n    };\r\n\r\n    if( loading ){\r\n        return(\r\n            <Loader />\r\n        )\r\n    }\r\n\r\n\r\n    return (\r\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n        <Dialog\r\n            fullScreen\r\n            open={open}\r\n            onClose={handleClose}\r\n            TransitionComponent={TransitionDialog}\r\n            style={{\r\n                WebkitAppRegion : \"no-drag\"\r\n            }}\r\n        >   \r\n            <AppBar className={classes.appBar}>\r\n                <Toolbar \r\n                    style={{\r\n                        justifyContent : 'space-between'\r\n                    }}\r\n                >\r\n                    <TextField \r\n                        size=\"small\"\r\n                        variant=\"outlined\"\r\n                        label=\"Search\"\r\n                        InputProps={{\r\n                            startAdornment : (\r\n                                <InputAdornment position=\"start\">\r\n                                    <FontAwesomeIcon icon={faSearch} />\r\n                                </InputAdornment>\r\n                            )\r\n                        }}\r\n                        style={{\r\n                            flexBasis : \"220px\",\r\n                            flex : 2,\r\n                            marginRight : \"10px\"\r\n                        }}\r\n                        onKeyDown={(e)=>{\r\n                            setSearch(e.target.value);\r\n                        }}\r\n                        onKeyPress={(e)=>{\r\n                            if( e.key === 'Enter' ){\r\n                                dispatch( findTransaction({\r\n                                    opt : {\r\n                                        url : `/search/transactions?s=${search}`\r\n                                    }\r\n                                }) )\r\n                            }\r\n                        }}\r\n                    />\r\n                    <KeyboardDatePicker\r\n                        disableToolbar\r\n                        variant=\"inline\"\r\n                        format=\"yyyy-dd-MM\"\r\n                        size=\"small\"\r\n                        margin=\"dense\"\r\n                        id=\"date-picker-inline\"\r\n                        label=\"Filter Date\"\r\n                        value={selectedDate}\r\n                        onChange={handleDateChange}\r\n                        KeyboardButtonProps={{\r\n                          'aria-label': 'change date',\r\n                        }}\r\n                        style={{\r\n                            alignSelf : \"flex-start\",\r\n                            flex : 1\r\n                        }}\r\n                    />\r\n                    <IconButton focusRipple={false} style={{ margin : \"0px 8px\" }} size=\"small\" onClick={handleClose}>\r\n                        <Close color=\"secondary\" />\r\n                    </IconButton>                    \r\n                </Toolbar>\r\n            </AppBar>\r\n            <Grid container>\r\n                <Grid item lg={12} sm={12} style={{ padding : \"30px\" }}>\r\n                    <TableContainer\r\n                        component={Paper}\r\n                        elevation={2}\r\n                    >\r\n                        <Table \r\n                            stickyHeader \r\n                            size=\"medium\"\r\n                        >\r\n                            <TableHead>\r\n                                <TableRow>\r\n                                    <TableCell style={{ fontWeight : 600 }}>Customer Name</TableCell>\r\n                                    <TableCell style={{ fontWeight : 600, textAlign : 'center' }}>In cart</TableCell>\r\n                                    <TableCell style={{ fontWeight : 600, textAlign : 'center' }}>Transaction date</TableCell>\r\n                                    <TableCell style={{ fontWeight : 600, textAlign : 'center' }}>Payment Type</TableCell>\r\n                                    <TableCell style={{ fontWeight : 600, textAlign : 'center' }}>Cash Amount</TableCell>\r\n                                    <TableCell style={{ fontWeight : 600, textAlign : 'center' }}>Total</TableCell>\r\n                                    <TableCell style={{ fontWeight : 600, textAlign : 'center' }}>Change</TableCell>\r\n                                </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                                {transactions.map(entry=>(\r\n                                    <TransactionItems transaction={entry} />\r\n                                ))}\r\n                            </TableBody>\r\n                            <TablePagination \r\n                                rowsPerPageOptions={[8, 16, 800]}\r\n                                count={transactions.length}\r\n                                rowsPerPage={rowsPerPage}\r\n                                page={page}\r\n                                onChangePage={handleChangePage}\r\n                                onChangeRowsPerPage={handleChangeRowsPerPage}\r\n                                labelRowsPerPage={false}\r\n                            />\r\n                        </Table>\r\n                    </TableContainer>\r\n                </Grid>\r\n            </Grid>            \r\n        </Dialog>\r\n        </MuiPickersUtilsProvider>\r\n    )\r\n}\r\n\r\nexport default TransactionList\r\n","import React,{ useEffect,useState } from 'react'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport { Modal,Backdrop,Fade, Fab } from '@material-ui/core';\r\nimport { useSelector } from 'react-redux';\r\nimport Loader from '../../shared/components/Loader';\r\nimport Styles from './Styles';\r\nimport { withStyles } from '@material-ui/styles';\r\nimport { Close } from '@material-ui/icons';\r\n\r\nexport const useQuery = ()=>{\r\n    return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nfunction SuccessPage(props) {\r\n\r\n    const history = useHistory();\r\n    const [open,setOpen] = useState(false);\r\n    const { loading } = useSelector(state=>state.transactions);\r\n    const query = useQuery();\r\n    const pdf = query.get('pdf');\r\n    const page = query.get('page');\r\n    const { classes } = props;\r\n\r\n    console.log(page);\r\n\r\n    const handleClose = ()=>{\r\n        \r\n        if( page === 'transaction' ){\r\n            history.goBack();\r\n        }else{\r\n            history.push('/');\r\n        }\r\n\r\n        setOpen(false);\r\n    }\r\n\r\n    console.log(pdf);\r\n\r\n    useEffect(()=>{\r\n        setOpen(true);\r\n    },[]);\r\n\r\n    if( loading ){\r\n        return(\r\n            <Loader />\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            open={open}\r\n            onClose={handleClose}\r\n            BackdropComponent={Backdrop}\r\n            BackdropProps={{\r\n                timeout : 500\r\n            }}\r\n        >\r\n            <Fade\r\n                in={open}\r\n            >\r\n                <div className={classes.SuccessPageModal}>\r\n                    <Fab\r\n                        size=\"small\"\r\n                        variant=\"round\"\r\n                        onClick={handleClose}\r\n                        style={{\r\n                            position : \"absolute\",\r\n                            left : 15,\r\n                            top : 8,          \r\n                            WebkitAppRegion : \"no-drag\"          \r\n                        }}\r\n                    >\r\n                        <Close />\r\n                    </Fab>\r\n                    <iframe                         \r\n                        style={{\r\n                            border : \"none\",    \r\n                            WebkitAppRegion : 'no-drag'                        \r\n                        }} \r\n                        onClick={handleClose}                         \r\n                        src={pdf+'#toolbar=1'} \r\n                        width=\"100%\" \r\n                        height=\"100%\"\r\n                    ></iframe>\r\n                </div>                \r\n            </Fade>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default withStyles(Styles)(SuccessPage)\r\n","import React,{useEffect,useRef} from 'react';\nimport { BrowserRouter as Router,Switch, Route } from 'react-router-dom';\nimport Dashboard from './components/Dashboard/Index';\nimport ProductsList from './products/components/ProductsList';\nimport { io } from 'socket.io-client';\nimport { Grid, withStyles } from '@material-ui/core';\nimport useStyles from './Styles';\nimport Toast from './shared/components/Toast';\nimport { useDispatch } from 'react-redux';\nimport { CloseNotification } from './shared/store/NotificationSlice';\nimport PrintTransaction from './cart/components/PrintTransaction';\nimport Transaction from './cart/components/Transaction';\nimport Header from './shared/components/Header';\nimport TransactionList from './transactions/components/TransactionList';\nimport SuccessPage from './cart/components/SuccessPage';\n\nfunction App(props) {\n\n  const dispatch = useDispatch();\n  const { root,ContainerWrap } = props.classes;\n  const host = process.env.REACT_APP_HOST ? process.env.REACT_APP_HOST : 'localhost';\n  const socket = io(`http://${host}:8081`);\n  const searchRef = useRef(null);\n\n  const focusSearch = ()=>{\n      searchRef.current.focus();\n  }\n\n  useEffect(()=>{\n      console.log(host);\n\n      socket.emit('client',{\n          name : \"client\"\n      });\n\n      document.addEventListener('keydown',(e)=>{\n          if( e.ctrlKey && e.key == 'f' ){\n              focusSearch();\n          }\n      });\n\n      return ()=>{\n        document.removeEventListener('keydown',(e)=>{          \n            if( e.ctrlKey && e.key == 'f' ){\n                focusSearch();\n            }\n        });\n      }\n\n  },[]);\n\n  const handleClose = ()=>{\n      dispatch( CloseNotification() );\n  }\n\n  return (\n    <Router>\n    <Grid style={{ WebkitAppRegion : 'drag' }} container dicrection=\"column\" className={root} spacing={3}>\n        <Header searchRef={searchRef} />\n        <Grid item lg={12} sm={12} className={ContainerWrap}>\n            <Switch>\n                <Route exact path=\"/\">\n                    <Dashboard />\n                </Route>\n                <Route exact path=\"/products\" >\n                    <ProductsList />\n                </Route>\n                <Route exact path=\"/print\" >\n                    <PrintTransaction />\n                </Route>\n                <Route exact path=\"/transaction\">\n                    <Transaction />\n                </Route>\n                <Route exact path=\"/transaction/success\">\n                    <SuccessPage />\n                </Route>\n                <Route exact path=\"/translist\">\n                    <TransactionList />\n                </Route>\n            </Switch>\n            <Toast\n                handleCloseToast={handleClose}\n            />\n        </Grid>\n    </Grid>\n    </Router>\n  );\n}\n\nexport default withStyles(useStyles)(App);","import { createSlice } from '@reduxjs/toolkit';\r\nimport { createTransaction, deleteTransaction, findTransaction, getAllTransaction,getDocDef,updateTransaction } from './TransactionServices';\r\n\r\nconst transactionSlice = createSlice({\r\n    name : 'transactions',\r\n    initialState : {\r\n        entities : [],\r\n        pdf : [],\r\n        loading : false,\r\n        errors : null\r\n    },\r\n    reducers : {},\r\n    extraReducers : (builder)=>{\r\n        //FETCH ALL TRANSACTIONS\r\n        builder.addCase(getAllTransaction.pending,state=>{\r\n            state.loading = true;\r\n        })\r\n        .addCase(getAllTransaction.fulfilled,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.entities = payload;\r\n        })\r\n        .addCase(getAllTransaction.rejected,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.errors = payload;\r\n        })\r\n        //FIND TRANSACTION\r\n        .addCase(findTransaction.pending,state=>{\r\n            state.loading = true;\r\n        })\r\n        .addCase(findTransaction.fulfilled,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.entities = payload;\r\n        })\r\n        .addCase(findTransaction.rejected,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.errors = payload;\r\n        })\r\n        //GET DOCUMENT DEFINITION FOR PRINT\r\n        .addCase(getDocDef.pending,state=>{\r\n            state.loading = true;\r\n        })\r\n        .addCase(getDocDef.fulfilled,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.pdf = payload;\r\n        })\r\n        .addCase(getDocDef.rejected,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.errors = payload;\r\n        })\r\n        //CREATE TRANSACTION\r\n        .addCase(createTransaction.pending,state=>{\r\n            state.loading = true;\r\n        })\r\n        .addCase(createTransaction.fulfilled,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.entities[payload._id] = payload;\r\n        })\r\n        .addCase(createTransaction.rejected,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.errors = payload;\r\n        })\r\n        //UPDATE TRANSACTION\r\n        .addCase(updateTransaction.pending,state=>{\r\n            state.loading = true;\r\n        })\r\n        .addCase(updateTransaction.fulfilled,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.entities = payload;\r\n        })\r\n        .addCase(updateTransaction.rejected,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.errors = payload;\r\n        })\r\n        //DELETE TRANSACTION\r\n        .addCase(deleteTransaction.pending,state=>{\r\n            state.loading = true;\r\n        })\r\n        .addCase(deleteTransaction.fulfilled,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.entities = payload;\r\n        })\r\n        .addCase(deleteTransaction.rejected,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.errors = payload;\r\n        })\r\n    }\r\n});\r\n\r\nexport default transactionSlice.reducer;","import { configureStore } from '@reduxjs/toolkit';\r\nimport ProductReducers from '../../products/store/productSlice';\r\nimport CartReducer from '../../cart/store/CartSlice';\r\nimport NotificationReducer from './NotificationSlice';\r\nimport TransactionReducer from '../../transactions/store/TransactionSlice';\r\nimport ConnectionReducer from './ConnectionSlice';\r\n\r\nexport default configureStore({\r\n    reducer : {\r\n        products : ProductReducers,\r\n        cart : CartReducer,\r\n        notifications : NotificationReducer,\r\n        transactions : TransactionReducer,\r\n        connection : ConnectionReducer,        \r\n    }\r\n});","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport store from './shared/store/MainStore';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n  <Provider store={store}>\n      <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}