{"version":3,"sources":["shared/components/Styles.js","shared/components/Loader.js","shared/store/NotificationSlice.js","settings/store/SettingsServices.js","cart/store/CartServices.js","cart/store/CartSlice.js","cart/components/CartItems.js","cart/components/Cart.js","products/store/productServices.js","products/store/productSlice.js","products/components/ProductItem.js","products/components/ProductsList.js","components/Dashboard/Styles.js","components/Dashboard/Index.js","Styles.js","shared/components/Toast.js","cart/components/Styles.js","shared/store/ReportServices.js","cart/docs/TransactionDocDef.js","cart/components/Transaction.js","shared/store/ConnectionSlice.js","shared/components/Header.js","transactions/store/TransactionServices.js","transactions/components/TransactionSingle.js","transactions/components/TransactionItems.js","transactions/components/TransactionList.js","cart/components/SuccessPage.js","settings/components/Styles.js","settings/components/settings.js","transactions/components/Styles.js","transactions/components/TransactionDeleteModal.js","App.js","transactions/store/TransactionSlice.js","shared/store/ReportSlice.js","settings/store/SettingsSlice.js","shared/store/MainStore.js","index.js"],"names":["useStyles","ProgressWrap","top","left","display","position","justifyContent","flexDirection","alignItems","zIndex","backgroundColor","height","width","transition","borderRadius","HeaderWrap","padding","WebkitAppRegion","withStyles","props","classes","useState","progress","className","CircularProgress","size","style","textAlign","color","letterSpacing","NotificationSlice","createSlice","initialState","open","message","severity","reducers","OpenNotification","state","payload","CloseNotification","actions","SettingsServices","axios","create","baseURL","timeout","sleep","x","Promise","resolve","setTimeout","SetIPAddress","createAsyncThunk","args","a","rejectWithValue","url","data","method","res","response","GetSettings","CartService","CreateTransaction","dispatch","resSettings","fulfilled","match","settings","host","undefined","address","port","values","cartAdapter","createEntityAdapter","selectId","prod","_id","CartSlice","name","getInitialState","cart","loading","error","addItem","index","findIndex","item_name","item_price","item_qty","item_unit","qty","parseInt","total_per_unit","unshift","inventory_qty","discount","updateQty","val","NaN","setDiscount","calcDiscount","total","removeItem","splice","extraReducers","builder","addCase","pending","rejected","selectCart","cartItems","createDraftSafeSelector","cartLoading","CartItems","item","useDispatch","setTotal","useEffect","TableRow","component","motion","tr","initial","y","opacity","animate","TableCell","fontSize","icon","faBoxes","TextField","variant","value","onChange","e","target","inputProps","thousandSeparator","displayType","decimalScale","decimalSeparator","fixedDecimalScale","disabled","IconButton","onClick","faTrashAlt","Cart","useSelector","items","setItems","page","setPage","rowsPerPage","setRowsPerPage","history","useHistory","TableContainer","Paper","elevation","minHeight","Table","stickyHeader","TableHead","TableBody","slice","map","bottom","colSpan","Button","startIcon","faShoppingBag","length","errors","push","TablePagination","rowsPerPageOptions","count","onChangePage","event","newPage","onChangeRowsPerPage","labelRowsPerPage","ProdServices","selectAllProducts","opt","searchProduct","selectSingleProduct","id","productsAdapter","sortComparer","createdAt","productSlice","selectedProd","clearProducts","entities","setAll","addOne","loadingSelector","products","productsSelector","getSelectors","ProductItem","hover","cursor","faBox","faPlusCircle","ProductsList","selectAll","settingsLoading","connection","isConnected","aria-label","product","Dashboard","infoBlock","background","ContentBlock","Styles","Grid","container","spacing","direction","lg","sm","body","margin","overflow","html","root","ContainerWrap","Toast","handleCloseToast","notifications","Snackbar","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","right","Alert","useStyle","TransactionModal","ModalContent","outline","SuccessPageModal","ReportServices","CreateTransactionReport","formatter","Intl","NumberFormat","currency","pdfmake","fonts","Courier","normal","bold","italics","bolditalics","Times","Arial","Epson","Charlie_dotted","DOT_MATRIX","FAKE_RECEIPT","docs","logoURL","customer_name","customer_address","transaction_date","total_amount","change_amount","cash_amount","discountArr","doc","less","price","Date","date","toLocaleDateString","transact_type","reduce","b","pageSize","pageMargins","compress","header","currentPage","columns","image","stack","text","alignment","footer","pageCount","table","widths","headerRows","format","font","border","content","dontBreakRows","layout","hLineWidth","i","node","hLineHeight","paddingBottom","colIndex","positions","currentPosition","pageInnerHeight","styles","subheader","tableHeader","tableItems","tableItemsAmount","defaultStyle","columnGap","useLocation","setOpen","transact_payment_type","transact_status","info","setInfo","handleClose","socket","io","transact_id","resTrans","logo","pdf","JSON","parse","pdfMake","vfs","pdfFonts","docDef","TransactionDocDef","docGenerator","createPdf","getBase64","emit","sid","getBlob","blob","window","URL","createObjectURL","goBack","prevVal","Modal","BackdropComponent","Backdrop","BackdropProps","Fade","in","Typography","customInput","fullWidth","label","InputProps","startAdornment","InputAdornment","faDollarSign","prefix","faUserTie","faBuilding","faMoneyBill","cash","select","transaction_payment_type","payment_type","MenuItem","ButtonGroup","faMoneyBillAlt","ConnectionSlice","setConnection","ipcRenderer","require","searchRef","defaultSettings","on","connected","printerName","console","log","Box","alignSelf","inputRef","faSearch","onKeyPress","key","Divider","orientation","flexItem","faSyncAlt","justifySelf","faList","SettingsRemote","htmlColor","div","whileHover","scale","faCog","invoke","Minimize","Close","TransServices","getAllTransaction","createTransaction","findTransaction","getDocDef","responseType","headers","Accept","mode","updateTransaction","deleteTransaction","makeStyles","theme","BtnGroupSingleTrans","fn","report","partial_payments","payment","setPayment","faMoneyBillWaveAlt","data64","faPrint","TransactionSingle","inOpen","transaction","transactions","faIdCard","cart_count","toISOString","split","faCalendar","allowNegative","TransactionItems","onDoubleClick","userSelect","total_price","appBar","TransitionDialog","forwardRef","ref","Slide","TransactionList","search","setSearch","now","selectedDate","setSelectedDate","utils","DateFnsUtils","Dialog","fullScreen","TransitionComponent","AppBar","Toolbar","flexBasis","flex","marginRight","onKeyDown","disableToolbar","selDate","KeyboardButtonProps","focusRipple","fontWeight","entry","rptLoad","query","URLSearchParams","get","Fab","src","SettingsModal","SettingsContent","ipAdd","setIpAdd","setPort","placeholder","Dns","UsbRounded","useParams","faTrash","useRef","focusSearch","current","focus","document","addEventListener","ctrlKey","removeEventListener","dicrection","exact","path","transactionSlice","ReportSlice","SettingsSlice","configureStore","reducer","SettingsReducer","ProductReducers","CartReducer","NotificationReducer","TransactionReducer","ConnectionReducer","ReportReducer","ReactDOM","render","store","getElementById"],"mappings":"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","file":"static/js/main.a733ae39.chunk.js","sourcesContent":["const useStyles = {\r\n    ProgressWrap : {\r\n        top : 0,\r\n        left : 0,\r\n        display : \"flex\",\r\n        position: \"fixed\",\r\n        justifyContent : \"center\",\r\n        flexDirection : \"column\",\r\n        alignItems : \"center\",\r\n        zIndex : 100,\r\n        backgroundColor : \"rgba(0, 0, 0, 0.9)\",\r\n        height: \"730px\",\r\n        width : \"100%\",\r\n        transition : \"all 300ms linear\",\r\n        borderRadius : '20px'\r\n    },\r\n    HeaderWrap : {\r\n        height : '60px',\r\n        padding : '20px 0px',\r\n        borderRadius : '10px',\r\n        WebkitAppRegion : 'drag'\r\n    }\r\n}\r\n\r\nexport default useStyles;","import { CircularProgress, withStyles } from '@material-ui/core'\r\nimport React,{ useState,useEffect } from 'react'\r\nimport useStyles from './Styles'\r\n\r\nfunction Loader(props) {\r\n\r\n    const { classes } = props;\r\n    const [progress,setProgress] = useState('Loading');\r\n\r\n    return (\r\n        <div className={classes.ProgressWrap}>\r\n            <CircularProgress size={70} />\r\n            <h4\r\n                style={{\r\n                    textAlign : \"center\",\r\n                    color : \"white\",\r\n                    letterSpacing : \"10px\"\r\n                }}\r\n            >{progress}</h4>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withStyles(useStyles)(Loader)\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst NotificationSlice = createSlice({\r\n    'name' : 'notifications',\r\n    initialState : {\r\n        open : false,\r\n        message : '',\r\n        severity : ''\r\n    },\r\n    reducers : {\r\n        OpenNotification : (state,{payload})=>{\r\n            state.open = true;\r\n            state.severity = payload.severity;\r\n            state.message = payload.message;\r\n        },\r\n        CloseNotification : (state,{payload})=>{\r\n            state.open = false;\r\n            state.severity = '';\r\n            state.message = '';\r\n        }\r\n    }\r\n});\r\n\r\nexport const { OpenNotification,CloseNotification } = NotificationSlice.actions;\r\n\r\nexport default NotificationSlice.reducer;","import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\nconst host = \"http://localhost:8082/api\";\r\nconst SettingsServices = axios.create({\r\n    baseURL : host,\r\n    timeout : 1000 * 2 * 62\r\n});\r\n\r\nconst sleep = (x)=>{\r\n    return new Promise((resolve)=>setTimeout(resolve,x));\r\n}\r\n\r\nexport const SetIPAddress = createAsyncThunk(\r\n    'settings/SetIPAddress',\r\n    async(args,{rejectWithValue})=>{        \r\n        try{\r\n            const { url,data } = args;\r\n            const res = await SettingsServices({\r\n                url,\r\n                method : \"PATCH\",\r\n                data\r\n            });\r\n            await sleep(2000);\r\n            return res.data;\r\n        }catch(err){\r\n            return(rejectWithValue(err.response.data));\r\n        }\r\n    }\r\n); \r\n\r\nexport const GetSettings = createAsyncThunk(\r\n    'settings/GetSettings',\r\n    async(args,{rejectWithValue})=>{        \r\n        try{\r\n            const { url } = args;\r\n            const res = await SettingsServices({\r\n                url,\r\n                method : \"GET\"\r\n            });\r\n            return res.data;\r\n        }catch(err){\r\n            return rejectWithValue(err.response.data);\r\n        }\r\n    }\r\n);","import axios from 'axios';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport { GetSettings } from '../../settings/store/SettingsServices';\r\n\r\n\r\nconst CartService = axios.create({\r\n    timeout : 1000\r\n});\r\n\r\nconst sleep = (x)=>{\r\n    return new Promise(resolve=>setTimeout(resolve,x));\r\n}\r\n\r\nexport const CreateTransaction = createAsyncThunk(\r\n    'cart/CreateTransaction',\r\n    async(args,{rejectWithValue,dispatch})=>{        \r\n        try{\r\n\r\n            const resSettings = await dispatch( GetSettings({\r\n                url : \"/settings\"\r\n            }) );\r\n\r\n            if(GetSettings.fulfilled.match(resSettings)){\r\n                const { settings } = resSettings.payload;\r\n                const host = settings.address !== undefined ? settings.address : \"localhost\";\r\n                const port = settings.port !== undefined ? settings.port : 8081;\r\n\r\n                const { values } = args;\r\n                const res = await CartService({\r\n                    baseURL : `http://${host}:${port}/api/v1`,\r\n                    url : '/transactions',\r\n                    method : 'POST',\r\n                    data : values\r\n                });\r\n                await sleep(2000);\r\n                return res.data;             \r\n            }             \r\n        }catch(err){\r\n            return rejectWithValue(err.response.data);\r\n        }\r\n    }\r\n);","import { createSlice,createEntityAdapter,createDraftSafeSelector } from '@reduxjs/toolkit';\r\nimport { CreateTransaction } from './CartServices';\r\n\r\nconst cartAdapter = createEntityAdapter({\r\n    selectId : prod=>prod._id\r\n});\r\n\r\nconst CartSlice = createSlice({\r\n    name : 'cart',\r\n    initialState : cartAdapter.getInitialState({\r\n        cart : [],\r\n        loading : false,\r\n        error : ''\r\n    }),\r\n    reducers : {\r\n        addItem : (state,{payload})=>{\r\n\r\n            const index = state.cart.findIndex(prod=>prod._id === payload._id);\r\n\r\n            const {\r\n                _id,\r\n                item_name,\r\n                item_price,\r\n                item_qty,\r\n                item_unit\r\n            } = payload;\r\n\r\n            const qty = 1;\r\n            const discount = 0;\r\n\r\n            if( index !== -1 ) {\r\n                state.cart[index].qty = parseInt(state.cart[index].qty) + 1;\r\n                state.cart[index].total_per_unit = parseInt(state.cart[index].qty) * item_price;\r\n            }else{\r\n                state.cart.unshift({\r\n                    _id,\r\n                    item_name,\r\n                    item_price,\r\n                    inventory_qty : item_qty,\r\n                    error : false,\r\n                    qty,\r\n                    discount,\r\n                    total_per_unit : qty * item_price,\r\n                    item_unit\r\n                });\r\n            }\r\n        },\r\n        updateQty : (state,{payload})=>{\r\n            const {\r\n                _id,\r\n                qty,\r\n                item_price,\r\n                inventory_qty\r\n            } = payload;            \r\n\r\n            const index = state.cart.findIndex(prod=>prod._id === _id);\r\n            let val = qty === NaN ? 0 : parseInt(qty);\r\n\r\n            if( index !== -1 ){\r\n                state.cart[index].qty = val;\r\n                state.cart[index].total_per_unit = val * item_price\r\n\r\n                if( val > inventory_qty ){\r\n                    state.cart[index].error = true;\r\n                }else{\r\n                    state.cart[index].error = false;\r\n                }\r\n\r\n            }\r\n\r\n        },\r\n        setDiscount : (state,{payload})=>{\r\n            const {\r\n                _id,\r\n                discount,\r\n                item_price,\r\n                qty\r\n            } = payload;            \r\n\r\n            const index = state.cart.findIndex(prod=>prod._id === _id);\r\n            const calcDiscount = discount / 100;\r\n            const total = item_price * qty;\r\n\r\n            if(index !== -1){\r\n                state.cart[index].discount = calcDiscount;\r\n                state.cart[index].total_per_unit = discount !== 0 ? total - (total * calcDiscount) : item_price * qty;\r\n            }\r\n\r\n        },\r\n        removeItem : (state,{payload})=>{\r\n            const index = state.cart.findIndex(prod=>prod._id === payload);\r\n            state.cart.splice(index,1);\r\n        }\r\n    },\r\n    extraReducers : (builder)=>{\r\n        builder.addCase( CreateTransaction.pending,state=>{\r\n            state.loading = true;\r\n        })\r\n        .addCase( CreateTransaction.fulfilled,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.cart = [];\r\n        })\r\n        .addCase( CreateTransaction.rejected,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.error = payload;\r\n        })\r\n    }\r\n});\r\n\r\nconst selectCart = (state)=>state.cart;\r\nexport const cartItems = createDraftSafeSelector(\r\n    selectCart,\r\n    state=>state.cart\r\n);\r\nexport const cartLoading = createDraftSafeSelector(\r\n    selectCart,\r\n    state=>state.loading\r\n);\r\nexport const { addItem,removeItem,updateQty,setDiscount } = CartSlice.actions;\r\nexport default CartSlice.reducer;","import { faBoxes, faTrashAlt } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { IconButton, TableCell, TableRow, TextField, Tooltip } from '@material-ui/core'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { removeItem, updateQty,setDiscount } from '../store/CartSlice'\r\nimport NumberFormat from 'react-number-format';\r\nimport { motion } from 'framer-motion'\r\n\r\nfunction CartItems({item}) {\r\n\r\n    const dispatch = useDispatch();\r\n    const [total,setTotal] = useState(parseInt(item.item_price) * parseInt(item.qty));\r\n\r\n    useEffect(()=>{\r\n        setTotal(parseInt(item.item_price) * parseInt(item.qty));\r\n    },[item.qty]);\r\n\r\n    useEffect(()=>{\r\n        setTotal(item.total_per_unit);\r\n    },[item.total_per_unit]);\r\n\r\n    return (\r\n        <>\r\n            <TableRow \r\n                key={item._id}   \r\n                component={motion.tr}              \r\n                initial={{\r\n                    y : -100,\r\n                    opacity : 0\r\n                }}\r\n                animate={{\r\n                    y : 0,\r\n                    opacity : 1\r\n                }}\r\n            >\r\n                <TableCell\r\n                    style={{fontSize : '10px'}}\r\n                ><FontAwesomeIcon color=\"grey\" icon={faBoxes} />&nbsp;&nbsp;{item.item_name}</TableCell>\r\n                <TableCell>\r\n                    <TextField \r\n                        error={ item.error }\r\n                        variant=\"outlined\"\r\n                        size=\"small\"\r\n                        value={item.qty}\r\n                        onChange={(e)=>{\r\n                            let val = e.target.value == '' ? 0 : parseInt(e.target.value);                            \r\n                            dispatch( updateQty({\r\n                                ...item,\r\n                                qty : val\r\n                            }));\r\n                        }}    \r\n                        inputProps={{\r\n                            style : {\r\n                                textAlign : 'center',\r\n                                fontSize : '10px'\r\n                            }\r\n                        }}\r\n                        style={{\r\n                            WebkitAppRegion : 'no-drag'\r\n                        }}\r\n                    />\r\n                </TableCell>\r\n                <TableCell>\r\n                    <NumberFormat\r\n                        thousandSeparator \r\n                        displayType=\"text\"\r\n                        value={total}\r\n                        style={{ fontSize : '10px' }}\r\n                        decimalScale={2} \r\n                        decimalSeparator={'.'}\r\n                        fixedDecimalScale={true}                    \r\n                    />\r\n                </TableCell>\r\n                <TableCell>\r\n                    <TextField \r\n                        disabled={item.error}\r\n                        variant=\"outlined\"\r\n                        size=\"small\" \r\n                        value={item.discount * 100}      \r\n                        inputProps={{\r\n                            style : {\r\n                                textAlign : 'center',\r\n                                fontSize : '10px',\r\n                                width : '50px'\r\n                            }\r\n                        }}    \r\n                        onChange={(e)=>{                               \r\n                            dispatch( setDiscount({\r\n                                ...item,\r\n                                discount : e.target.value === '' ? 0 : parseInt(e.target.value)\r\n                            }));\r\n                        }}\r\n                        style={{\r\n                            WebkitAppRegion : 'no-drag'\r\n                        }}\r\n                    />\r\n                </TableCell>\r\n                <TableCell>\r\n                    <IconButton\r\n                        color=\"secondary\"\r\n                        onClick={()=>{\r\n                            dispatch( removeItem(item._id) );\r\n                        }}\r\n                        style={{\r\n                            WebkitAppRegion : 'no-drag'\r\n                        }}\r\n                    >\r\n                        <FontAwesomeIcon icon={faTrashAlt} /> \r\n                    </IconButton>\r\n                </TableCell> \r\n            </TableRow>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CartItems\r\n","import { faShoppingBag } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { \r\n    Button, \r\n    Paper, \r\n    Table, \r\n    TableBody, \r\n    TableCell, \r\n    TableContainer, \r\n    TableHead, \r\n    TablePagination, \r\n    TableRow \r\n} from '@material-ui/core'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router';\r\nimport Loader from '../../shared/components/Loader';\r\nimport { OpenNotification } from '../../shared/store/NotificationSlice';\r\nimport { cartItems } from '../store/CartSlice';\r\nimport CartItems from './CartItems';\r\n\r\nfunction Cart(props) {\r\n\r\n    const dispatch = useDispatch();\r\n    const cart = useSelector(cartItems);\r\n    const { loading } = useSelector(state=>state.cart);\r\n    const [items,setItems] = useState([]);\r\n    const [page, setPage] = useState(0);\r\n    const [rowsPerPage, setRowsPerPage] = useState(8);\r\n    const history = useHistory();\r\n\r\n    const handleChangePage = (event, newPage) => {\r\n        setPage(newPage);\r\n    };\r\n\r\n    const handleChangeRowsPerPage = (event) => {\r\n        setRowsPerPage(+event.target.value);\r\n        setPage(0);\r\n    };\r\n\r\n    useEffect(()=>{\r\n        setItems(cart);\r\n    },[cart]);\r\n\r\n    if( loading ){\r\n        return(\r\n            <Loader />\r\n        )\r\n    }\r\n\r\n    return (\r\n        <TableContainer \r\n            component={Paper} \r\n            elevation={2} \r\n            style={{\r\n                minHeight : \"600px\",\r\n                position : 'relative'\r\n            }}\r\n        >\r\n            <Table size=\"small\" stickyHeader>\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell>Name</TableCell>\r\n                        <TableCell style={{ textAlign : 'center' }}>QTY</TableCell>\r\n                        <TableCell>Total</TableCell>\r\n                        <TableCell>Discount</TableCell>\r\n                        <TableCell>Action</TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {items.slice(page*rowsPerPage,page*rowsPerPage + rowsPerPage).map(item=>( \r\n                        <CartItems \r\n                            item={item}\r\n                        />\r\n                    ))}                    \r\n                </TableBody>\r\n                <TableRow style={{\r\n                    position : \"absolute\",\r\n                    bottom : '0',\r\n                    left : '0'\r\n                }}>      \r\n                    <TableCell colSpan={1}>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            size=\"small\"\r\n                            style={{\r\n                                backgroundColor : \"green\",\r\n                                color : \"#ffffff\",\r\n                                WebkitAppRegion : 'no-drag'\r\n                            }}\r\n                            startIcon={<FontAwesomeIcon icon={faShoppingBag} />}\r\n                            onClick={()=>{\r\n\r\n                                if( items.length == 0 ){\r\n                                    return dispatch( OpenNotification({\r\n                                        message : 'Cart is Empty',\r\n                                        severity : 'error'\r\n                                    }) );\r\n                                }\r\n\r\n                                let errors = [];\r\n\r\n                                items.map(item=>{\r\n                                    if( item.error === true ){\r\n                                        errors.push(item.error);\r\n                                    }\r\n                                });\r\n\r\n                                if( errors.length > 0 ){\r\n                                    return dispatch( OpenNotification({\r\n                                        message : 'Invalid Quantity',\r\n                                        severity : 'error'\r\n                                    }) );\r\n                                };\r\n\r\n                                history.push('/transaction',cart);\r\n                            }}\r\n                        >Checkout</Button>\r\n                    </TableCell>              \r\n                    <TableCell colSpan={4}>\r\n                        <TablePagination\r\n                            rowsPerPageOptions={[8, 16, 800]}\r\n                            count={items.length}\r\n                            rowsPerPage={rowsPerPage}\r\n                            page={page}\r\n                            onChangePage={handleChangePage}\r\n                            onChangeRowsPerPage={handleChangeRowsPerPage}\r\n                            labelRowsPerPage={false}\r\n                        />\r\n                    </TableCell>          \r\n                </TableRow>\r\n            </Table>\r\n        </TableContainer>\r\n    )\r\n}\r\n\r\nexport default Cart\r\n","import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\nimport { GetSettings } from '../../settings/store/SettingsServices';\r\n\r\n\r\nconst ProdServices = axios.create({\r\n    timeout : 1000 * 2 * 62\r\n});\r\n\r\nconst sleep = (x)=>{\r\n    return new Promise((resolve)=>setTimeout(resolve,x));\r\n}\r\n\r\nexport const selectAllProducts = createAsyncThunk(\r\n    'products/selectAllProducts',\r\n    async( args ,{ rejectWithValue,dispatch })=>{        \r\n        try{\r\n            const resSettings = await dispatch( GetSettings({\r\n                url : \"/settings\"\r\n            }) );\r\n\r\n            if(GetSettings.fulfilled.match(resSettings)){\r\n                const { settings } = resSettings.payload;\r\n                const host = settings.address !== undefined ? settings.address : \"localhost\";\r\n                const port = settings.port !== undefined ? settings.port : 8081;\r\n                const { opt } = args;\r\n                const res = await ProdServices({\r\n                    baseURL : `http://${host}:${port}/api/v1`,\r\n                    ...opt,                \r\n                    method : \"GET\"\r\n                });\r\n                await sleep(2000);\r\n                return res.data;\r\n            }\r\n        }catch(err){    \r\n            return rejectWithValue(err.response.data);\r\n        }\r\n    }\r\n);\r\n\r\nexport const searchProduct = createAsyncThunk(\r\n    'products/searchProduct',\r\n    async(args,{rejectWithValue,dispatch})=>{\r\n        try{\r\n            const resSettings = await dispatch( GetSettings({\r\n                url : \"/settings\"\r\n            }) );\r\n\r\n            if(GetSettings.fulfilled.match(resSettings)){\r\n                const { settings } = resSettings.payload;\r\n                const host = settings.address !== undefined ? settings.address : \"localhost\";\r\n                const port = settings.port !== undefined ? settings.port : 8081;\r\n                const { opt } = args;\r\n                const res = await ProdServices({\r\n                    baseURL : `http://${host}:${port}/api/v1`,\r\n                    ...opt,                \r\n                    method : 'GET'\r\n                });\r\n                await sleep(2000);\r\n                return res.data;\r\n            }\r\n                    \r\n        }catch(err){\r\n            return rejectWithValue(err.response.data);\r\n        }\r\n    }\r\n);\r\n\r\nexport const selectSingleProduct = createAsyncThunk(\r\n    'products/selectSingleProduct',\r\n    async(id,{rejectWithValue,dispatch})=>{\r\n        try{\r\n\r\n            const resSettings = await dispatch( GetSettings({\r\n                url : \"/settings\"\r\n            }) );\r\n\r\n            if(GetSettings.fulfilled.match(resSettings)){\r\n                const { settings } = resSettings.payload;\r\n                const host = settings.address !== undefined ? settings.address : \"localhost\";\r\n                const port = settings.port !== undefined ? settings.port : 8081;\r\n                const res = await ProdServices({\r\n                    baseURL : `http://${host}:${port}/api/v1`,\r\n                    method : 'GET',\r\n                    url : '/products/' + id\r\n                });\r\n                return res.data;  \r\n            }         \r\n        }catch(err){\r\n            return rejectWithValue(err.response.data);\r\n        }\r\n    }\r\n);\r\n\r\nexport const createTransaction = createAsyncThunk(\r\n    'products/createTransaction',\r\n    async( values,{rejectWithValue,dispatch} )=>{\r\n        try{\r\n            \r\n            const resSettings = await dispatch( GetSettings({\r\n                url : \"/settings\"\r\n            }) );\r\n\r\n            if(GetSettings.fulfilled.match(resSettings)){\r\n                const { settings } = resSettings.payload;\r\n                const host = settings.address !== undefined ? settings.address : \"localhost\";      \r\n                const port = settings.port !== undefined ? settings.port : 8081;        \r\n                const res = await ProdServices({\r\n                    baseURL : `http://${host}:${port}/api/v1`,\r\n                    method : 'POST',\r\n                    url : '/products',\r\n                    data : values\r\n                });\r\n                return res.data; \r\n            }          \r\n        }catch(err){\r\n            return rejectWithValue(err.response.data);\r\n        }\r\n    }\r\n);","import { createDraftSafeSelector, createEntityAdapter, createSlice } from '@reduxjs/toolkit';\r\nimport { searchProduct, selectAllProducts, selectSingleProduct } from './productServices';\r\n\r\nconst productsAdapter = createEntityAdapter({\r\n    selectId : (prod)=>prod._id,\r\n    sortComparer : (prod)=>prod.createdAt\r\n});\r\n\r\nconst productSlice = createSlice({\r\n    name : 'products',\r\n    initialState : productsAdapter.getInitialState({\r\n        loading : false,\r\n        selectedProd : [],\r\n        error : null,\r\n    }),\r\n    reducers : {\r\n        clearProducts : state=>{\r\n            state.entities = [];\r\n        }\r\n    },\r\n    extraReducers : (builder)=>{\r\n        //FETCH ALL PRODUCTS\r\n        builder.addCase(selectAllProducts.pending,state=>{\r\n            state.loading = true;\r\n        })\r\n        .addCase(selectAllProducts.fulfilled,(state,{payload})=>{\r\n            state.loading = false;\r\n            productsAdapter.setAll(state,payload);\r\n        })\r\n        .addCase(selectAllProducts.rejected,(state,{payload})=>{\r\n            state.loading = false;            \r\n            state.error = payload;\r\n        })\r\n        //FIND PRODUCT/S\r\n        .addCase(searchProduct.pending,state=>{\r\n            state.loading = true;\r\n        })\r\n        .addCase(searchProduct.fulfilled,(state,{payload})=>{\r\n            state.loading = false;\r\n            productsAdapter.setAll(state,payload);\r\n        })\r\n        .addCase(searchProduct.rejected,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.error = payload;\r\n        })\r\n        //FETCH SINGLE PRODUCT\r\n        .addCase(selectSingleProduct.pending,(state,{payload})=>{\r\n            state.loading = true;\r\n        })\r\n        .addCase(selectSingleProduct.fulfilled,(state,{payload})=>{\r\n            state.loading = false;\r\n            productsAdapter.addOne(state,payload);\r\n        })\r\n        .addCase(selectSingleProduct.rejected,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.error = payload;\r\n        })\r\n        //CREATE TRANSACTION\r\n        \r\n        \r\n    }\r\n});\r\n\r\nconst selectState = state=>state.products;\r\n\r\nexport const loadingSelector = createDraftSafeSelector(\r\n    selectState,\r\n    state=>state.loading\r\n);\r\n\r\nexport const { clearProducts } = productSlice.actions;\r\nexport const productsSelector = productsAdapter.getSelectors(state=>state.products);\r\nexport default productSlice.reducer;","import { faBox, faPlusCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { IconButton, TableCell, TableRow, Tooltip } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addItem } from '../../cart/store/CartSlice';\r\n\r\nfunction ProductItem({item}) {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    return (\r\n        <>\r\n            <TableRow \r\n                hover key={item._id} \r\n                style={{ cursor : \"pointer\" }}\r\n            >\r\n                <TableCell style={{\r\n                    fontSize : \"10px\"\r\n                }}><FontAwesomeIcon color=\"grey\" icon={faBox} />&nbsp;&nbsp;{item.item_name}</TableCell>\r\n                <TableCell style={{\r\n                    fontSize : \"10px\"\r\n                }}>{item.item_qty}</TableCell>\r\n                <TableCell style={{\r\n                    fontSize : \"10px\"\r\n                }}>{item.item_price}</TableCell>\r\n                <TableCell>\r\n                    <IconButton\r\n                        color=\"primary\"\r\n                        onClick={()=>{\r\n                            dispatch( addItem(item) );\r\n                        }}\r\n                        style={{\r\n                            WebkitAppRegion : 'no-drag'\r\n                        }}\r\n                    >\r\n                        <FontAwesomeIcon icon={faPlusCircle} />\r\n                    </IconButton>\r\n                </TableCell>\r\n            </TableRow>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProductItem\r\n","import { Paper, Table, TableBody, TableCell, TableContainer, TableHead, TablePagination, TableRow } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Loader from '../../shared/components/Loader';\r\nimport { selectAllProducts } from '../store/productServices';\r\nimport { clearProducts, loadingSelector, productsSelector } from '../store/productSlice';\r\nimport ProductItem from './ProductItem';\r\n\r\nfunction ProductsList() {\r\n\r\n    const dispatch = useDispatch();\r\n    const products = useSelector(productsSelector.selectAll);\r\n    const { loading : settingsLoading } = useSelector(state=>state.settings);\r\n    const { isConnected : connection } = useSelector(state=>state.connection);\r\n    const loading = useSelector(loadingSelector);\r\n    const [page, setPage] = useState(0);\r\n    const [rowsPerPage, setRowsPerPage] = useState(8);\r\n\r\n    const handleChangePage = (event, newPage) => {\r\n        setPage(newPage);\r\n    };\r\n\r\n    const handleChangeRowsPerPage = (event) => {\r\n        setRowsPerPage(+event.target.value);\r\n        setPage(0);\r\n    };\r\n\r\n    useEffect(()=>{\r\n\r\n        dispatch( selectAllProducts({\r\n            opt : {\r\n                url : '/products'\r\n            }\r\n        }) );\r\n\r\n    },[]);\r\n\r\n    if( loading || settingsLoading ){\r\n        return(\r\n            <Loader />\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <TableContainer component={Paper} style={{ minHeight : \"600px\", position : 'relative' }}>\r\n                <Table size=\"small\" stickyHeader aria-label=\"sticky table\">\r\n                    <TableHead>\r\n                        <TableRow>\r\n                            <TableCell>Name</TableCell>\r\n                            <TableCell>QTY</TableCell>\r\n                            <TableCell>Price</TableCell>\r\n                            <TableCell>Action</TableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        {products.slice(page * rowsPerPage,page * rowsPerPage + rowsPerPage).map(product=>(\r\n                            <ProductItem item={product} />\r\n                        ))}\r\n                    </TableBody>\r\n                    <TableRow\r\n                        style={{\r\n                            position : 'absolute',\r\n                            bottom : '0',\r\n                            left : '0'\r\n                        }}\r\n                    >\r\n                        <TableCell colSpan={4}>\r\n                            <TablePagination \r\n                                rowsPerPageOptions={[8, 16, 800]}\r\n                                count={products.length}\r\n                                rowsPerPage={rowsPerPage}\r\n                                page={page}\r\n                                onChangePage={handleChangePage}\r\n                                onChangeRowsPerPage={handleChangeRowsPerPage}\r\n                            />\r\n                        </TableCell>\r\n                    </TableRow>\r\n                </Table>\r\n            </TableContainer>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProductsList\r\n","const useStyles = {\r\n    Dashboard : {\r\n        height : '90%'\r\n    },\r\n    infoBlock : {\r\n        height : '50px',\r\n        borderRadius : '10px',\r\n        background : '#fff'\r\n    },\r\n    ContentBlock : {\r\n        height : '90%',\r\n        borderRadius : '10px',\r\n        padding : '20px'\r\n    }    \r\n}\r\n\r\nexport default useStyles;","import { Grid, withStyles } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Cart from '../../cart/components/Cart';\r\nimport ProductsList from '../../products/components/ProductsList';\r\nimport Styles from './Styles';\r\n\r\n\r\nfunction Dashboard(props) {\r\n\r\n    const { ContentBlock,Dashboard,infoBlock } = props.classes;\r\n    const history = useHistory();\r\n\r\n    return (\r\n        <Grid container className={Dashboard} spacing={2}>\r\n            <Grid direction=\"column\" item container lg={6} sm={6}> \r\n                <Cart />\r\n            </Grid>    \r\n            <Grid \r\n                item lg={6} \r\n                sm={6} \r\n                className={ContentBlock}\r\n            >\r\n                <ProductsList />\r\n            </Grid>  \r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default withStyles(Styles)(Dashboard)\r\n","const useStyles = {\r\n    '@global' : {\r\n        body : {\r\n            height : '100%',\r\n            margin : '0px',\r\n            '& #root' : {\r\n                height : '100%',\r\n            },\r\n            overflow : 'hidden',\r\n            position : 'relative',\r\n            borderRadius : \"15px\"\r\n        },\r\n        html : {\r\n            height : '95%',\r\n            margin : '0px',\r\n            padding : '20px',\r\n        }\r\n    },\r\n\r\n    root : {\r\n        height : '100%',\r\n        background : '#EBEBF7',\r\n        padding : \"20px\",\r\n        borderRadius : '20px',\r\n        position : 'relative'\r\n    },\r\n    \r\n    ContainerWrap : {\r\n        height : 'auto',\r\n        padding : '20px 0px 0px 0px !important',\r\n        position : 'relative'\r\n    }\r\n}\r\n\r\nexport default useStyles;","import { Snackbar } from '@material-ui/core';\r\nimport { Alert } from '@material-ui/lab';\r\n\r\nimport React from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nfunction Toast(props) {\r\n\r\n    const { handleCloseToast } = props;\r\n    const { message,severity,open } = useSelector(state=>state.notifications);\r\n\r\n    return (\r\n        <Snackbar\r\n            open={open} \r\n            autoHideDuration={4000} \r\n            onClose={handleCloseToast}\r\n            anchorOrigin={{vertical : 'bottom',horizontal : 'right'}}\r\n            style={{ bottom : \"50px\", right : '50px', WebkitAppRegion : 'no-drag' }}\r\n        >\r\n            <Alert\r\n                elevation={6} \r\n                variant=\"filled\"\r\n                onClose={handleCloseToast}\r\n                severity={severity}\r\n            >\r\n                {message}\r\n            </Alert>\r\n        </Snackbar>\r\n    )\r\n}\r\n\r\nexport default Toast\r\n","const useStyle = {\r\n    TransactionModal : {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        WebkitAppRegion : 'no-drag'\r\n    },\r\n    ModalContent : {\r\n        borderRadius : '10px',\r\n        padding : '20px',\r\n        width : '400px',\r\n        height : '450px',\r\n        backgroundColor : \"#ffffff\",\r\n        outline : 'none',\r\n        position : 'relative'\r\n    },\r\n    SuccessPageModal : {\r\n        outline : \"none\",\r\n        height : \"650px\",\r\n        padding : \"30px\",\r\n    }\r\n}\r\n\r\nexport default useStyle;","import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\nimport { GetSettings } from '../../settings/store/SettingsServices';\r\n\r\nconst ReportServices = axios.create({\r\n    timeout : 62 * 2 * 1000\r\n});\r\n\r\nconst sleep = (x)=>{\r\n    return new Promise((resolve)=>setTimeout(resolve,x))\r\n}\r\n\r\nexport const CreateTransactionReport = createAsyncThunk(\r\n    'report/CreateTransactionReport',\r\n    async(args,{rejectWithValue,dispatch})=>{\r\n        try{\r\n\r\n            const resSettings = await dispatch( GetSettings({\r\n                url : \"/settings\"\r\n            }) );\r\n\r\n            if(GetSettings.fulfilled.match(resSettings)){\r\n                const { settings } = resSettings.payload;\r\n                const host = settings.address !== undefined ? settings.address : \"localhost\";\r\n                const port = settings.port !== undefined ? settings.port : 8081;\r\n                const { url } = args;\r\n                const res = await ReportServices({\r\n                    baseURL : `http://${host}:${port}/api/v1/gc-print`,\r\n                    url,\r\n                    method : 'GET'\r\n                });\r\n                await sleep(2000);\r\n                return await res.data;            \r\n            }            \r\n        }catch(err){\r\n            return rejectWithValue(err.response.data);\r\n        }\r\n    }\r\n);","import pdfmake from 'pdfmake/build/pdfmake';\r\nconst formatter = new Intl.NumberFormat('en-PH',{\r\n    style : 'currency',\r\n    currency : 'Php'\r\n});\r\n\r\npdfmake.fonts = {\r\n    Courier : {\r\n        normal: 'cour.ttf',\r\n        bold: 'courbd.ttf',\r\n        italics: 'couri.ttf',\r\n        bolditalics: 'courbi.ttf'\r\n    },\r\n    Times: {\r\n        normal: 'times.ttf',\r\n        bold: 'timesbd.ttf',\r\n        italics: 'timesi.ttf',\r\n        bolditalics: 'timesbi.ttf'\r\n    },\r\n    Arial : {\r\n        normal: 'arial.ttf',\r\n        bold: 'arialbd.ttf',\r\n        italics: 'ariali.ttf',\r\n        bolditalics: 'arialbi.ttf'\r\n    },\r\n    // Roboto: {\r\n    //     normal: 'Roboto-Regular.ttf',\r\n    //     bold: 'Roboto-Medium.ttf',\r\n    //     italics: 'Roboto-Italic.ttf',\r\n    //     bolditalics: 'Roboto-MediumItalic.ttf'\r\n    // },\r\n    Epson: {\r\n        normal: 'Epson1.ttf',\r\n        bold: 'Epson1.ttf',\r\n        italics: 'Epson1.ttf',\r\n        bolditalics: 'Epson1.ttf'\r\n    },\r\n    Charlie_dotted : {\r\n        normal : 'charlie_dotted.ttf',\r\n        bold : 'charlie_dotted.ttf',\r\n        italics : 'charlie_dotted.ttf',\r\n        bolditalics : 'charlie_dotted.ttf'\r\n    },\r\n    DOT_MATRIX : {\r\n        normal : 'DOTMATRI.TTF',\r\n        bold : 'DOTMBold.TTF',\r\n        italics : 'DOTMATRI.TTF',\r\n        bolditalics : 'DOTMATRI.TTF'\r\n    },\r\n    FAKE_RECEIPT : {\r\n        normal : 'fake receipt.ttf',\r\n        bold : 'fake receipt.ttf',\r\n        italics : 'fake receipt.ttf',\r\n        bolditalics : 'fake receipt.ttf'\r\n    }\r\n}\r\n\r\nexport default (docs,logoURL)=>{\r\n    let discountArr = [];\r\n    let customer_name,\r\n        customer_address,\r\n        transaction_date,\r\n        transaction_type,\r\n        total_amount,\r\n        change_amount,\r\n        cash_amount,\r\n        _id\r\n    ;\r\n\r\n    docs.map(doc=>{\r\n        let less = ( doc[4].discount * doc[4].price);\r\n        customer_name = doc[4].customer_name;\r\n        transaction_date = new Date(doc[4].date).toLocaleDateString();\r\n        transaction_type = doc[4].transact_type;\r\n        total_amount = doc[4].total_amount;\r\n        change_amount = doc[4].change_amount;\r\n        cash_amount = doc[4].cash_amount;\r\n        _id = doc[4]._id;\r\n        customer_address = doc[4].customer_address;\r\n        discountArr.push(less);\r\n    });\r\n\r\n    let discount = discountArr.reduce((a,b)=>a+b,0);    \r\n\r\n    return {\r\n        pageSize : {\r\n            width : 120 * 9.5,\r\n            height : 120 * 5.5\r\n        },\r\n        pageMargins: [ 20, 80, 20, 120 ],\r\n        compress : false,\r\n        header : (currentPage)=>{\r\n            if( currentPage === 1 ){\r\n                return {\r\n                    columns : [\r\n                        {\r\n                            image : `data:image/png;base64,${logoURL}`,\r\n                            width : 60,\r\n                            height : 60,\r\n                            margin : [2,5,0,0]\r\n                        },\r\n                        {\r\n                            stack : [\r\n                                {\r\n                                    text : 'Smart/Tnt:0963-644-8252\\nGlobe/tm:0926-775-3578',\r\n                                    //color : \"#808080\"\r\n                                    style : 'subheader'\r\n                                }\r\n                            ],\r\n                            alignment : 'right',\r\n                            margin : [2,12]      \r\n                        }   \r\n                    ],\r\n                    margin : [20,8],\r\n                    width : '*',\r\n                }\r\n            }\r\n        },\r\n        footer : (currentPage,pageCount)=>{\r\n            if( currentPage === pageCount ){\r\n                return {\r\n                    stack : [\r\n                        {\r\n                            table : {\r\n                                widths : ['*',190,250],\r\n                                headerRows : 1,\r\n                                body : [\r\n                                    [\r\n                                        {\r\n                                            text : \"Prepared by : \",\r\n                                            style : {\r\n                                                fontSize : 15\r\n                                            },\r\n                                            bold : true\r\n                                        },\r\n                                        {\r\n                                            text : `Discount : ${formatter.format(discount)}`,\r\n                                            style : {\r\n                                                fontSize : 15,\r\n                                                font : 'Arial'\r\n                                            },\r\n                                            bold : true\r\n                                        },\r\n                                        {\r\n                                            text : `Amount to pay : ${formatter.format(total_amount)}`,\r\n                                            style : {\r\n                                                fontSize : 15,\r\n                                                font : 'Arial'\r\n                                            },\r\n                                            bold : true\r\n                                        }\r\n                                    ],\r\n                                    [ \r\n                                        { \r\n                                            text : \"\", \r\n                                            border : [false,false,false,false],\r\n                                        },\r\n                                        {\r\n                                            text : [\r\n                                                `Cash : `,\r\n                                                { \r\n                                                    text : `${cash_amount}`,\r\n                                                    style : { \r\n                                                        alignment : \"center\", \r\n                                                        font : \"Arial\",\r\n                                                        fontSize : 15\r\n                                                    } \r\n                                                }\r\n                                            ],\r\n                                            bold : true,\r\n                                            fontSize : 15\r\n                                        }, \r\n                                        { \r\n                                            text : `Change : ${change_amount}`,\r\n                                            style : {\r\n                                                font : 'Arial',\r\n                                                fontSize : 15\r\n                                            },\r\n                                            bold : true\r\n                                        } \r\n                                    ]\r\n                                ]                        \r\n                            }\r\n                        },\r\n                        {\r\n                            text : \"**** Nothing Follows ****\",                            \r\n                            style : {\r\n                                fontSize : 12,        \r\n                                //color : \"#808080\"                     \r\n                            },\r\n                            bold : true,\r\n                            alignment : \"center\",\r\n                            margin : [0,7,0,0]\r\n                        },\r\n                        {\r\n                            text : \"Received goods in order and prestine condition\\n\\nby:__________________________________\",                            \r\n                            style : {\r\n                                fontSize : 12,                         \r\n                            },\r\n                            alignment : \"right\",\r\n                            bold : true,\r\n                            margin : [0,3,0,0]\r\n                        }\r\n                    ],                    \r\n                    margin : [20,0]                 \r\n                }\r\n            }\r\n        },\r\n        content : [\r\n            {\r\n                columns : [\r\n                    { \r\n                        text : \"ORDER SLIP\", \r\n                        bold : true,\r\n                        style : \r\n                        { \r\n                            fontSize : 22,\r\n                            //color : \"#808080\",\r\n                            font : \"Arial\"                            \r\n                        } \r\n                    }\r\n                ],\r\n                alignment : \"center\"\r\n            },\r\n            {                \r\n                stack : [\r\n                    {\r\n                        columns : [\r\n                            {\r\n                                text : [\r\n                                    'Customer Name : ',\r\n                                    {\r\n                                        text : `${customer_name}`,\r\n                                        italics : false,\r\n                                        bold : true\r\n                                    }\r\n                                ],       \r\n                                bold : true,                         \r\n                                fontSize : 15,\r\n                                margin : [0,5,0,0]\r\n                            },\r\n                            {\r\n                                text : [\r\n                                    'Transaction Date : ',\r\n                                    {\r\n                                        text : `${transaction_date}`,\r\n                                        italics : false,\r\n                                        bold : true\r\n                                    }\r\n                                ],\r\n                                bold : true,\r\n                                fontSize : 15,\r\n                                margin : [0,5,0,0]\r\n                            },\r\n                        ],\r\n                        \r\n                    },\r\n                    {\r\n                        columns : [                            \r\n                            {\r\n                                text : `Address : ${customer_address}`,\r\n                                bold : true,\r\n                                fontSize : 15,\r\n                                margin : [0,5,0,10]\r\n                            },\r\n                            {\r\n                                text : [\r\n                                    'Receipt# : ',\r\n                                    {\r\n                                        text : `${_id}`,\r\n                                        fontSize : 15\r\n                                    }\r\n                                ],                         \r\n                                bold : true,\r\n                                fontSize : 15,\r\n                                margin : [0,5,0,10]\r\n                            }\r\n                        ]\r\n                    },\r\n                    {\r\n                        table : {\r\n                            dontBreakRows : true,\r\n                            headerRows: 1,\r\n                            widths: [ 60,60,'*', 120,80],\r\n                            body: [\r\n                                [                                     \r\n                                    {\r\n                                        text : 'QTY',\r\n                                        style : 'tableHeader',\r\n                                        border : [true,true,true,false]\r\n                                    },\r\n                                    {\r\n                                        text : 'UNIT',\r\n                                        style : 'tableHeader',\r\n                                        border : [true,true,true,false]\r\n                                    },\r\n                                    {\r\n                                        text : 'ITEM NAME',\r\n                                        style : 'tableHeader',\r\n                                        border : [true,true,true,false]\r\n                                    },\r\n                                    {\r\n                                        text : 'UNIT PRICE',\r\n                                        style : 'tableHeader',\r\n                                        border : [true,true,true,false]\r\n                                    },\r\n                                    {\r\n                                        text : 'AMOUNT',\r\n                                        style : 'tableHeader',\r\n                                        border : [true,true,true,false]\r\n                                    },                                   \r\n                                ]                                                   \r\n                            ]\r\n                        }\r\n                    },\r\n                    {\r\n                        layout : {\r\n                            hLineWidth : (i,node)=>{\r\n                                return (i === 0 || i === node.table.body.length) ? 1 : 0;\r\n                            },\r\n                            hLineHeight : (i,node)=>{\r\n                                return (i === 1) ? 0 : 1;\r\n                            },\r\n                            paddingBottom: (i, node, colIndex) => {                                \r\n                                const DEFAULT_PADDING = 2;\r\n                                // Calculate padding for the last element of the table.\r\n                                if (i === node.table.body.length - 1 && node.positions[node.positions.length - 1] !== undefined) {\r\n                                    const currentPosition = node.positions[node.positions.length - 1];                                    \r\n                                    const totalPageHeight = currentPosition.pageInnerHeight;\r\n                                    const currentHeight = currentPosition.top;\r\n                                    const paddingBottom = totalPageHeight - currentHeight;                                    \r\n                                    \r\n                                    if( paddingBottom < 0 ){\r\n                                        return DEFAULT_PADDING;\r\n                                    }else{\r\n                                        return paddingBottom;\r\n                                    }                                    \r\n                                } else {\r\n                                    return DEFAULT_PADDING;\r\n                                }\r\n                            }\r\n                        },\r\n                        table : {\r\n                            dontBreakRows : true,\r\n                            headerRows: 1,\r\n                            widths: [ 60,60,'*', 120,80],\r\n                            body: [                                   \r\n                                ...docs                                                      \r\n                            ]\r\n                        }\r\n                    }                    \r\n                ],                \r\n                margin : [0,10,0,0]\r\n            }\r\n        ],\r\n        styles : {\r\n            header : {\r\n                // bold : true,\r\n                //color : \"#808080\"\r\n                fontSize : 12,\r\n                font : \"Arial\",\r\n                bold : true\r\n            },\r\n            subheader : {\r\n                fontSize : 12,\r\n                // bold : true,\r\n                font : \"Arial\",\r\n                bold : true\r\n            },\r\n            tableHeader : {\r\n                fontSize : 16,\r\n                alignment : 'center',\r\n                margin : [0,3],  \r\n                bold : true,\r\n                border : [true,true,true,true]      \r\n            },\r\n            tableItems : {\r\n                alignment : 'center',\r\n                margin : [0,2],\r\n                fontSize : 13,\r\n                //color : \"#808080\"\r\n            },\r\n            tableItemsAmount : {\r\n                alignment : 'center',\r\n                margin : [0,2],\r\n                fontSize : 13,\r\n                font : \"Arial\",\r\n            }\r\n        },\r\n        defaultStyle : {\r\n            font : 'Times',\r\n            columnGap : 5,\r\n            //color : \"#808080\",\r\n            fontSize : 12\r\n        }\r\n    }\r\n}","import { faBuilding, faDollarSign, faMoneyBill, faMoneyBillAlt, faPrint, faSave, faUser, faUserTie } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Backdrop, Fade, Grid, Modal, withStyles, TextField, InputAdornment, ButtonGroup, Button, Typography, MenuItem } from '@material-ui/core'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useHistory, useLocation } from 'react-router';\r\nimport useStyle from './Styles';\r\nimport NumberFormat from 'react-number-format';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { CreateTransaction } from '../store/CartServices';\r\nimport { OpenNotification } from '../../shared/store/NotificationSlice';\r\nimport { cartLoading } from '../store/CartSlice';\r\nimport Loader from '../../shared/components/Loader';\r\nimport { CreateTransactionReport } from '../../shared/store/ReportServices';\r\nimport pdfMake from 'pdfmake/build/pdfmake';\r\nimport pdfFonts from \"pdfmake/build/vfs_fonts\";\r\nimport TransactionDocDef from '../docs/TransactionDocDef';\r\nimport { io } from 'socket.io-client';\r\nimport { GetSettings } from '../../settings/store/SettingsServices';\r\n \r\nfunction Transaction(props) {\r\n\r\n    const dispatch = useDispatch();\r\n    const loading = useSelector(cartLoading);\r\n    const {state : cart} = useLocation();\r\n    \r\n    const [open,setOpen] = useState(false);\r\n    const history = useHistory();\r\n    const {TransactionModal,ModalContent} = props.classes;\r\n    const [total,setTotal] = useState(0);\r\n    const [info,setInfo] = useState({\r\n        customer_name : '',\r\n        customer_address : '',\r\n        transact_payment_type : 'full',\r\n        cash_amount : 0,\r\n        transact_status : true\r\n    });\r\n\r\n    const handleClose = async (id)=>{\r\n        try{\r\n\r\n            const resSettings = await dispatch( GetSettings({\r\n                url : '/settings'\r\n            }) );\r\n\r\n            if( GetSettings.fulfilled.match(resSettings) ){\r\n                const { settings } = resSettings.payload;\r\n                const host = settings.address !== undefined ? settings.address : \"localhost\";\r\n                const port = settings.port !== undefined ? settings.port : 8081;\r\n                const socket = io(`http://${host}:${port}`);\r\n\r\n                if( id.payload !== undefined ){\r\n                    const { transact_id } = id.payload;\r\n                    \r\n                    const resTrans = await dispatch( CreateTransactionReport({\r\n                        url : '/transactions/' + transact_id\r\n                    }) );\r\n            \r\n                    if( CreateTransactionReport.fulfilled.match(resTrans) ){\r\n                        const { doc,logo } = resTrans.payload;\r\n                        let pdf = JSON.parse(doc);      \r\n        \r\n                        if( pdf.length > 0 ){                    \r\n                            pdfMake.vfs = pdfFonts.pdfMake.vfs;\r\n                            const docDef = TransactionDocDef(pdf,logo);\r\n                            const docGenerator = pdfMake.createPdf(docDef);\r\n        \r\n                            docGenerator.getBase64(data=>{\r\n                                socket.emit('printcmd',{\r\n                                    sid : socket.id,\r\n                                    data,\r\n                                    id : transact_id,\r\n                                });\r\n                            });\r\n        \r\n                            docGenerator.getBlob(blob=>{\r\n                                let url = window.URL.createObjectURL(blob);                                                \r\n                                history.push('/transaction/success?pdf=' + url);\r\n                            });                    \r\n                        } \r\n                    }\r\n                }else{            \r\n                    await history.goBack();\r\n                }  \r\n            }                \r\n            setOpen(false); \r\n        }catch(err){\r\n            dispatch( OpenNotification({\r\n                message : 'Transaction Failed, Pls try again.',\r\n                severity : 'error'\r\n            }) );\r\n        }     \r\n    }\r\n\r\n    useEffect(()=>{\r\n        setOpen(true);\r\n        cart.map(item=>{\r\n            let price = item.total_per_unit;\r\n            setTotal( prevVal => prevVal + price)\r\n        })\r\n    },[]);\r\n\r\n    if( loading ){\r\n        return(\r\n            <Loader />\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            open={open}\r\n            onClose={handleClose}\r\n            BackdropComponent={Backdrop}\r\n            BackdropProps={{\r\n                timeout : 500,\r\n                style : {\r\n                    borderRadius : '20px',\r\n                    height : '730px'\r\n                }\r\n            }}\r\n            className={TransactionModal}\r\n        >\r\n            <Fade\r\n                in={open}\r\n            >\r\n                <div className={ModalContent}>\r\n                    <Grid container spacing={2}>                        \r\n                        <Grid item lg={12} sm={12}>\r\n                            <Typography variant=\"h6\">\r\n                                Total Number of Order :&nbsp;\r\n                                <NumberFormat\r\n                                    displayType=\"text\" \r\n                                    value={cart.length}\r\n                                    customInput={TextField}\r\n                                    fullWidth\r\n                                    size=\"small\"\r\n                                    variant=\"outlined\"\r\n                                    label=\"Total\"\r\n                                    InputProps={{\r\n                                        startAdornment : (\r\n                                            <InputAdornment position=\"start\">\r\n                                                <FontAwesomeIcon icon={faDollarSign} />\r\n                                            </InputAdornment>\r\n                                        )\r\n                                    }}\r\n                                />\r\n                            </Typography>\r\n                        </Grid>\r\n                        <Grid item lg={12} sm={12}>\r\n                            <Typography variant=\"h6\">\r\n                                Total Price :&nbsp;\r\n                                <NumberFormat\r\n                                    displayType=\"text\" \r\n                                    value={total}\r\n                                    customInput={TextField}\r\n                                    fixedDecimalScale\r\n                                    decimalScale={2}\r\n                                    thousandSeparator\r\n                                    decimalSeparator=\".\"\r\n                                    prefix=\"Php \"\r\n                                    fullWidth\r\n                                    size=\"small\"\r\n                                    variant=\"outlined\"\r\n                                    label=\"Total\"\r\n                                    InputProps={{\r\n                                        startAdornment : (\r\n                                            <InputAdornment position=\"start\">\r\n                                                <FontAwesomeIcon icon={faDollarSign} />\r\n                                            </InputAdornment>\r\n                                        )\r\n                                    }}\r\n                                />\r\n                            </Typography>\r\n                        </Grid>\r\n                        <Grid item lg={12} sm={12}>\r\n                            <Typography variant=\"h6\">\r\n                                Cash Change :&nbsp;                                \r\n                                <NumberFormat\r\n                                    displayType=\"text\" \r\n                                    value={info.cash_amount == 0 ? 0.00 : info.cash_amount - total}\r\n                                    customInput={TextField}\r\n                                    fixedDecimalScale\r\n                                    decimalScale={2}\r\n                                    thousandSeparator\r\n                                    decimalSeparator=\".\"\r\n                                    fullWidth\r\n                                    size=\"small\"\r\n                                    variant=\"outlined\"\r\n                                    label=\"Total\"\r\n                                    InputProps={{\r\n                                        startAdornment : (\r\n                                            <InputAdornment position=\"start\">\r\n                                                <FontAwesomeIcon icon={faDollarSign} />\r\n                                            </InputAdornment>\r\n                                        )\r\n                                    }}\r\n                                />\r\n                            </Typography>\r\n                        </Grid>\r\n                        <Grid item lg={12} sm={12}>\r\n                            <TextField\r\n                                fullWidth\r\n                                size=\"small\"\r\n                                variant=\"outlined\"\r\n                                value={info.customer_name}\r\n                                onChange={(e)=>{\r\n                                    setInfo(info=>{\r\n                                        return {\r\n                                            ...info,\r\n                                            customer_name : e.target.value\r\n                                        }\r\n                                    });\r\n                                }}\r\n                                label=\"Customer Name\"\r\n                                InputProps={{\r\n                                    startAdornment : (\r\n                                        <InputAdornment position=\"start\">\r\n                                            <FontAwesomeIcon icon={faUserTie} />\r\n                                        </InputAdornment>\r\n                                    )\r\n                                }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item lg={12} sm={12}>\r\n                            <TextField\r\n                                fullWidth\r\n                                size=\"small\"\r\n                                variant=\"outlined\"\r\n                                value={info.customer_address}\r\n                                onChange={(e)=>{\r\n                                    setInfo(info=>{\r\n                                        return {\r\n                                            ...info,\r\n                                            customer_address : e.target.value\r\n                                        }\r\n                                    });\r\n                                }}\r\n                                label=\"Customer Address\"\r\n                                InputProps={{\r\n                                    startAdornment : (\r\n                                        <InputAdornment position=\"start\">\r\n                                            <FontAwesomeIcon icon={faBuilding} />\r\n                                        </InputAdornment>\r\n                                    )\r\n                                }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item lg={12} sm={12}>\r\n                            <NumberFormat \r\n                                error={(info.transact_payment_type == 'full' && info.cash_amount < total ? true : false) || (\r\n                                    info.cash_amount == 0 && info.transact_payment_type == 'partial'\r\n                                )}\r\n                                label=\"Cash Amount\"\r\n                                fullWidth\r\n                                size=\"small \"\r\n                                variant=\"outlined\"\r\n                                customInput={TextField}\r\n                                value={info.cash_amount}\r\n                                decimalScale={2}\r\n                                decimalSeparator=\".\"\r\n                                fixedDecimalScale\r\n                                InputProps={{\r\n                                    startAdornment : (\r\n                                        <InputAdornment position=\"start\">\r\n                                            <FontAwesomeIcon icon={faMoneyBill} />\r\n                                        </InputAdornment>\r\n                                    )\r\n                                }}\r\n                                onChange={(e)=>{\r\n                                    let cash = e.target.value;\r\n                                    setInfo(info=>{\r\n                                        return {\r\n                                            ...info,\r\n                                            cash_amount : cash\r\n                                        }\r\n                                    });\r\n                                }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item lg={12} sm={12}>\r\n                            <TextField\r\n                                fullWidth\r\n                                variant=\"outlined\"\r\n                                size=\"small\"\r\n                                select\r\n                                label=\"Payment Type\"\r\n                                value={info.transaction_payment_type}\r\n                                onChange={(e)=>{\r\n                                    let payment_type = e.target.value;\r\n                                    setInfo(info=>{\r\n                                        return {\r\n                                            ...info,\r\n                                            transact_payment_type : payment_type \r\n                                        }\r\n                                    });\r\n                                }}\r\n                            >\r\n                                <MenuItem value=\"full\">Full Payment</MenuItem>\r\n                                <MenuItem value=\"partial\">Partial Payment</MenuItem>\r\n                            </TextField>\r\n                        </Grid>\r\n                        <Grid \r\n                            item \r\n                            lg={12} \r\n                            sm={12} \r\n                            style={{ \r\n                                position : 'absolute', \r\n                                bottom : '0',\r\n                                left : '0'\r\n                            }}\r\n                        >\r\n                            <ButtonGroup\r\n                                variant=\"outlined\" \r\n                                color=\"primary\" \r\n                                aria-label=\"contained primary button group\"\r\n                            >\r\n                                <Button \r\n                                    fullWidth \r\n                                    startIcon={<FontAwesomeIcon color=\"green\" icon={faMoneyBillAlt} />}\r\n                                    onClick={ async()=>{                                        \r\n                                        \r\n                                        if( info.customer_name == '' ) return;\r\n                                        if( info.cash_amount === 0 ) return; \r\n                                        if(info.transact_payment_type == 'full' && info.cash_amount < total) return;\r\n\r\n                                        const resTrans = await dispatch( CreateTransaction({\r\n                                            values : cart.map(item=>{\r\n                                                return {\r\n                                                    ...item,                                                    \r\n                                                    customer_name : info.customer_name,\r\n                                                    customer_address : info.customer_address,\r\n                                                    total_amount : total,\r\n                                                    cash_amount : info.cash_amount,\r\n                                                    change_amount : info.cash_amount - total,\r\n                                                    transact_payment_type : info.transact_payment_type === '' ? (info.cash_amount >= total ? 'full' : 'partial') : info.transact_payment_type,\r\n                                                    transact_status : info.transact_payment_type === 'full' ? true : false\r\n                                                }\r\n                                            })\r\n                                        }) );\r\n\r\n                                        if( CreateTransaction.fulfilled.match(resTrans) ){\r\n                                            handleClose(resTrans);\r\n                                        }else if( CreateTransaction.rejected.match(resTrans) ){\r\n                                            dispatch( OpenNotification({\r\n                                                message : 'Error : ' + resTrans.payload,\r\n                                                severity : 'error'\r\n                                            }) );\r\n                                            handleClose();\r\n                                        }\r\n                                    }}\r\n                                >\r\n                                    Process Order\r\n                                </Button>\r\n                                <Button\r\n                                    onClick={handleClose}\r\n                                >Cancel</Button>\r\n                            </ButtonGroup>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n            </Fade>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default withStyles(useStyle)(Transaction)\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst ConnectionSlice = createSlice({\r\n    name : 'connection',\r\n    initialState : {\r\n        isConnected : false\r\n    },\r\n    reducers : {\r\n        setConnection : (state,{payload})=>{\r\n            state.isConnected = payload;\r\n        }\r\n    }\r\n});\r\nexport const { setConnection } = ConnectionSlice.actions;\r\nexport default ConnectionSlice.reducer;","import { Box, Button, Divider, Grid, IconButton, InputAdornment, Paper, TextField, Typography, withStyles } from '@material-ui/core'\r\nimport { Close, Minimize, SettingsRemote } from '@material-ui/icons'\r\nimport React, { useEffect,useState } from 'react'\r\nimport useStyles from './Styles';\r\nimport { motion } from 'framer-motion';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCircle, faCog, faList, faSearch, faSyncAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { io } from 'socket.io-client';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setConnection } from '../store/ConnectionSlice';\r\nimport { searchProduct, selectAllProducts } from '../../products/store/productServices';\r\nimport { useHistory } from 'react-router';\r\nimport { GetSettings } from '../../settings/store/SettingsServices';\r\nimport { OpenNotification } from '../store/NotificationSlice';\r\nimport Loader from './Loader';\r\n\r\nfunction Header(props) {\r\n\r\n    const { ipcRenderer } = window.require('electron');\r\n    const { searchRef } = props;\r\n    const { HeaderWrap } = props.classes;\r\n\r\n\r\n    const dispatch = useDispatch();\r\n    const { isConnected : connection } = useSelector(state=>state.connection);\r\n    const { loading } = useSelector(state=>state.settings);\r\n    const history = useHistory();\r\n    \r\n    const closeWindow = ()=>{\r\n        ipcRenderer.invoke('close');\r\n    }\r\n  \r\n    const minimizeWindow = ()=>{\r\n        ipcRenderer.invoke('min');\r\n    }\r\n\r\n    const defaultSettings = async()=>{\r\n        try{\r\n            const resSettings = await dispatch( GetSettings({\r\n                url : \"/settings\"\r\n            }));\r\n\r\n            if( GetSettings.fulfilled.match(resSettings) ){\r\n                const { settings } = resSettings.payload;                \r\n\r\n                const host = settings.address !== undefined ? settings.address : \"localhost\";\r\n                const port = settings.port !== undefined ? settings.port : 8081;\r\n                const socket = io(`http://${host}:${port}`);\r\n\r\n                socket.on('connect',()=>{\r\n                    dispatch( setConnection(socket.connected) );\r\n                });\r\n\r\n                socket.on('disconnect',()=>{                    \r\n                    dispatch( setConnection(socket.connected) );\r\n                });\r\n\r\n                socket.on('server-printer',(printerName)=>{\r\n                    console.log(printerName);\r\n                });\r\n\r\n                socket.on('print-status',(args)=>{\r\n                    console.log(args);\r\n                });\r\n            }\r\n\r\n        }catch(err){\r\n            dispatch( OpenNotification({\r\n                message : \"Settings not loaded.\",\r\n                severity : \"error\"\r\n            }) );\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n\r\n        defaultSettings();\r\n\r\n    },[]);\r\n\r\n    if( loading ){\r\n        return(\r\n            <Loader />\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Grid              \r\n            item   \r\n            container\r\n            lg={12} sm={12}\r\n            className={HeaderWrap}\r\n            component={Paper}\r\n            elevation={2}\r\n            style={{\r\n                display : \"flex !important\",\r\n                flexDirection : 'row',\r\n                justifyContent : \"space-between\"\r\n            }}\r\n        >\r\n            <Box\r\n                style={{\r\n                    WebkitAppRegion : \"no-drag\",\r\n                    height : \"40px\",\r\n                    alignSelf : \"center\",\r\n                    display : 'flex'\r\n                }}\r\n            >\r\n                <TextField \r\n                    size=\"small\"\r\n                    margin=\"none\"                    \r\n                    variant=\"outlined\" \r\n                    label=\"Search Product\"\r\n                    inputRef={searchRef}\r\n                    InputProps={{\r\n                        startAdornment : (\r\n                            <InputAdornment position=\"start\">\r\n                                <FontAwesomeIcon icon={faSearch} />\r\n                            </InputAdornment>\r\n                        )\r\n                    }}\r\n                    onKeyPress={(e)=>{\r\n                        if( e.key === 'Enter' ){\r\n                            dispatch( searchProduct({\r\n                                opt : {\r\n                                    url : '/products/search/' + e.target.value\r\n                                }\r\n                            }) );\r\n                        }\r\n                    }}\r\n                />    \r\n                <Divider style={{ margin : \"0px 10px\"}} variant=\"fullWidth\" orientation=\"vertical\" flexItem />                \r\n                <Box\r\n                    style={{\r\n                        WebkitAppRegion : \"no-drag\",\r\n                        height : \"40px\",\r\n                        display : 'flex',\r\n                        alignItems : 'center'\r\n                    }}\r\n                >\r\n                    <IconButton                        \r\n                        size=\"small\"\r\n                        onClick={()=>{\r\n                            dispatch( selectAllProducts({\r\n                                opt : {\r\n                                    url : '/products'\r\n                                }\r\n                            }) );\r\n                        }}\r\n                    >                        \r\n                        <FontAwesomeIcon color=\"blue\" icon={faSyncAlt} />    \r\n                    </IconButton>                    \r\n                </Box>\r\n                <Divider style={{ margin : \"0px 10px\"}} variant=\"fullWidth\" orientation=\"vertical\" flexItem />\r\n                <Box\r\n                    style={{\r\n                        WebkitAppRegion : \"no-drag\",\r\n                        height : \"40px\",\r\n                        display : 'flex',\r\n                        alignItems : 'center',\r\n                        justifySelf : 'flex-end'\r\n                    }}\r\n                >\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        startIcon={<FontAwesomeIcon icon={faList} />}\r\n                        size=\"small\"\r\n                        onClick={()=>{\r\n                            history.push('/translist');\r\n                        }}                        \r\n                    >\r\n                        Transactions\r\n                    </Button>\r\n                </Box>\r\n                <Divider style={{ margin : \"0px 10px\"}} variant=\"fullWidth\" orientation=\"vertical\" flexItem />\r\n                <Box\r\n                    style={{\r\n                        WebkitAppRegion : \"no-drag\",\r\n                        height : \"40px\",\r\n                        display : 'flex',\r\n                        alignItems : 'center',\r\n                        justifySelf : 'flex-end'\r\n                    }}\r\n                >\r\n                    <SettingsRemote fontSize=\"small\" htmlColor={ connection ? \"green\" : \"maroon\" } />\r\n                    <Typography variant=\"caption\">&nbsp;{ connection ? `Connected to Server` : \"Disconnected\" }</Typography>\r\n                </Box>\r\n            </Box>\r\n            <Box  \r\n                style={{\r\n                    WebkitAppRegion : \"no-drag\",\r\n                    alignSelf : \"center\"\r\n                }}\r\n            >\r\n                <IconButton\r\n                    size=\"small\"\r\n                    component={motion.div}\r\n                    whileHover={{scale : 1.1}}\r\n                    onClick={()=>{\r\n                        history.push('/settings');\r\n                    }}\r\n                >\r\n                    <FontAwesomeIcon icon={faCog} />\r\n                </IconButton>\r\n                <IconButton\r\n                    size=\"small\"\r\n                    component={motion.div}\r\n                    whileHover={{scale : 1.1}}\r\n                    onClick={minimizeWindow}\r\n                >\r\n                    <Minimize \r\n                        color=\"primary\" \r\n                    />\r\n                </IconButton>\r\n                <IconButton                     \r\n                    size=\"small\"                     \r\n                    component={motion.div}\r\n                    whileHover={{scale : 1.1}}\r\n                    onClick={closeWindow}\r\n                >\r\n                    <Close \r\n                        color=\"secondary\" \r\n                    />\r\n                </IconButton>&nbsp;&nbsp;\r\n            </Box>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default withStyles(useStyles)(Header)\r\n","import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\nimport { GetSettings } from '../../settings/store/SettingsServices';\r\n\r\nconst TransServices = axios.create({\r\n    timeout : 62 * 2 * 1000\r\n});\r\n\r\nconst sleep = (x)=>{\r\n    return new Promise(resolve=>setTimeout(resolve,x));\r\n}\r\n\r\nexport const getAllTransaction = createAsyncThunk(\r\n    'transactions/getAllTransaction',\r\n    async(args,{ rejectWithValue,dispatch })=>{\r\n        const { opt } = args;\r\n        try{\r\n\r\n            const resSettings = await dispatch( GetSettings({\r\n                url : \"/settings\"\r\n            }) );\r\n\r\n            if(GetSettings.fulfilled.match(resSettings)){\r\n                const { settings } = resSettings.payload;\r\n                const host = settings.address !== undefined ? settings.address : \"localhost\";\r\n                const port = settings.port !== undefined ? settings.port : 8081;\r\n                const res = await TransServices({\r\n                    ...opt,\r\n                    baseURL : `http://${host}:${port}/api/v1`,\r\n                    method : 'GET'\r\n                });\r\n                await sleep(2000);\r\n                return res.data;            \r\n            }            \r\n        }catch(err){\r\n            return rejectWithValue(err);\r\n        }\r\n    }\r\n);\r\n\r\nexport const getSingleTransaction = createAsyncThunk(\r\n    'transactions/getSingleTransaction',\r\n    async(args, {rejectWithValue,dispatch})=>{\r\n        const { opt } = args;\r\n        try{\r\n\r\n            const resSettings = await dispatch( GetSettings({\r\n                url : \"/settings\"\r\n            }) );\r\n\r\n            if(GetSettings.fulfilled.match(resSettings)){\r\n                const { settings } = resSettings.payload;\r\n                const host = settings.address !== undefined ? settings.address : \"localhost\";\r\n                const port = settings.port !== undefined ? settings.port : 8081;\r\n                const res = await TransServices({\r\n                    ...opt,\r\n                    baseURL : `http://${host}:${port}/api/v1`,\r\n                    method : 'GET'\r\n                });\r\n                await sleep(2000);\r\n                return res.data;            \r\n            }            \r\n        }catch(err){\r\n            return rejectWithValue(err);\r\n        }\r\n    }\r\n);\r\n\r\nexport const createTransaction = createAsyncThunk(\r\n    'transactions/createTransaction',\r\n    async(args,{ rejectWithValue,dispatch })=>{\r\n        const { opt,values } = args;\r\n        try{\r\n\r\n            const resSettings = await dispatch( GetSettings({\r\n                url : \"/settings\"\r\n            }) );\r\n\r\n            if(GetSettings.fulfilled.match(resSettings)){\r\n                const { settings } = resSettings.payload;\r\n                const host = settings.address !== undefined ? settings.address : \"localhost\";\r\n                const port = settings.port !== undefined ? settings.port : 8081;\r\n                const res = await TransServices({\r\n                    ...opt,\r\n                    baseURL : `http://${host}:${port}/api/v1`,\r\n                    method : 'POST',\r\n                    data : values\r\n                });\r\n                await sleep(2000);\r\n                return res.data;            \r\n            }            \r\n        }catch(err){\r\n            return rejectWithValue(err);\r\n        }\r\n    }\r\n);\r\n\r\nexport const findTransaction = createAsyncThunk(\r\n    'transactions/findTransaction',\r\n    async( args, { rejectWithValue,dispatch } )=>{        \r\n        try{\r\n\r\n            const resSettings = await dispatch( GetSettings({\r\n                url : \"/settings\"\r\n            }) );\r\n\r\n            if(GetSettings.fulfilled.match(resSettings)){\r\n                const { settings } = resSettings.payload;\r\n                const host = settings.address !== undefined ? settings.address : \"localhost\";\r\n                const port = settings.port !== undefined ? settings.port : 8081;\r\n                const { opt } = args;\r\n                const res = await TransServices({\r\n                    ...opt,\r\n                    baseURL : `http://${host}:${port}/api/v1`,\r\n                    method : 'GET'\r\n                });\r\n                await sleep(2000);\r\n                return res.data;            \r\n            }            \r\n        }catch(err){\r\n            return rejectWithValue(err.response.data);\r\n        }\r\n    }\r\n);\r\n\r\nexport const getDocDef = createAsyncThunk(\r\n    'transactions/getDocDef',\r\n    async(args,{rejectWithValue,dispatch})=>{\r\n        try{\r\n\r\n            const resSettings = await dispatch( GetSettings({\r\n                url : \"/settings\"\r\n            }) );\r\n\r\n            if(GetSettings.fulfilled.match(resSettings)){\r\n                const { settings } = resSettings.payload;\r\n                const host = settings.address !== undefined ? settings.address : \"localhost\";\r\n                const port = settings.port !== undefined ? settings.port : 8081;\r\n                const { opt } = args;\r\n                const res = await TransServices({\r\n                    ...opt,\r\n                    baseURL : `http://${host}:${port}/api/v1`,\r\n                    method : 'GET',\r\n                    responseType : 'blob',  \r\n                    headers: {\r\n                        Accept: 'application/pdf',\r\n                        'Content-Type': 'application/pdf',\r\n                        mode : 'no-cors'\r\n                    }\r\n                });\r\n                const url = window.URL.createObjectURL(res.data);\r\n                return url;\r\n            }            \r\n        }catch(err){\r\n            return rejectWithValue(err.response.data);\r\n        }\r\n    }\r\n);\r\n\r\nexport const updateTransaction = createAsyncThunk(\r\n    'transactions/updateTransaction',\r\n    async(args,{rejectWithValue,dispatch})=>{\r\n        try{\r\n\r\n            const resSettings = await dispatch( GetSettings({\r\n                url : \"/settings\"\r\n            }) );\r\n\r\n            if(GetSettings.fulfilled.match(resSettings)){\r\n                const { settings } = resSettings.payload;\r\n                const host = settings.address !== undefined ? settings.address : \"localhost\";\r\n                const port = settings.port !== undefined ? settings.port : 8081;\r\n                const { opt,value } = args;\r\n                const res = await TransServices({\r\n                    ...opt,\r\n                    baseURL : `http://${host}:${port}/api/v1`,\r\n                    method : 'PATCH',\r\n                    data : value\r\n                });\r\n                await sleep(2000);\r\n                return res.data;            \r\n            }            \r\n        }catch(err){\r\n            return rejectWithValue(err.response.data);\r\n        }\r\n    }\r\n);\r\n\r\nexport const deleteTransaction = createAsyncThunk(\r\n    'transactions/deleteTransaction',\r\n    async(args,{rejectWithValue,dispatch})=>{\r\n        try{\r\n            \r\n            const resSettings = await dispatch( GetSettings({\r\n                url : \"/settings\"\r\n            }) );\r\n\r\n            if(GetSettings.fulfilled.match(resSettings)){\r\n                const { settings } = resSettings.payload;\r\n                const host = settings.address !== undefined ? settings.address : \"localhost\";\r\n                const port = settings.port !== undefined ? settings.port : 8081;\r\n                const { opt } = args;\r\n                const res = await TransServices({\r\n                    ...opt,\r\n                    baseURL : `http://${host}:${port}/api/v1`,\r\n                    method : 'DELETE'\r\n                });\r\n                await sleep(2000);\r\n                return res.data;\r\n            }\r\n        }catch(err){\r\n            return rejectWithValue(err.response.data);\r\n        }\r\n    }\r\n);","import { faBoxes, faCalendar, faIdCard, faMarker, faMoneyBillWaveAlt, faPrint, faStop, faTrash, faUserTie } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Backdrop, Button, ButtonGroup, Fade, Grid, IconButton, InputAdornment, makeStyles, Modal, TextField } from '@material-ui/core'\r\nimport { Close } from '@material-ui/icons';\r\nimport React, { useState } from 'react';\r\nimport NumberFormat from 'react-number-format';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Loader from '../../shared/components/Loader';\r\nimport { OpenNotification } from '../../shared/store/NotificationSlice';\r\nimport { updateTransaction } from '../store/TransactionServices';\r\nimport pdfMake from 'pdfmake/build/pdfmake';\r\nimport pdfFonts from \"pdfmake/build/vfs_fonts\";\r\nimport TransactionDocDef from '../../cart/docs/TransactionDocDef';\r\nimport {CreateTransactionReport} from '../../shared/store/ReportServices';\r\nimport { io } from 'socket.io-client';\r\nimport { GetSettings } from '../../settings/store/SettingsServices';\r\n \r\nconst useStyles = makeStyles((theme)=>({\r\n    Modal : {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    ModalContent : {\r\n        width : \"450px\",\r\n        height : \"auto\",\r\n        borderRadius : \"5px\",\r\n        background : \"#ffffff\",\r\n        outline : 'none',\r\n        padding : \"25px\"   \r\n    }\r\n}));\r\n\r\nconst BtnGroupSingleTrans = (props)=>{\r\n\r\n    const { data,fn } = props;\r\n    const dispatch = useDispatch();\r\n    const { loading } = useSelector(state=>state.report);\r\n    const [payment,setPayment] = useState({\r\n        partial_payments : 0\r\n    });\r\n    \r\n    const history = useHistory();\r\n\r\n    if( loading ){\r\n        return(\r\n            <Loader />\r\n        )\r\n    }\r\n\r\n    return(\r\n        <Grid item container lg={12} sm={12} spacing={2}>\r\n            {data.payment_type === 'partial' ? (\r\n                <Grid item lg={4} sm={4}>\r\n                    <NumberFormat\r\n                        customInput={TextField}\r\n                        fixedDecimalScale\r\n                        decimalScale={2}\r\n                        thousandSeparator\r\n                        size=\"small\"\r\n                        fullWidth\r\n                        label=\"Amount\"\r\n                        margin=\"dense\"                                        \r\n                        variant=\"outlined\"\r\n                        onChange={(e)=>{                        \r\n                            setPayment(payment=>{\r\n                                return {\r\n                                    ...payment,\r\n                                    partial_payments : parseInt(e.target.value)\r\n                                }\r\n                            })\r\n                        }}\r\n                        InputProps={{\r\n                            style : {\r\n                                color : data.payment_type == 'partial' ? \"maroon\" : \"green\"\r\n                            }, \r\n                            startAdornment : (\r\n                                <InputAdornment position=\"start\">\r\n                                    <FontAwesomeIcon icon={faMoneyBillWaveAlt} />\r\n                                </InputAdornment>\r\n                            )\r\n                        }}\r\n                    />\r\n                </Grid>\r\n            ) : (\r\n                <div></div>\r\n            )}\r\n            <Grid \r\n                item \r\n                lg={8} \r\n                sm={8}\r\n                style={{\r\n                    display : \"flex\",\r\n                    justifyContent : \"center\",\r\n                    alignItems : \"center\"\r\n                }}\r\n            >\r\n                <ButtonGroup variant=\"contained\">\r\n                    {data.payment_type === 'partial' ? (\r\n                        <Button    \r\n                            size=\"small\"                                                                                    \r\n                            color=\"secondary\"\r\n                            style={{\r\n                                background : \"green\"\r\n                            }}\r\n                            onClick={async()=>{\r\n                                const res = await dispatch( updateTransaction({\r\n                                    opt : {\r\n                                        url : '/transactions/' + data._id\r\n                                    },\r\n                                    value : payment\r\n                                }) );\r\n\r\n                                if( updateTransaction.fulfilled.match(res) ){\r\n                                    dispatch( OpenNotification({\r\n                                        message : 'Transaction Updated',\r\n                                        severity : 'success'\r\n                                    }) );\r\n                                }else{\r\n                                    dispatch( OpenNotification({\r\n                                        message : 'Transaction Update Failed',\r\n                                        severity : 'error'\r\n                                    }) );\r\n                                }\r\n                            }}\r\n                            startIcon={<FontAwesomeIcon icon={<Close />} />}\r\n                        >\r\n                            Pay\r\n                        </Button>\r\n                    ) : (\r\n                        <Button size=\"small\" disabled >Paid</Button>\r\n                    )}\r\n                    <Button \r\n                        size=\"small\"                                                                                       \r\n                        color=\"primary\"\r\n                        onClick={async ()=>{\r\n                            try{\r\n                                const resSettings = await dispatch( GetSettings({\r\n                                    url : '/settings'\r\n                                }) );\r\n\r\n                                if( GetSettings.fulfilled.match(resSettings) ){\r\n                                    const { settings } = resSettings.payload;\r\n                                    const host = settings.address !== undefined ? settings.address : \"localhost\";\r\n                                    const port = settings.port !== undefined ? settings.port : 8081;\r\n                                    const socket = io(`http://${host}:${port}`);\r\n                                    \r\n                                    const resTrans = await dispatch( CreateTransactionReport({\r\n                                        url : '/transactions/' + data._id\r\n                                    }) );\r\n        \r\n                                    if( CreateTransactionReport.fulfilled.match(resTrans) ){\r\n                                        const { doc,logo } = resTrans.payload;\r\n                                        let pdf = JSON.parse(doc);                                                              \r\n        \r\n                                        if( pdf.length > 0 ){\r\n                                            pdfMake.vfs = pdfFonts.pdfMake.vfs;\r\n                                            const docDef = TransactionDocDef(pdf,logo);\r\n                                            const docGenerator = pdfMake.createPdf(docDef);\r\n        \r\n                                            docGenerator.getBase64(data64=>{\r\n                                                socket.emit('printcmd',{\r\n                                                    sid : socket.id,\r\n                                                    data : data64,\r\n                                                    id : data._id,\r\n                                                });\r\n                                            });\r\n        \r\n                                            docGenerator.getBlob(blob=>{\r\n                                                const url = window.URL.createObjectURL(blob);                        \r\n                                                history.push('/transaction/success?pdf=' + url + \"&page=transaction\");\r\n                                            });\r\n                                        }\r\n                                    }\r\n                                }\r\n                                \r\n                            }catch(err){\r\n                                dispatch( OpenNotification({\r\n                                    message : 'Cannot Print Transaction, please try again.',\r\n                                    severity : 'error'\r\n                                }) );\r\n                            }                            \r\n                        }}\r\n                        startIcon={<FontAwesomeIcon icon={faPrint} />}\r\n                    >\r\n                        Print\r\n                    </Button>\r\n                    <Button   \r\n                        size=\"small\"                                                                                     \r\n                        color=\"secondary\"\r\n                        onClick={()=>{\r\n                            history.push(\"/transaction/delete/\" + data._id);\r\n                        }}\r\n                        startIcon={<FontAwesomeIcon icon={<Close />} />}\r\n                    >\r\n                        Delete\r\n                    </Button>\r\n                    <Button   \r\n                        size=\"small\"                                                                                     \r\n                        style={{\r\n                            background : \"orange\"\r\n                        }}\r\n                        onClick={fn}\r\n                        startIcon={<FontAwesomeIcon icon={<Close />} />}\r\n                    >\r\n                        Cancel\r\n                    </Button>\r\n                </ButtonGroup>\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nfunction TransactionSingle(props) {\r\n\r\n    const { inOpen,onClose,data : transaction } = props;\r\n    const { loading } = useSelector(state=>state.transactions);\r\n    const classes = useStyles();\r\n\r\n    if( loading ){\r\n        return(\r\n            <Loader />\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            open={inOpen}\r\n            onClose={onClose}\r\n            BackdropComponent={Backdrop}\r\n            BackdropProps={{\r\n                timeout : 500,\r\n                style : {\r\n                    height : \"730px\",\r\n                    borderRadius : \"15px\"\r\n                }\r\n            }}\r\n            className={classes.Modal}\r\n        >\r\n            <Fade\r\n                in={inOpen}\r\n            >\r\n                <div className={classes.ModalContent}>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item lg={12} sm={12}>\r\n                            <TextField \r\n                                size=\"small\"\r\n                                fullWidth\r\n                                disabled\r\n                                label=\"Receipt No\"\r\n                                value={transaction._id}\r\n                                variant=\"outlined\"\r\n                                InputProps={{\r\n                                    startAdornment : (\r\n                                        <InputAdornment position=\"start\">\r\n                                            <FontAwesomeIcon icon={faIdCard} />\r\n                                        </InputAdornment>\r\n                                    )\r\n                                }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item lg={12} sm={12}>\r\n                            <TextField \r\n                                size=\"small\"\r\n                                fullWidth\r\n                                disabled\r\n                                label=\"Customer\"\r\n                                value={transaction.customer_name}\r\n                                variant=\"outlined\"\r\n                                InputProps={{\r\n                                    startAdornment : (\r\n                                        <InputAdornment position=\"start\">\r\n                                            <FontAwesomeIcon icon={faUserTie} />\r\n                                        </InputAdornment>\r\n                                    )\r\n                                }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item lg={4} sm={4}>\r\n                            <TextField \r\n                                size=\"small\"\r\n                                fullWidth\r\n                                label=\"Item in cart\"\r\n                                value={transaction.cart_count}\r\n                                variant=\"outlined\"\r\n                                InputProps={{\r\n                                    startAdornment : (\r\n                                        <InputAdornment position=\"start\">\r\n                                            <FontAwesomeIcon icon={faBoxes} />\r\n                                        </InputAdornment>\r\n                                    )\r\n                                }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item lg={8} sm={8}>\r\n                            <TextField \r\n                                size=\"small\"\r\n                                disabled={ transaction.payment_type === 'full' ? true : false }\r\n                                fullWidth\r\n                                label=\"Transaction Date\"\r\n                                value={new Date(transaction.transaction_date).toISOString().split('T')[0]}\r\n                                variant=\"outlined\"\r\n                                InputProps={{\r\n                                    startAdornment : (\r\n                                        <InputAdornment position=\"start\">\r\n                                            <FontAwesomeIcon icon={faCalendar} />\r\n                                        </InputAdornment>\r\n                                    )\r\n                                }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item lg={5} sm={5}>\r\n                            <TextField \r\n                                size=\"small\"                                \r\n                                fullWidth\r\n                                label=\"Payment Type\"\r\n                                value={transaction.payment_type}\r\n                                variant=\"outlined\"\r\n                                InputProps={{\r\n                                    style : {\r\n                                        color : transaction.payment_type == 'partial' ? \"maroon\" : \"green\"\r\n                                    }, \r\n                                    startAdornment : (\r\n                                        <InputAdornment position=\"start\">\r\n                                            <FontAwesomeIcon icon={faMoneyBillWaveAlt} />\r\n                                        </InputAdornment>\r\n                                    )\r\n                                }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item lg={7} sm={7}>\r\n                            <NumberFormat\r\n                                customInput={TextField}\r\n                                fixedDecimalScale\r\n                                disabled={ transaction.payment_type === 'full' ? true : false }\r\n                                decimalScale={2}\r\n                                thousandSeparator\r\n                                allowNegative={false}\r\n                                prefix=\"Php \" \r\n                                size=\"small\"\r\n                                fullWidth\r\n                                label={transaction.payment_type == 'partial' ? \"Remaining Balance\" : \"Change Amount\"}\r\n                                value={transaction.change_amount}\r\n                                variant=\"outlined\"\r\n                                InputProps={{\r\n                                    style : {\r\n                                        color : transaction.payment_type == 'partial' ? \"maroon\" : \"green\"\r\n                                    }, \r\n                                    startAdornment : (\r\n                                        <InputAdornment position=\"start\">\r\n                                            <FontAwesomeIcon icon={faMoneyBillWaveAlt} />\r\n                                        </InputAdornment>\r\n                                    )\r\n                                }}\r\n                            />\r\n                        </Grid>\r\n                        <BtnGroupSingleTrans fn={onClose} data={transaction} />\r\n                    </Grid>\r\n                </div>\r\n            </Fade>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default TransactionSingle\r\n","import { TableCell, TableRow } from '@material-ui/core';\r\nimport NumberFormat from 'react-number-format';\r\nimport React, { useState } from 'react'\r\nimport TransactionSingle from './TransactionSingle';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nfunction TransactionItems({transaction}) {\r\n\r\n    const [open,setOpen] = useState(false);\r\n    const history = useHistory();\r\n\r\n    const handleOpen = ()=>{\r\n        setOpen(true);\r\n    }\r\n\r\n    const handleClose = ()=>{\r\n        history.goBack();\r\n        setOpen(false);\r\n    }\r\n\r\n    return (\r\n        <TableRow\r\n            key={transaction._id}\r\n            hover\r\n            onDoubleClick={handleOpen}\r\n            style={{ \r\n                background : transaction.payment_type == 'partial' ? '#fafafa' : '',\r\n                cursor : 'pointer',\r\n                userSelect : 'none'\r\n            }}\r\n        >\r\n            <TableCell>{transaction.customer_name}</TableCell>\r\n            <TableCell\r\n                style={{\r\n                    textAlign : \"center\"\r\n                }}\r\n            >{transaction.cart_count}</TableCell>\r\n            <TableCell\r\n                style={{\r\n                    textAlign : \"center\"\r\n                }}\r\n            >{transaction.transaction_date.split('T')[0]}</TableCell>\r\n            <TableCell\r\n                style={{\r\n                    textAlign : \"center\"\r\n                }}\r\n            >{transaction.payment_type}</TableCell>\r\n            <TableCell\r\n                style={{\r\n                    textAlign : \"center\"\r\n                }}\r\n            >\r\n                <NumberFormat \r\n                    displayType=\"text\"\r\n                    value={transaction.cash_amount}\r\n                    fixedDecimalScale\r\n                    decimalScale={2}\r\n                    thousandSeparator\r\n                    prefix=\"Php \"\r\n                />\r\n            </TableCell>\r\n            <TableCell\r\n                style={{\r\n                    textAlign : \"center\"\r\n                }}\r\n            >\r\n                <NumberFormat \r\n                    displayType=\"text\"\r\n                    value={transaction.total_price}\r\n                    fixedDecimalScale\r\n                    decimalScale={2}\r\n                    thousandSeparator\r\n                    prefix=\"Php \"\r\n                />\r\n            </TableCell>\r\n            <TableCell\r\n                style={{\r\n                    textAlign : \"center\"\r\n                }}\r\n            >\r\n                <NumberFormat \r\n                    displayType=\"text\"\r\n                    value={transaction.change_amount}\r\n                    allowNegative={false}\r\n                    fixedDecimalScale\r\n                    decimalScale={2}\r\n                    thousandSeparator\r\n                    prefix=\"Php \"\r\n                />\r\n            </TableCell>\r\n            <TransactionSingle data={transaction} inOpen={open} onClose={handleClose} />\r\n        </TableRow>\r\n    )\r\n}\r\n\r\nexport default TransactionItems\r\n","import { faSearch } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { \r\n    AppBar, \r\n    Dialog, \r\n    Grid, \r\n    IconButton, \r\n    InputAdornment, \r\n    makeStyles, \r\n    Paper, \r\n    Slide, \r\n    Table, \r\n    TableBody, \r\n    TableCell, \r\n    TableContainer, \r\n    TableHead, \r\n    TablePagination, \r\n    TableRow, \r\n    TextField, \r\n    Toolbar \r\n} from '@material-ui/core';\r\nimport { KeyboardDatePicker,MuiPickersUtilsProvider } from '@material-ui/pickers';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { Close } from '@material-ui/icons';\r\nimport React, { forwardRef, useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { findTransaction, getAllTransaction } from '../store/TransactionServices';\r\nimport TransactionItems from './TransactionItems';\r\nimport Loader from '../../shared/components/Loader';\r\n\r\nconst useStyles = makeStyles((theme)=>({\r\n    appBar : {\r\n        position : 'relative',\r\n        background : \"#ffffff\"\r\n    }\r\n}));\r\n\r\nconst TransitionDialog = forwardRef((props,ref)=>{\r\n    return(\r\n        <Slide \r\n            direction=\"up\"\r\n            ref={ref}\r\n            {...props}            \r\n        />\r\n    )\r\n});\r\n\r\nfunction TransactionList(props) {\r\n\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const { entities : transactions } = useSelector(state=>state.transactions);\r\n    const { loading } = useSelector(state=>state.transactions);\r\n    \r\n    const [open,setOpen] = useState(false);\r\n\r\n    const [page, setPage] = useState(0);\r\n    const [rowsPerPage, setRowsPerPage] = useState(8);\r\n    const [search,setSearch] = useState('');\r\n\r\n    const handleChangePage = (event, newPage) => {\r\n        setPage(newPage);\r\n    };\r\n\r\n    const handleChangeRowsPerPage = (event) => {\r\n        setRowsPerPage(+event.target.value);\r\n        setPage(0);\r\n    };\r\n\r\n    const handleClose = ()=>{\r\n        setOpen(false);\r\n        history.goBack();\r\n    }\r\n\r\n    useEffect(()=>{\r\n        setOpen(true);\r\n        dispatch( getAllTransaction({\r\n            opt : {\r\n                url : '/transactions'\r\n            }\r\n        }) );\r\n    },[]);\r\n\r\n    const [selectedDate, setSelectedDate] = useState(new Date(Date.now()).toLocaleDateString());\r\n\r\n    const handleDateChange = (date) => {\r\n        setSelectedDate(new Date(date));\r\n        let selDate = new Date(date);\r\n        dispatch( findTransaction({\r\n            opt : {\r\n                url : `/search/transactions?date=${selDate}`\r\n            }\r\n        }) )\r\n    };\r\n\r\n    if( loading ){\r\n        return(\r\n            <Loader />\r\n        )\r\n    }\r\n\r\n\r\n    return (\r\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n        <Dialog\r\n            fullScreen\r\n            open={open}\r\n            onClose={handleClose}\r\n            TransitionComponent={TransitionDialog}\r\n            BackdropProps={{\r\n                style : {\r\n                    height : \"730px\",\r\n                    borderRadius : \"15px\"\r\n                }\r\n            }}\r\n            style={{\r\n                WebkitAppRegion : \"no-drag\",\r\n                padding : \"20px\",\r\n                height : \"690px\",\r\n                borderRadius : \"10px\"\r\n            }}\r\n        >   \r\n            <AppBar className={classes.appBar}>\r\n                <Toolbar \r\n                    style={{\r\n                        justifyContent : 'space-between'\r\n                    }}\r\n                >\r\n                    <TextField \r\n                        size=\"small\"\r\n                        variant=\"outlined\"\r\n                        label=\"Search\"\r\n                        InputProps={{\r\n                            startAdornment : (\r\n                                <InputAdornment position=\"start\">\r\n                                    <FontAwesomeIcon icon={faSearch} />\r\n                                </InputAdornment>\r\n                            )\r\n                        }}\r\n                        style={{\r\n                            flexBasis : \"220px\",\r\n                            flex : 2,\r\n                            marginRight : \"10px\"\r\n                        }}\r\n                        onKeyDown={(e)=>{\r\n                            setSearch(e.target.value);\r\n                        }}\r\n                        onKeyPress={(e)=>{\r\n                            if( e.key === 'Enter' ){\r\n                                dispatch( findTransaction({\r\n                                    opt : {\r\n                                        url : `/search/transactions?s=${search}`\r\n                                    }\r\n                                }) )\r\n                            }\r\n                        }}\r\n                    />\r\n                    <KeyboardDatePicker\r\n                        disableToolbar\r\n                        variant=\"inline\"\r\n                        format=\"yyyy-dd-MM\"\r\n                        size=\"small\"\r\n                        margin=\"dense\"\r\n                        id=\"date-picker-inline\"\r\n                        label=\"Filter Date\"\r\n                        value={selectedDate}\r\n                        onChange={handleDateChange}\r\n                        KeyboardButtonProps={{\r\n                          'aria-label': 'change date',\r\n                        }}\r\n                        style={{\r\n                            alignSelf : \"flex-start\",\r\n                            flex : 1\r\n                        }}\r\n                    />\r\n                    <IconButton focusRipple={false} style={{ margin : \"0px 8px\" }} size=\"small\" onClick={handleClose}>\r\n                        <Close color=\"secondary\" />\r\n                    </IconButton>                    \r\n                </Toolbar>\r\n            </AppBar>\r\n            <Grid container>\r\n                <Grid item lg={12} sm={12} style={{ padding : \"30px\" }}>\r\n                    <TableContainer\r\n                        component={Paper}\r\n                        elevation={2}\r\n                    >\r\n                        <Table \r\n                            stickyHeader \r\n                            size=\"medium\"\r\n                        >\r\n                            <TableHead>\r\n                                <TableRow>\r\n                                    <TableCell style={{ fontWeight : 600 }}>Customer Name</TableCell>\r\n                                    <TableCell style={{ fontWeight : 600, textAlign : 'center' }}>In cart</TableCell>\r\n                                    <TableCell style={{ fontWeight : 600, textAlign : 'center' }}>Transaction date</TableCell>\r\n                                    <TableCell style={{ fontWeight : 600, textAlign : 'center' }}>Payment Type</TableCell>\r\n                                    <TableCell style={{ fontWeight : 600, textAlign : 'center' }}>Cash Amount</TableCell>\r\n                                    <TableCell style={{ fontWeight : 600, textAlign : 'center' }}>Total</TableCell>\r\n                                    <TableCell style={{ fontWeight : 600, textAlign : 'center' }}>Change</TableCell>\r\n                                </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                                {transactions.slice(page * rowsPerPage,page * rowsPerPage + rowsPerPage).map(entry=>(\r\n                                    <TransactionItems transaction={entry} />\r\n                                ))}\r\n                            </TableBody>\r\n                            <TablePagination \r\n                                rowsPerPageOptions={[8, 16, 800]}\r\n                                count={transactions.length}\r\n                                rowsPerPage={rowsPerPage}\r\n                                page={page}\r\n                                onChangePage={handleChangePage}\r\n                                onChangeRowsPerPage={handleChangeRowsPerPage}\r\n                                labelRowsPerPage={false}\r\n                            />\r\n                        </Table>\r\n                    </TableContainer>\r\n                </Grid>\r\n            </Grid>            \r\n        </Dialog>\r\n        </MuiPickersUtilsProvider>\r\n    )\r\n}\r\n\r\nexport default TransactionList\r\n","import React,{ useEffect,useState } from 'react'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport { Modal,Backdrop,Fade, Fab } from '@material-ui/core';\r\nimport { useSelector } from 'react-redux';\r\nimport Loader from '../../shared/components/Loader';\r\nimport Styles from './Styles';\r\nimport { withStyles } from '@material-ui/styles';\r\nimport { Close } from '@material-ui/icons';\r\n\r\nexport const useQuery = ()=>{\r\n    return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nfunction SuccessPage(props) {\r\n\r\n    const history = useHistory();\r\n    const [open,setOpen] = useState(false);\r\n    const { loading } = useSelector(state=>state.transactions);\r\n    const { loading : rptLoad } = useSelector(state=>state.report);\r\n    const query = useQuery();\r\n    const pdf = query.get('pdf');\r\n    const page = query.get('page');\r\n    const { classes } = props;\r\n\r\n    const handleClose = ()=>{\r\n        \r\n        if( page === 'transaction' ){\r\n            history.goBack();\r\n        }else{\r\n            history.push('/');\r\n        }\r\n\r\n        setOpen(false);\r\n    }\r\n\r\n    useEffect(()=>{        \r\n        setOpen(true);\r\n    },[]);\r\n\r\n    if( loading || rptLoad ){\r\n        return(\r\n            <Loader />\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            open={open}\r\n            onClose={handleClose}\r\n            BackdropComponent={Backdrop}\r\n            BackdropProps={{\r\n                timeout : 500,\r\n                style : {\r\n                    height : \"730px\",\r\n                    borderRadius : \"15px\"\r\n                }\r\n            }}\r\n        >\r\n            <Fade\r\n                in={open}\r\n            >\r\n                <div className={classes.SuccessPageModal}>\r\n                    <Fab\r\n                        size=\"small\"\r\n                        variant=\"circular\"\r\n                        onClick={handleClose}\r\n                        style={{\r\n                            position : \"absolute\",\r\n                            left : 15,\r\n                            top : 8,          \r\n                            WebkitAppRegion : \"no-drag\"          \r\n                        }}\r\n                    >\r\n                        <Close />\r\n                    </Fab>\r\n                    <iframe                         \r\n                        style={{\r\n                            border : \"none\",    \r\n                            WebkitAppRegion : 'no-drag'                        \r\n                        }} \r\n                        onClick={handleClose}                         \r\n                        src={pdf+'#toolbar=1'} \r\n                        width=\"100%\" \r\n                        height=\"100%\"\r\n                    ></iframe>\r\n                </div>                \r\n            </Fade>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default withStyles(Styles)(SuccessPage)\r\n","const useStyles = {\r\n    SettingsModal : {\r\n        WebkitAppRegion : \"no-drag\",\r\n        display : \"flex\",\r\n        justifyContent : \"center\",\r\n        alignItems : \"center\",\r\n        outline : \"none\",\r\n        borderRadius : \"15px\"\r\n    },\r\n    SettingsContent : {\r\n        backgroundColor : \"#ffffff\",\r\n        width : \"450px\",\r\n        height : \"auto\",\r\n        outline : \"none\",\r\n        padding : \"20px\"\r\n    }\r\n}\r\n\r\nexport default useStyles;","import { faCog, faNetworkWired } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Modal,Backdrop,withStyles, Fade, Grid, TextField, InputAdornment, Button } from '@material-ui/core';\r\nimport { Dns, UsbRounded } from '@material-ui/icons';\r\nimport React,{useEffect,useState} from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Loader from '../../shared/components/Loader';\r\nimport { OpenNotification } from '../../shared/store/NotificationSlice';\r\nimport { SetIPAddress } from '../store/SettingsServices';\r\nimport Styles from './Styles';\r\n\r\nfunction Settings(props) {\r\n\r\n    const { ipcRenderer } = window.require('electron');\r\n    const [open,setOpen] = useState(false);\r\n    const dispatch = useDispatch();\r\n    const { loading } = useSelector(state=>state.settings);\r\n    const { settings } = useSelector(state=>state.settings.entities);\r\n    const [ipAdd,setIpAdd] = useState(settings.address);\r\n    const [port,setPort] = useState(settings.port);\r\n    const history = useHistory();\r\n    const { classes } = props;\r\n\r\n    const handleClose = ()=>{\r\n        history.goBack();\r\n        setOpen(false);\r\n    }\r\n\r\n    const handleRestart = ()=>{\r\n        ipcRenderer.invoke('restart');\r\n    }\r\n\r\n    const handlePortChange = (e)=>{\r\n        setPort(e.target.value);\r\n    }\r\n\r\n    useEffect(()=>{\r\n        setOpen(true);\r\n    },[]);\r\n\r\n    if( loading ){\r\n        return(\r\n            <Loader />\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            open={open}\r\n            onClose={handleClose}\r\n            BackdropComponent={Backdrop}\r\n            BackdropProps={{\r\n                style : {\r\n                    height : \"730px\",\r\n                    borderRadius : \"15px\"\r\n                }\r\n            }}\r\n            className={classes.SettingsModal}\r\n        >\r\n            <Fade\r\n                in={open}                        \r\n            >\r\n                <div className={classes.SettingsContent}>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item lg={8} sm={8}>\r\n                            <TextField\r\n                                value={ipAdd}\r\n                                variant=\"outlined\"\r\n                                margin=\"dense\"\r\n                                fullWidth\r\n                                label=\"Host Address\"\r\n                                placeholder=\"0.0.0.0\"\r\n                                onChange={(e)=>{\r\n                                    setIpAdd(e.target.value)\r\n                                }}\r\n                                InputProps={{\r\n                                    startAdornment : (\r\n                                        <InputAdornment position=\"start\">\r\n                                            <Dns />\r\n                                        </InputAdornment>\r\n                                    )\r\n                                }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item lg={4} sm={4}>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                margin=\"dense\"\r\n                                fullWidth\r\n                                label=\"Port\"       \r\n                                value={port}\r\n                                onChange={handlePortChange}       \r\n                                InputProps={{\r\n                                    startAdornment : (\r\n                                        <InputAdornment position=\"start\">\r\n                                            <UsbRounded />\r\n                                        </InputAdornment>\r\n                                    )\r\n                                }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item lg={6} sm={6}>\r\n                            <Button\r\n                                color=\"primary\"\r\n                                fullWidth\r\n                                variant=\"contained\"\r\n                                size=\"medium\"\r\n                                startIcon={<FontAwesomeIcon icon={faCog} />}\r\n                                onClick={ async(e)=>{\r\n                                    \r\n                                    const resSettings = await dispatch(SetIPAddress({\r\n                                        url : \"/settings\",\r\n                                        data : {\r\n                                            address : ipAdd,\r\n                                            port : parseInt(port)\r\n                                        }\r\n                                    }));\r\n                                    \r\n                                    if( SetIPAddress.fulfilled.match(resSettings) ){\r\n                                        dispatch( OpenNotification({\r\n                                            message : \"Settings has been saved.\",\r\n                                            severity : \"success\"\r\n                                        }) );\r\n                                        history.push('/');\r\n                                        handleRestart();\r\n                                    }else{\r\n                                        dispatch( OpenNotification({\r\n                                            message : \"Please run application as `Administrator`\\nSettings not save.\",\r\n                                            severity : \"error\"\r\n                                        }) );\r\n                                    }\r\n\r\n                                }}\r\n                            >Save</Button>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n            </Fade>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default withStyles(Styles)(Settings)\r\n","const useStyles = {\r\n    Modal : {\r\n        display : \"flex\",\r\n        justifyContent : \"center\",\r\n        alignItems : \"center\",\r\n        outline : \"none\"\r\n    },\r\n    ModalContent : {\r\n        background : \"#ffffff\",\r\n        height : \"auto\",\r\n        width : \"350px\",\r\n        outline : \"none\",\r\n        padding : \"30px\"\r\n    }\r\n}\r\n\r\nexport default useStyles;","import { faTrash } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Modal,Fade,Backdrop, Grid,withStyles, Button } from '@material-ui/core';\r\nimport React,{ useEffect,useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { loadingSelector } from '../../products/store/productSlice';\r\nimport Loader from '../../shared/components/Loader';\r\nimport { OpenNotification } from '../../shared/store/NotificationSlice';\r\nimport { deleteTransaction } from '../store/TransactionServices';\r\nimport Styles from './Styles';\r\n\r\nfunction TransactionDeleteModal(props) {\r\n    \r\n    const [open,setOpen] = useState(false);\r\n    const history = useHistory();\r\n    const { id } = useParams();\r\n    const { classes } = props;\r\n    const dispatch = useDispatch();\r\n    const {loading} = useSelector(state=>state.transactions);\r\n\r\n    const handleClose = ()=>{\r\n        history.goBack();\r\n        setOpen(false);\r\n    }\r\n\r\n    useEffect(()=>{\r\n        setOpen(true);\r\n    },[]);\r\n\r\n    if( loading ){\r\n        return(\r\n            <Loader />\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Modal            \r\n            open={open}\r\n            onClose={handleClose}\r\n            BackdropComponent={Backdrop}\r\n            BackdropProps={{\r\n                timeout : 500,\r\n                style : {\r\n                    WebkitAppRegion : \"no-drag\",\r\n                    height : \"730px\",\r\n                    borderRadius : \"15px\"\r\n                }\r\n            }}\r\n            className={classes.Modal}\r\n        >\r\n            <Fade\r\n                in={open}\r\n            >\r\n                <Grid container className={classes.ModalContent} spacing={2}>\r\n                    <Grid item lg={12} sm={12}>\r\n                        <h4\r\n                            style={{\r\n                                textAlign : \"center\"\r\n                            }}\r\n                        >Delete transaction entry?</h4>                        \r\n                    </Grid>\r\n                    <Grid item lg={6} sm={6}>\r\n                        <Button\r\n                            fullWidth\r\n                            size=\"small\"\r\n                            variant=\"contained\"\r\n                            color=\"secondary\"\r\n                            startIcon={<FontAwesomeIcon icon={faTrash} />}\r\n                            onClick={ async()=>{\r\n                                const resTrans = await dispatch( deleteTransaction({\r\n                                    opt : {\r\n                                        url : \"/transactions/\" + id\r\n                                    }\r\n                                }) );\r\n\r\n                                if( deleteTransaction.fulfilled.match(resTrans) ){\r\n                                    dispatch( OpenNotification({\r\n                                        message : \"Transaction has been deleted.\",\r\n                                        severity : \"success\"\r\n                                    }) );\r\n                                    handleClose();\r\n                                }else{\r\n                                    dispatch(OpenNotification({\r\n                                        message : \"Error deleting transaction.\",\r\n                                        severity : \"error\"\r\n                                    }));\r\n                                }\r\n                            }}\r\n                        >\r\n                            Delete\r\n                        </Button>\r\n                    </Grid>\r\n                    <Grid item lg={6} sm={6}>\r\n                        <Button\r\n                            fullWidth\r\n                            size=\"small\"\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={handleClose}\r\n                        >\r\n                            Cancel\r\n                        </Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </Fade>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default withStyles(Styles)(TransactionDeleteModal)\r\n","import React,{useEffect,useRef} from 'react';\nimport { BrowserRouter as Router,Switch, Route } from 'react-router-dom';\nimport Dashboard from './components/Dashboard/Index';\nimport ProductsList from './products/components/ProductsList';\nimport { Grid, withStyles } from '@material-ui/core';\nimport useStyles from './Styles';\nimport Toast from './shared/components/Toast';\nimport { useDispatch } from 'react-redux';\nimport { CloseNotification } from './shared/store/NotificationSlice';\nimport Transaction from './cart/components/Transaction';\nimport Header from './shared/components/Header';\nimport TransactionList from './transactions/components/TransactionList';\nimport SuccessPage from './cart/components/SuccessPage';\nimport Settings from './settings/components/settings';\nimport TransactionDeleteModal from './transactions/components/TransactionDeleteModal';\n\nfunction App(props) {\n\n  const dispatch = useDispatch();\n  const { root,ContainerWrap } = props.classes;\n  const searchRef = useRef(null);\n  const focusSearch = ()=>{\n      searchRef.current.focus();\n  }\n\n  useEffect(()=>{\n\n      document.addEventListener('keydown',(e)=>{\n          if( e.ctrlKey && e.key == 'f' ){\n              focusSearch();\n          }\n      });\n\n      return ()=>{\n        document.removeEventListener('keydown',(e)=>{          \n            if( e.ctrlKey && e.key == 'f' ){\n                focusSearch();\n            }\n        });\n      }      \n\n  },[]);\n\n  const handleClose = ()=>{\n      dispatch( CloseNotification() );\n  }\n\n  return (\n    <Router>\n    <Grid style={{ WebkitAppRegion : 'drag' }} container dicrection=\"column\" className={root} spacing={3}>\n        <Header searchRef={searchRef} />\n        <Grid item lg={12} sm={12} className={ContainerWrap}>\n            <Switch>\n                <Route exact path=\"/\">\n                    <Dashboard />\n                </Route>\n                <Route exact path=\"/products\" >\n                    <ProductsList />\n                </Route>\n                <Route exact path=\"/transaction\">\n                    <Transaction />\n                </Route>\n                <Route exact path=\"/transaction/success\">\n                    <SuccessPage />\n                </Route>\n                <Route exact path=\"/translist\">\n                    <TransactionList />\n                </Route>\n                <Route exact path=\"/transaction/delete/:id\">\n                    <TransactionDeleteModal />\n                </Route>\n                <Route exact path=\"/settings\" >\n                    <Settings />\n                </Route>\n            </Switch>\n            <Toast\n                handleCloseToast={handleClose}\n            />\n        </Grid>\n    </Grid>\n    </Router>\n  );\n}\n\nexport default withStyles(useStyles)(App);","import { createSlice } from '@reduxjs/toolkit';\r\nimport { createTransaction, deleteTransaction, findTransaction, getAllTransaction,getDocDef,updateTransaction } from './TransactionServices';\r\n\r\nconst transactionSlice = createSlice({\r\n    name : 'transactions',\r\n    initialState : {\r\n        entities : [],\r\n        pdf : [],\r\n        loading : false,\r\n        errors : null\r\n    },\r\n    reducers : {},\r\n    extraReducers : (builder)=>{\r\n        //FETCH ALL TRANSACTIONS\r\n        builder.addCase(getAllTransaction.pending,state=>{\r\n            state.loading = true;\r\n        })\r\n        .addCase(getAllTransaction.fulfilled,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.entities = payload;\r\n        })\r\n        .addCase(getAllTransaction.rejected,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.errors = payload;\r\n        })\r\n        //FIND TRANSACTION\r\n        .addCase(findTransaction.pending,state=>{\r\n            state.loading = true;\r\n        })\r\n        .addCase(findTransaction.fulfilled,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.entities = payload;\r\n        })\r\n        .addCase(findTransaction.rejected,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.errors = payload;\r\n        })\r\n        //GET DOCUMENT DEFINITION FOR PRINT\r\n        .addCase(getDocDef.pending,state=>{\r\n            state.loading = true;\r\n        })\r\n        .addCase(getDocDef.fulfilled,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.pdf = payload;\r\n        })\r\n        .addCase(getDocDef.rejected,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.errors = payload;\r\n        })\r\n        //CREATE TRANSACTION\r\n        .addCase(createTransaction.pending,state=>{\r\n            state.loading = true;\r\n        })\r\n        .addCase(createTransaction.fulfilled,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.entities[payload._id] = payload;\r\n        })\r\n        .addCase(createTransaction.rejected,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.errors = payload;\r\n        })\r\n        //UPDATE TRANSACTION\r\n        .addCase(updateTransaction.pending,state=>{\r\n            state.loading = true;\r\n        })\r\n        .addCase(updateTransaction.fulfilled,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.entities = payload;\r\n        })\r\n        .addCase(updateTransaction.rejected,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.errors = payload;\r\n        })\r\n        //DELETE TRANSACTION\r\n        .addCase(deleteTransaction.pending,state=>{\r\n            state.loading = true;\r\n        })\r\n        .addCase(deleteTransaction.fulfilled,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.entities = payload;\r\n        })\r\n        .addCase(deleteTransaction.rejected,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.errors = payload;\r\n        })\r\n    }\r\n});\r\n\r\nexport default transactionSlice.reducer;","import { createSlice } from '@reduxjs/toolkit';\r\nimport { CreateTransactionReport } from './ReportServices';\r\n\r\nconst ReportSlice = createSlice({\r\n    name : 'report',\r\n    initialState : {\r\n        doc : '',\r\n        loading : false,\r\n        error : ''\r\n    },\r\n    reducers : {},\r\n    extraReducers : builder =>{\r\n        builder.addCase( CreateTransactionReport.pending,state=>{\r\n            state.loading = true;\r\n        })\r\n        .addCase( CreateTransactionReport.fulfilled,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.doc = payload;\r\n        })\r\n        .addCase(CreateTransactionReport.rejected,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.error = payload;\r\n        })\r\n    }\r\n});\r\n\r\nexport default ReportSlice.reducer;","import { createSlice } from '@reduxjs/toolkit';\r\nimport { GetSettings, SetIPAddress } from './SettingsServices';\r\n\r\nconst SettingsSlice = createSlice({\r\n    name : 'settings',\r\n    initialState : {\r\n        entities : [],\r\n        loading : true,\r\n        error : ''\r\n    },\r\n    reducers : {},\r\n    extraReducers : builder=>{\r\n        //SET HOST IP ADDRESS\r\n        builder.addCase( SetIPAddress.pending,state=>{\r\n            state.loading = true;\r\n        })\r\n        .addCase(SetIPAddress.fulfilled,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.entities = payload;\r\n        })\r\n        .addCase(SetIPAddress.rejected,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.error = payload;\r\n        })\r\n        //GET SETTINGS\r\n        .addCase(GetSettings.pending,state=>{\r\n            state.loading = true;\r\n        })\r\n        .addCase(GetSettings.fulfilled,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.entities = payload;\r\n        })\r\n        .addCase(GetSettings.rejected,(state,{payload})=>{\r\n            state.loading = false;\r\n            state.error = payload;\r\n        })\r\n    }\r\n});\r\n\r\nexport default SettingsSlice.reducer;","import { configureStore } from '@reduxjs/toolkit';\r\nimport ProductReducers from '../../products/store/productSlice';\r\nimport CartReducer from '../../cart/store/CartSlice';\r\nimport NotificationReducer from './NotificationSlice';\r\nimport TransactionReducer from '../../transactions/store/TransactionSlice';\r\nimport ConnectionReducer from './ConnectionSlice';\r\nimport ReportReducer from './ReportSlice';\r\nimport SettingsReducer from '../../settings/store/SettingsSlice';\r\n\r\nexport default configureStore({\r\n    reducer : {\r\n        settings : SettingsReducer,\r\n        products : ProductReducers,\r\n        cart : CartReducer,\r\n        notifications : NotificationReducer,\r\n        transactions : TransactionReducer,\r\n        connection : ConnectionReducer,   \r\n        report : ReportReducer     \r\n    }\r\n});","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport store from './shared/store/MainStore';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n  <Provider store={store}>\n      <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}